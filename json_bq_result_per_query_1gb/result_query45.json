{ "configuration": { "jobType": "QUERY", "query": { "defaultDataset": { "datasetId": "call_center", "projectId": "test-project-364309" }, "destinationTable": { "datasetId": "_a0aa936c5cea243efb3c6dc011c66cfad39bfcb7", "projectId": "test-project-364309", "tableId": "anon12d33fb0_5d72_46d2_a241_40de50246a33" }, "priority": "INTERACTIVE", "query": "select ca_zip, ca_city, sum(ws_sales_price)\n from web_sales, customer, customer_address, date_dim, item\n where ws_bill_customer_sk = c_customer_sk\n \tand c_current_addr_sk = ca_address_sk \n \tand ws_item_sk = i_item_sk \n \tand ( substr(ca_zip,1,5) in ('85669', '86197','88274','83405','86475', '85392', '85460', '80348', '81792')\n \t or \n \t i_item_id in (select i_item_id\n from item\n where i_item_sk in (2, 3, 5, 7, 11, 13, 17, 19, 23, 29)\n )\n \t )\n \tand ws_sold_date_sk = d_date_sk\n \tand d_qoy = 2 and d_year = 2001\n group by ca_zip, ca_city\n order by ca_zip, ca_city\n limit 100\n ;", "useLegacySql": false, "useQueryCache": false, "writeDisposition": "WRITE_TRUNCATE" } }, "etag": "fdwlY7c50KO16MmSgmnFfA==", "id": "test-project-364309:europe-west1.query45_1665768359", "jobReference": { "jobId": "query45_1665768359", "location": "europe-west1", "projectId": "test-project-364309" }, "kind": "bigquery#job", "principal_subject": "user:jesuispotatos@gmail.com", "selfLink": "https://bigquery.googleapis.com/bigquery/v2/projects/test-project-364309/jobs/query45_1665768359?location=europe-west1", "statistics": { "creationTime": "1665768359715", "endTime": "1665768360736", "finalExecutionDurationMs": "782", "query": { "billingTier": 1, "cacheHit": false, "estimatedBytesProcessed": "33860770", "performanceInsights": { "avgPreviousExecutionMs": "696" }, "queryPlan": [ { "completedParallelInputs": "1", "computeMsAvg": "21", "computeMsMax": "21", "computeRatioAvg": 0.0498812351543943, "computeRatioMax": 0.0498812351543943, "endMs": "1665768359960", "id": "0", "name": "S00: Input", "parallelInputs": "1", "readMsAvg": "12", "readMsMax": "12", "readRatioAvg": 0.028503562945368172, "readRatioMax": 0.028503562945368172, "recordsRead": "18000", "recordsWritten": "10", "shuffleOutputBytes": "300", "shuffleOutputBytesSpilled": "0", "slotMs": "62", "startMs": "1665768359896", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$21:i_item_id, $20:i_item_sk", "FROM item", "WHERE in($20, 2, 3, 5, 7, 11, 13, 17, 19, 23, 29)" ] }, { "kind": "COMPUTE", "substeps": [ "$160 := 1" ] }, { "kind": "WRITE", "substeps": [ "$21, $160", "TO __stage00_output" ] } ], "waitMsAvg": "2", "waitMsMax": "2", "waitRatioAvg": 0.004750593824228029, "waitRatioMax": 0.004750593824228029, "writeMsAvg": "34", "writeMsMax": "34", "writeRatioAvg": 0.08076009501187649, "writeRatioMax": 0.08076009501187649 }, { "completedParallelInputs": "1", "computeMsAvg": "20", "computeMsMax": "20", "computeRatioAvg": 0.047505938242280284, "computeRatioMax": 0.047505938242280284, "endMs": "1665768359981", "id": "1", "name": "S01: Input", "parallelInputs": "1", "readMsAvg": "10", "readMsMax": "10", "readRatioAvg": 0.023752969121140142, "readRatioMax": 0.023752969121140142, "recordsRead": "18000", "recordsWritten": "18000", "shuffleOutputBytes": "540000", "shuffleOutputBytesSpilled": "0", "slotMs": "77", "startMs": "1665768359916", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$10:i_item_sk, $11:i_item_id", "FROM item" ] }, { "kind": "WRITE", "substeps": [ "$10, $11", "TO __stage01_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0023752969121140144, "waitRatioMax": 0.0023752969121140144, "writeMsAvg": "29", "writeMsMax": "29", "writeRatioAvg": 0.0688836104513064, "writeRatioMax": 0.0688836104513064 }, { "completedParallelInputs": "1", "computeMsAvg": "14", "computeMsMax": "14", "computeRatioAvg": 0.0332541567695962, "computeRatioMax": 0.0332541567695962, "endMs": "1665768359979", "id": "2", "name": "S02: Input", "parallelInputs": "1", "readMsAvg": "7", "readMsMax": "7", "readRatioAvg": 0.0166270783847981, "readRatioMax": 0.0166270783847981, "recordsRead": "73049", "recordsWritten": "91", "shuffleOutputBytes": "819", "shuffleOutputBytesSpilled": "0", "slotMs": "59", "startMs": "1665768359935", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$40:d_date_sk, $41:d_year, $42:d_qoy", "FROM date_dim", "WHERE and(equal($42, 2), equal($41, 2001))" ] }, { "kind": "WRITE", "substeps": [ "$40", "TO __stage02_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0023752969121140144, "waitRatioMax": 0.0023752969121140144, "writeMsAvg": "17", "writeMsMax": "17", "writeRatioAvg": 0.040380047505938245, "writeRatioMax": 0.040380047505938245 }, { "completedParallelInputs": "1", "computeMsAvg": "35", "computeMsMax": "35", "computeRatioAvg": 0.0831353919239905, "computeRatioMax": 0.0831353919239905, "endMs": "1665768359992", "id": "3", "name": "S03: Input", "parallelInputs": "1", "readMsAvg": "8", "readMsMax": "8", "readRatioAvg": 0.019002375296912115, "readRatioMax": 0.019002375296912115, "recordsRead": "50000", "recordsWritten": "50000", "shuffleOutputBytes": "1613638", "shuffleOutputBytesSpilled": "0", "slotMs": "60", "startMs": "1665768359950", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$30:ca_address_sk, $31:ca_city, $32:ca_zip", "FROM customer_address" ] }, { "kind": "WRITE", "substeps": [ "$30, $31, $32", "TO __stage03_output" ] } ], "waitMsAvg": "2", "waitMsMax": "2", "waitRatioAvg": 0.004750593824228029, "waitRatioMax": 0.004750593824228029, "writeMsAvg": "11", "writeMsMax": "11", "writeRatioAvg": 0.026128266033254157, "writeRatioMax": 0.026128266033254157 }, { "completedParallelInputs": "1", "computeMsAvg": "59", "computeMsMax": "59", "computeRatioAvg": 0.14014251781472684, "computeRatioMax": 0.14014251781472684, "endMs": "1665768360038", "id": "4", "name": "S04: Input", "parallelInputs": "1", "readMsAvg": "11", "readMsMax": "11", "readRatioAvg": 0.026128266033254157, "readRatioMax": 0.026128266033254157, "recordsRead": "100000", "recordsWritten": "100000", "shuffleOutputBytes": "1800000", "shuffleOutputBytesSpilled": "0", "slotMs": "401", "startMs": "1665768359970", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$60:c_customer_sk, $61:c_current_addr_sk", "FROM customer" ] }, { "kind": "WRITE", "substeps": [ "$60, $61", "TO __stage04_output" ] } ], "waitMsAvg": "2", "waitMsMax": "2", "waitRatioAvg": 0.004750593824228029, "waitRatioMax": 0.004750593824228029, "writeMsAvg": "16", "writeMsMax": "16", "writeRatioAvg": 0.03800475059382423, "writeRatioMax": 0.03800475059382423 }, { "completedParallelInputs": "1", "computeMsAvg": "9", "computeMsMax": "9", "computeRatioAvg": 0.021377672209026127, "computeRatioMax": 0.021377672209026127, "endMs": "1665768360018", "id": "6", "name": "S06: Input", "parallelInputs": "1", "readMsAvg": "6", "readMsMax": "6", "readRatioAvg": 0.014251781472684086, "readRatioMax": 0.014251781472684086, "recordsRead": "18000", "recordsWritten": "1", "shuffleOutputBytes": "9", "shuffleOutputBytesSpilled": "0", "slotMs": "21", "startMs": "1665768360000", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$2:i_item_id, $1:i_item_sk", "FROM item", "WHERE in($1, 2, 3, 5, 7, 11, 13, 17, 19, 23, 29)" ] }, { "kind": "AGGREGATE", "substeps": [ "$110 := SUM($130)" ] }, { "kind": "COMPUTE", "substeps": [ "$130 := if(is_null($2), 1, 0)" ] }, { "kind": "WRITE", "substeps": [ "$110", "TO __stage06_output" ] } ], "waitMsAvg": "12", "waitMsMax": "12", "waitRatioAvg": 0.028503562945368172, "waitRatioMax": 0.028503562945368172, "writeMsAvg": "1", "writeMsMax": "1", "writeRatioAvg": 0.0023752969121140144, "writeRatioMax": 0.0023752969121140144 }, { "completedParallelInputs": "1", "computeMsAvg": "8", "computeMsMax": "8", "computeRatioAvg": 0.019002375296912115, "computeRatioMax": 0.019002375296912115, "endMs": "1665768360040", "id": "7", "inputStages": [ "6" ], "name": "S07: Aggregate", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "1", "recordsWritten": "1", "shuffleOutputBytes": "9", "shuffleOutputBytesSpilled": "0", "slotMs": "46", "startMs": "1665768360000", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$110", "FROM __stage06_output" ] }, { "kind": "AGGREGATE", "substeps": [ "$90 := SUM($110)" ] }, { "kind": "WRITE", "substeps": [ "$90", "TO __stage07_output" ] } ], "waitMsAvg": "13", "waitMsMax": "13", "waitRatioAvg": 0.030878859857482184, "waitRatioMax": 0.030878859857482184, "writeMsAvg": "5", "writeMsMax": "5", "writeRatioAvg": 0.011876484560570071, "writeRatioMax": 0.011876484560570071 }, { "completedParallelInputs": "100", "computeMsAvg": "9", "computeMsMax": "17", "computeRatioAvg": 0.021377672209026127, "computeRatioMax": 0.040380047505938245, "endMs": "1665768360118", "id": "8", "inputStages": [ "0" ], "name": "S08: Coalesce", "parallelInputs": "100", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "10", "recordsWritten": "10", "shuffleOutputBytes": "300", "shuffleOutputBytesSpilled": "0", "slotMs": "5653", "startMs": "1665768360045", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "FROM __stage00_output" ] } ], "waitMsAvg": "2", "waitMsMax": "5", "waitRatioAvg": 0.004750593824228029, "waitRatioMax": 0.011876484560570071, "writeMsAvg": "24", "writeMsMax": "32", "writeRatioAvg": 0.057007125890736345, "writeRatioMax": 0.07600950118764846 }, { "completedParallelInputs": "1", "computeMsAvg": "421", "computeMsMax": "421", "computeRatioAvg": 1, "computeRatioMax": 1, "endMs": "1665768360401", "id": "9", "inputStages": [ "8", "3", "1", "4", "2" ], "name": "S09: Join+", "parallelInputs": "1", "readMsAvg": "12", "readMsMax": "12", "readRatioAvg": 0.028503562945368172, "readRatioMax": 0.028503562945368172, "recordsRead": "887485", "recordsWritten": "21362", "shuffleOutputBytes": "2086883", "shuffleOutputBytesSpilled": "0", "slotMs": "420", "startMs": "1665768360050", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$50:ws_sold_date_sk, $51:ws_item_sk, $52:ws_bill_customer_sk, $53:ws_sales_price", "FROM web_sales" ] }, { "kind": "READ", "substeps": [ "$60, $61", "FROM __stage04_output" ] }, { "kind": "READ", "substeps": [ "$30, $31, $32", "FROM __stage03_output" ] }, { "kind": "READ", "substeps": [ "$40", "FROM __stage02_output" ] }, { "kind": "READ", "substeps": [ "$10, $11", "FROM __stage01_output" ] }, { "kind": "READ", "substeps": [ "$21, $160", "FROM __stage08_output" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $230 := $224", "$120 := ANY_VALUE($140)", "$121 := ANY_VALUE($220)", "$122 := ANY_VALUE($221)", "$123 := ANY_VALUE($222)", "$124 := ANY_VALUE($223)" ] }, { "kind": "COMPUTE", "substeps": [ "$140 := not(is_null($225))" ] }, { "kind": "JOIN", "substeps": [ "$220 := $213, $221 := $210, $222 := $211, $223 := $212, $224 := $150, $225 := $160", "LEFT OUTER HASH JOIN EACH WITH ALL ON $213 = $21" ] }, { "kind": "COMPUTE", "substeps": [ "$150 := UNIQUE_ROW_ID()" ] }, { "kind": "JOIN", "substeps": [ "$210 := $200, $211 := $201, $212 := $203, $213 := $11", "INNER HASH JOIN EACH WITH ALL ON $202 = $10" ] }, { "kind": "JOIN", "substeps": [ "$200 := $183, $201 := $184, $202 := $181, $203 := $182", "INNER HASH JOIN EACH WITH ALL ON $180 = $40" ] }, { "kind": "JOIN", "substeps": [ "$180 := $170, $181 := $171, $182 := $172, $183 := $31, $184 := $32", "INNER HASH JOIN EACH WITH ALL ON $173 = $30" ] }, { "kind": "JOIN", "substeps": [ "$170 := $50, $171 := $51, $172 := $53, $173 := $61", "INNER HASH JOIN EACH WITH ALL ON $52 = $60" ] }, { "kind": "WRITE", "substeps": [ "$120, $121, $122, $123, $124, $230", "TO __stage09_output", "BY HASH($230)" ] } ], "waitMsAvg": "3", "waitMsMax": "3", "waitRatioAvg": 0.007125890736342043, "waitRatioMax": 0.007125890736342043, "writeMsAvg": "4", "writeMsMax": "4", "writeRatioAvg": 0.009501187648456057, "writeRatioMax": 0.009501187648456057 }, { "completedParallelInputs": "1", "computeMsAvg": "35", "computeMsMax": "35", "computeRatioAvg": 0.0831353919239905, "computeRatioMax": 0.0831353919239905, "endMs": "1665768360536", "id": "10", "inputStages": [ "9", "7" ], "name": "S0A: Aggregate+", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "21363", "recordsWritten": "19", "shuffleOutputBytes": "776", "shuffleOutputBytesSpilled": "0", "slotMs": "61", "startMs": "1665768360491", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$90", "FROM __stage07_output" ] }, { "kind": "READ", "substeps": [ "$120, $121, $122, $123, $124, $230", "FROM __stage09_output" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $250 := $103, $251 := $102", "$80 := SUM($104)" ] }, { "kind": "FILTER", "substeps": [ "or(in(substr($103, 1, 5), '85669', '86197', '88274', '83405', '86475', '85392', '85460', '80348', '81792'), ...)" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $240 := $230", "$100 := ANY_VALUE($120)", "$101 := ANY_VALUE($121)", "$102 := ANY_VALUE($122)", "$103 := ANY_VALUE($123)", "$104 := ANY_VALUE($124)" ] }, { "kind": "WRITE", "substeps": [ "$80, $251, $250", "TO __stage0A_output", "BY HASH($250, $251)" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0023752969121140144, "waitRatioMax": 0.0023752969121140144, "writeMsAvg": "8", "writeMsMax": "8", "writeRatioAvg": 0.019002375296912115, "writeRatioMax": 0.019002375296912115 }, { "completedParallelInputs": "1", "computeMsAvg": "9", "computeMsMax": "9", "computeRatioAvg": 0.021377672209026127, "computeRatioMax": 0.021377672209026127, "endMs": "1665768360582", "id": "11", "inputStages": [ "10" ], "name": "S0B: Sort+", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "19", "recordsWritten": "19", "shuffleOutputBytes": "776", "shuffleOutputBytesSpilled": "0", "slotMs": "44", "startMs": "1665768360544", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$80, $251, $250", "FROM __stage0A_output" ] }, { "kind": "SORT", "substeps": [ "$260 ASC, $261 ASC", "LIMIT 100" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $260 := $250, $261 := $251", "$70 := SUM($80)" ] }, { "kind": "WRITE", "substeps": [ "$270, $271, $272", "TO __stage0B_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0023752969121140144, "waitRatioMax": 0.0023752969121140144, "writeMsAvg": "27", "writeMsMax": "27", "writeRatioAvg": 0.06413301662707839, "writeRatioMax": 0.06413301662707839 }, { "completedParallelInputs": "1", "computeMsAvg": "18", "computeMsMax": "18", "computeRatioAvg": 0.04275534441805225, "computeRatioMax": 0.04275534441805225, "endMs": "1665768360631", "id": "12", "inputStages": [ "11" ], "name": "S0C: Output", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "19", "recordsWritten": "19", "shuffleOutputBytes": "776", "shuffleOutputBytesSpilled": "0", "slotMs": "79", "startMs": "1665768360561", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$270, $271, $272", "FROM __stage0B_output" ] }, { "kind": "SORT", "substeps": [ "$272 ASC, $271 ASC", "LIMIT 100" ] }, { "kind": "WRITE", "substeps": [ "$280, $281, $282", "TO __stage0C_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0023752969121140144, "waitRatioMax": 0.0023752969121140144, "writeMsAvg": "40", "writeMsMax": "40", "writeRatioAvg": 0.09501187648456057, "writeRatioMax": 0.09501187648456057 } ], "referencedTables": [ { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "customer_address" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "date_dim" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "item" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "customer" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "web_sales" } ], "statementType": "SELECT", "timeline": [ { "activeUnits": "1", "completedUnits": "107", "elapsedMs": "616", "estimatedRunnableUnits": "0", "pendingUnits": "1", "totalSlotMs": "6383" }, { "activeUnits": "1", "completedUnits": "111", "elapsedMs": "892", "estimatedRunnableUnits": "0", "pendingUnits": "0", "totalSlotMs": "6989" } ], "totalBytesBilled": "52428800", "totalBytesProcessed": "33860770", "totalPartitionsProcessed": "0", "totalSlotMs": "6989", "transferredBytes": "0" }, "startTime": "1665768359781", "totalBytesProcessed": "33860770", "totalSlotMs": "6989" }, "status": { "state": "DONE" }, "user_email": "jesuispotatos@gmail.com" }
{ "configuration": { "jobType": "QUERY", "query": { "defaultDataset": { "datasetId": "call_center", "projectId": "test-project-364309" }, "destinationTable": { "datasetId": "_a0aa936c5cea243efb3c6dc011c66cfad39bfcb7", "projectId": "test-project-364309", "tableId": "anon0e41501f_b554_4577_b2fd_a40e46726136" }, "priority": "INTERACTIVE", "query": "select ca_zip, ca_city, sum(ws_sales_price)\n from web_sales, customer, customer_address, date_dim, item\n where ws_bill_customer_sk = c_customer_sk\n \tand c_current_addr_sk = ca_address_sk \n \tand ws_item_sk = i_item_sk \n \tand ( substr(ca_zip,1,5) in ('85669', '86197','88274','83405','86475', '85392', '85460', '80348', '81792')\n \t or \n \t i_item_id in (select i_item_id\n from item\n where i_item_sk in (2, 3, 5, 7, 11, 13, 17, 19, 23, 29)\n )\n \t )\n \tand ws_sold_date_sk = d_date_sk\n \tand d_qoy = 2 and d_year = 2001\n group by ca_zip, ca_city\n order by ca_zip, ca_city\n limit 100\n ;", "useLegacySql": false, "useQueryCache": false, "writeDisposition": "WRITE_TRUNCATE" } }, "etag": "NPGizQDQsSQNz4SUMLaviA==", "id": "test-project-364309:europe-west1.query45_1665777488", "jobReference": { "jobId": "query45_1665777488", "location": "europe-west1", "projectId": "test-project-364309" }, "kind": "bigquery#job", "principal_subject": "user:jesuispotatos@gmail.com", "selfLink": "https://bigquery.googleapis.com/bigquery/v2/projects/test-project-364309/jobs/query45_1665777488?location=europe-west1", "statistics": { "creationTime": "1665777489275", "endTime": "1665777490180", "finalExecutionDurationMs": "666", "query": { "billingTier": 1, "cacheHit": false, "estimatedBytesProcessed": "33860770", "performanceInsights": { "avgPreviousExecutionMs": "725" }, "queryPlan": [ { "completedParallelInputs": "1", "computeMsAvg": "16", "computeMsMax": "16", "computeRatioAvg": 0.03065134099616858, "computeRatioMax": 0.03065134099616858, "endMs": "1665777489489", "id": "0", "name": "S00: Input", "parallelInputs": "1", "readMsAvg": "8", "readMsMax": "8", "readRatioAvg": 0.01532567049808429, "readRatioMax": 0.01532567049808429, "recordsRead": "18000", "recordsWritten": "10", "shuffleOutputBytes": "300", "shuffleOutputBytesSpilled": "0", "slotMs": "38", "startMs": "1665777489448", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$21:i_item_id, $20:i_item_sk", "FROM item", "WHERE in($20, 2, 3, 5, 7, 11, 13, 17, 19, 23, 29)" ] }, { "kind": "COMPUTE", "substeps": [ "$160 := 1" ] }, { "kind": "WRITE", "substeps": [ "$21, $160", "TO __stage00_output" ] } ], "waitMsAvg": "2", "waitMsMax": "2", "waitRatioAvg": 0.0038314176245210726, "waitRatioMax": 0.0038314176245210726, "writeMsAvg": "22", "writeMsMax": "22", "writeRatioAvg": 0.0421455938697318, "writeRatioMax": 0.0421455938697318 }, { "completedParallelInputs": "1", "computeMsAvg": "22", "computeMsMax": "22", "computeRatioAvg": 0.0421455938697318, "computeRatioMax": 0.0421455938697318, "endMs": "1665777489512", "id": "1", "name": "S01: Input", "parallelInputs": "1", "readMsAvg": "10", "readMsMax": "10", "readRatioAvg": 0.019157088122605363, "readRatioMax": 0.019157088122605363, "recordsRead": "18000", "recordsWritten": "18000", "shuffleOutputBytes": "540000", "shuffleOutputBytesSpilled": "0", "slotMs": "49", "startMs": "1665777489462", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$10:i_item_sk, $11:i_item_id", "FROM item" ] }, { "kind": "WRITE", "substeps": [ "$10, $11", "TO __stage01_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0019157088122605363, "waitRatioMax": 0.0019157088122605363, "writeMsAvg": "23", "writeMsMax": "23", "writeRatioAvg": 0.044061302681992334, "writeRatioMax": 0.044061302681992334 }, { "completedParallelInputs": "1", "computeMsAvg": "11", "computeMsMax": "11", "computeRatioAvg": 0.0210727969348659, "computeRatioMax": 0.0210727969348659, "endMs": "1665777489513", "id": "2", "name": "S02: Input", "parallelInputs": "1", "readMsAvg": "6", "readMsMax": "6", "readRatioAvg": 0.011494252873563218, "readRatioMax": 0.011494252873563218, "recordsRead": "73049", "recordsWritten": "91", "shuffleOutputBytes": "819", "shuffleOutputBytesSpilled": "0", "slotMs": "33", "startMs": "1665777489476", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$40:d_date_sk, $41:d_year, $42:d_qoy", "FROM date_dim", "WHERE and(equal($42, 2), equal($41, 2001))" ] }, { "kind": "WRITE", "substeps": [ "$40", "TO __stage02_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0019157088122605363, "waitRatioMax": 0.0019157088122605363, "writeMsAvg": "13", "writeMsMax": "13", "writeRatioAvg": 0.02490421455938697, "writeRatioMax": 0.02490421455938697 }, { "completedParallelInputs": "1", "computeMsAvg": "43", "computeMsMax": "43", "computeRatioAvg": 0.08237547892720307, "computeRatioMax": 0.08237547892720307, "endMs": "1665777489526", "id": "3", "name": "S03: Input", "parallelInputs": "1", "readMsAvg": "7", "readMsMax": "7", "readRatioAvg": 0.013409961685823755, "readRatioMax": 0.013409961685823755, "recordsRead": "50000", "recordsWritten": "50000", "shuffleOutputBytes": "1613638", "shuffleOutputBytesSpilled": "0", "slotMs": "52", "startMs": "1665777489491", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$30:ca_address_sk, $31:ca_city, $32:ca_zip", "FROM customer_address" ] }, { "kind": "WRITE", "substeps": [ "$30, $31, $32", "TO __stage03_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0019157088122605363, "waitRatioMax": 0.0019157088122605363, "writeMsAvg": "10", "writeMsMax": "10", "writeRatioAvg": 0.019157088122605363, "writeRatioMax": 0.019157088122605363 }, { "completedParallelInputs": "1", "computeMsAvg": "47", "computeMsMax": "47", "computeRatioAvg": 0.09003831417624521, "computeRatioMax": 0.09003831417624521, "endMs": "1665777489554", "id": "4", "name": "S04: Input", "parallelInputs": "1", "readMsAvg": "9", "readMsMax": "9", "readRatioAvg": 0.017241379310344827, "readRatioMax": 0.017241379310344827, "recordsRead": "100000", "recordsWritten": "100000", "shuffleOutputBytes": "1800000", "shuffleOutputBytesSpilled": "0", "slotMs": "53", "startMs": "1665777489507", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$60:c_customer_sk, $61:c_current_addr_sk", "FROM customer" ] }, { "kind": "WRITE", "substeps": [ "$60, $61", "TO __stage04_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0019157088122605363, "waitRatioMax": 0.0019157088122605363, "writeMsAvg": "11", "writeMsMax": "11", "writeRatioAvg": 0.0210727969348659, "writeRatioMax": 0.0210727969348659 }, { "completedParallelInputs": "1", "computeMsAvg": "13", "computeMsMax": "13", "computeRatioAvg": 0.02490421455938697, "computeRatioMax": 0.02490421455938697, "endMs": "1665777489542", "id": "6", "name": "S06: Input", "parallelInputs": "1", "readMsAvg": "7", "readMsMax": "7", "readRatioAvg": 0.013409961685823755, "readRatioMax": 0.013409961685823755, "recordsRead": "18000", "recordsWritten": "1", "shuffleOutputBytes": "9", "shuffleOutputBytesSpilled": "0", "slotMs": "18", "startMs": "1665777489524", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$2:i_item_id, $1:i_item_sk", "FROM item", "WHERE in($1, 2, 3, 5, 7, 11, 13, 17, 19, 23, 29)" ] }, { "kind": "AGGREGATE", "substeps": [ "$110 := SUM($130)" ] }, { "kind": "COMPUTE", "substeps": [ "$130 := if(is_null($2), 1, 0)" ] }, { "kind": "WRITE", "substeps": [ "$110", "TO __stage06_output" ] } ], "waitMsAvg": "2", "waitMsMax": "2", "waitRatioAvg": 0.0038314176245210726, "waitRatioMax": 0.0038314176245210726, "writeMsAvg": "1", "writeMsMax": "1", "writeRatioAvg": 0.0019157088122605363, "writeRatioMax": 0.0019157088122605363 }, { "completedParallelInputs": "1", "computeMsAvg": "8", "computeMsMax": "8", "computeRatioAvg": 0.01532567049808429, "computeRatioMax": 0.01532567049808429, "endMs": "1665777489562", "id": "7", "inputStages": [ "6" ], "name": "S07: Aggregate", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "1", "recordsWritten": "1", "shuffleOutputBytes": "9", "shuffleOutputBytesSpilled": "0", "slotMs": "28", "startMs": "1665777489524", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$110", "FROM __stage06_output" ] }, { "kind": "AGGREGATE", "substeps": [ "$90 := SUM($110)" ] }, { "kind": "WRITE", "substeps": [ "$90", "TO __stage07_output" ] } ], "waitMsAvg": "2", "waitMsMax": "2", "waitRatioAvg": 0.0038314176245210726, "waitRatioMax": 0.0038314176245210726, "writeMsAvg": "16", "writeMsMax": "16", "writeRatioAvg": 0.03065134099616858, "writeRatioMax": 0.03065134099616858 }, { "completedParallelInputs": "100", "computeMsAvg": "9", "computeMsMax": "16", "computeRatioAvg": 0.017241379310344827, "computeRatioMax": 0.03065134099616858, "endMs": "1665777489624", "id": "8", "inputStages": [ "0" ], "name": "S08: Coalesce", "parallelInputs": "100", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "10", "recordsWritten": "10", "shuffleOutputBytes": "300", "shuffleOutputBytesSpilled": "0", "slotMs": "4163", "startMs": "1665777489563", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "FROM __stage00_output" ] } ], "waitMsAvg": "5", "waitMsMax": "7", "waitRatioAvg": 0.009578544061302681, "waitRatioMax": 0.013409961685823755, "writeMsAvg": "27", "writeMsMax": "34", "writeRatioAvg": 0.05172413793103448, "writeRatioMax": 0.06513409961685823 }, { "completedParallelInputs": "1", "computeMsAvg": "522", "computeMsMax": "522", "computeRatioAvg": 1, "computeRatioMax": 1, "endMs": "1665777489940", "id": "9", "inputStages": [ "1", "4", "8", "3", "2" ], "name": "S09: Join+", "parallelInputs": "1", "readMsAvg": "20", "readMsMax": "20", "readRatioAvg": 0.038314176245210725, "readRatioMax": 0.038314176245210725, "recordsRead": "887485", "recordsWritten": "21362", "shuffleOutputBytes": "2086883", "shuffleOutputBytesSpilled": "0", "slotMs": "458", "startMs": "1665777489568", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$50:ws_sold_date_sk, $51:ws_item_sk, $52:ws_bill_customer_sk, $53:ws_sales_price", "FROM web_sales" ] }, { "kind": "READ", "substeps": [ "$60, $61", "FROM __stage04_output" ] }, { "kind": "READ", "substeps": [ "$30, $31, $32", "FROM __stage03_output" ] }, { "kind": "READ", "substeps": [ "$40", "FROM __stage02_output" ] }, { "kind": "READ", "substeps": [ "$10, $11", "FROM __stage01_output" ] }, { "kind": "READ", "substeps": [ "$21, $160", "FROM __stage08_output" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $230 := $224", "$120 := ANY_VALUE($140)", "$121 := ANY_VALUE($220)", "$122 := ANY_VALUE($221)", "$123 := ANY_VALUE($222)", "$124 := ANY_VALUE($223)" ] }, { "kind": "COMPUTE", "substeps": [ "$140 := not(is_null($225))" ] }, { "kind": "JOIN", "substeps": [ "$220 := $213, $221 := $210, $222 := $211, $223 := $212, $224 := $150, $225 := $160", "LEFT OUTER HASH JOIN EACH WITH ALL ON $213 = $21" ] }, { "kind": "COMPUTE", "substeps": [ "$150 := UNIQUE_ROW_ID()" ] }, { "kind": "JOIN", "substeps": [ "$210 := $200, $211 := $201, $212 := $203, $213 := $11", "INNER HASH JOIN EACH WITH ALL ON $202 = $10" ] }, { "kind": "JOIN", "substeps": [ "$200 := $183, $201 := $184, $202 := $181, $203 := $182", "INNER HASH JOIN EACH WITH ALL ON $180 = $40" ] }, { "kind": "JOIN", "substeps": [ "$180 := $170, $181 := $171, $182 := $172, $183 := $31, $184 := $32", "INNER HASH JOIN EACH WITH ALL ON $173 = $30" ] }, { "kind": "JOIN", "substeps": [ "$170 := $50, $171 := $51, $172 := $53, $173 := $61", "INNER HASH JOIN EACH WITH ALL ON $52 = $60" ] }, { "kind": "WRITE", "substeps": [ "$120, $121, $122, $123, $124, $230", "TO __stage09_output", "BY HASH($230)" ] } ], "waitMsAvg": "3", "waitMsMax": "3", "waitRatioAvg": 0.005747126436781609, "waitRatioMax": 0.005747126436781609, "writeMsAvg": "5", "writeMsMax": "5", "writeRatioAvg": 0.009578544061302681, "writeRatioMax": 0.009578544061302681 }, { "completedParallelInputs": "1", "computeMsAvg": "42", "computeMsMax": "42", "computeRatioAvg": 0.08045977011494253, "computeRatioMax": 0.08045977011494253, "endMs": "1665777490021", "id": "10", "inputStages": [ "9", "7" ], "name": "S0A: Aggregate+", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "21363", "recordsWritten": "19", "shuffleOutputBytes": "776", "shuffleOutputBytesSpilled": "0", "slotMs": "52", "startMs": "1665777489977", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$90", "FROM __stage07_output" ] }, { "kind": "READ", "substeps": [ "$120, $121, $122, $123, $124, $230", "FROM __stage09_output" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $250 := $103, $251 := $102", "$80 := SUM($104)" ] }, { "kind": "FILTER", "substeps": [ "or(in(substr($103, 1, 5), '85669', '86197', '88274', '83405', '86475', '85392', '85460', '80348', '81792'), ...)" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $240 := $230", "$100 := ANY_VALUE($120)", "$101 := ANY_VALUE($121)", "$102 := ANY_VALUE($122)", "$103 := ANY_VALUE($123)", "$104 := ANY_VALUE($124)" ] }, { "kind": "WRITE", "substeps": [ "$80, $251, $250", "TO __stage0A_output", "BY HASH($250, $251)" ] } ], "waitMsAvg": "2", "waitMsMax": "2", "waitRatioAvg": 0.0038314176245210726, "waitRatioMax": 0.0038314176245210726, "writeMsAvg": "5", "writeMsMax": "5", "writeRatioAvg": 0.009578544061302681, "writeRatioMax": 0.009578544061302681 }, { "completedParallelInputs": "1", "computeMsAvg": "8", "computeMsMax": "8", "computeRatioAvg": 0.01532567049808429, "computeRatioMax": 0.01532567049808429, "endMs": "1665777490065", "id": "11", "inputStages": [ "10" ], "name": "S0B: Sort+", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "19", "recordsWritten": "19", "shuffleOutputBytes": "776", "shuffleOutputBytesSpilled": "0", "slotMs": "28", "startMs": "1665777490029", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$80, $251, $250", "FROM __stage0A_output" ] }, { "kind": "SORT", "substeps": [ "$260 ASC, $261 ASC", "LIMIT 100" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $260 := $250, $261 := $251", "$70 := SUM($80)" ] }, { "kind": "WRITE", "substeps": [ "$270, $271, $272", "TO __stage0B_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0019157088122605363, "waitRatioMax": 0.0019157088122605363, "writeMsAvg": "26", "writeMsMax": "26", "writeRatioAvg": 0.04980842911877394, "writeRatioMax": 0.04980842911877394 }, { "completedParallelInputs": "1", "computeMsAvg": "11", "computeMsMax": "11", "computeRatioAvg": 0.0210727969348659, "computeRatioMax": 0.0210727969348659, "endMs": "1665777490081", "id": "12", "inputStages": [ "11" ], "name": "S0C: Output", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "19", "recordsWritten": "19", "shuffleOutputBytes": "776", "shuffleOutputBytesSpilled": "0", "slotMs": "30", "startMs": "1665777490049", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$270, $271, $272", "FROM __stage0B_output" ] }, { "kind": "SORT", "substeps": [ "$272 ASC, $271 ASC", "LIMIT 100" ] }, { "kind": "WRITE", "substeps": [ "$280, $281, $282", "TO __stage0C_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0019157088122605363, "waitRatioMax": 0.0019157088122605363, "writeMsAvg": "6", "writeMsMax": "6", "writeRatioAvg": 0.011494252873563218, "writeRatioMax": 0.011494252873563218 } ], "referencedTables": [ { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "customer_address" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "item" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "web_sales" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "customer" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "date_dim" } ], "statementType": "SELECT", "timeline": [ { "activeUnits": "0", "completedUnits": "108", "elapsedMs": "602", "estimatedRunnableUnits": "0", "pendingUnits": "0", "totalSlotMs": "4894" }, { "activeUnits": "0", "completedUnits": "111", "elapsedMs": "771", "estimatedRunnableUnits": "0", "pendingUnits": "0", "totalSlotMs": "5006" } ], "totalBytesBilled": "52428800", "totalBytesProcessed": "33860770", "totalPartitionsProcessed": "0", "totalSlotMs": "5006", "transferredBytes": "0" }, "startTime": "1665777489347", "totalBytesProcessed": "33860770", "totalSlotMs": "5006" }, "status": { "state": "DONE" }, "user_email": "jesuispotatos@gmail.com" }
{ "configuration": { "jobType": "QUERY", "query": { "defaultDataset": { "datasetId": "call_center", "projectId": "test-project-364309" }, "destinationTable": { "datasetId": "_a0aa936c5cea243efb3c6dc011c66cfad39bfcb7", "projectId": "test-project-364309", "tableId": "anond8cc46a8_bc36_4330_98ee_a2977aace7ea" }, "priority": "INTERACTIVE", "query": "select ca_zip, ca_city, sum(ws_sales_price)\n from web_sales, customer, customer_address, date_dim, item\n where ws_bill_customer_sk = c_customer_sk\n \tand c_current_addr_sk = ca_address_sk \n \tand ws_item_sk = i_item_sk \n \tand ( substr(ca_zip,1,5) in ('85669', '86197','88274','83405','86475', '85392', '85460', '80348', '81792')\n \t or \n \t i_item_id in (select i_item_id\n from item\n where i_item_sk in (2, 3, 5, 7, 11, 13, 17, 19, 23, 29)\n )\n \t )\n \tand ws_sold_date_sk = d_date_sk\n \tand d_qoy = 2 and d_year = 2001\n group by ca_zip, ca_city\n order by ca_zip, ca_city\n limit 100\n ;", "useLegacySql": false, "useQueryCache": false, "writeDisposition": "WRITE_TRUNCATE" } }, "etag": "JPeU9fBSFQPCuH7a6MSbhA==", "id": "test-project-364309:europe-west1.query45_1665777491", "jobReference": { "jobId": "query45_1665777491", "location": "europe-west1", "projectId": "test-project-364309" }, "kind": "bigquery#job", "principal_subject": "user:jesuispotatos@gmail.com", "selfLink": "https://bigquery.googleapis.com/bigquery/v2/projects/test-project-364309/jobs/query45_1665777491?location=europe-west1", "statistics": { "creationTime": "1665777492010", "endTime": "1665777492824", "finalExecutionDurationMs": "615", "query": { "billingTier": 1, "cacheHit": false, "estimatedBytesProcessed": "33860770", "performanceInsights": { "avgPreviousExecutionMs": "710" }, "queryPlan": [ { "completedParallelInputs": "1", "computeMsAvg": "13", "computeMsMax": "13", "computeRatioAvg": 0.021702838063439065, "computeRatioMax": 0.021702838063439065, "endMs": "1665777492226", "id": "0", "name": "S00: Input", "parallelInputs": "1", "readMsAvg": "6", "readMsMax": "6", "readRatioAvg": 0.01001669449081803, "readRatioMax": 0.01001669449081803, "recordsRead": "18000", "recordsWritten": "10", "shuffleOutputBytes": "300", "shuffleOutputBytesSpilled": "0", "slotMs": "54", "startMs": "1665777492173", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$21:i_item_id, $20:i_item_sk", "FROM item", "WHERE in($20, 2, 3, 5, 7, 11, 13, 17, 19, 23, 29)" ] }, { "kind": "COMPUTE", "substeps": [ "$160 := 1" ] }, { "kind": "WRITE", "substeps": [ "$21, $160", "TO __stage00_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.001669449081803005, "waitRatioMax": 0.001669449081803005, "writeMsAvg": "37", "writeMsMax": "37", "writeRatioAvg": 0.06176961602671119, "writeRatioMax": 0.06176961602671119 }, { "completedParallelInputs": "1", "computeMsAvg": "19", "computeMsMax": "19", "computeRatioAvg": 0.03171953255425709, "computeRatioMax": 0.03171953255425709, "endMs": "1665777492238", "id": "1", "name": "S01: Input", "parallelInputs": "1", "readMsAvg": "5", "readMsMax": "5", "readRatioAvg": 0.008347245409015025, "readRatioMax": 0.008347245409015025, "recordsRead": "18000", "recordsWritten": "18000", "shuffleOutputBytes": "540000", "shuffleOutputBytesSpilled": "0", "slotMs": "50", "startMs": "1665777492187", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$10:i_item_sk, $11:i_item_id", "FROM item" ] }, { "kind": "WRITE", "substeps": [ "$10, $11", "TO __stage01_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.001669449081803005, "waitRatioMax": 0.001669449081803005, "writeMsAvg": "25", "writeMsMax": "25", "writeRatioAvg": 0.041736227045075125, "writeRatioMax": 0.041736227045075125 }, { "completedParallelInputs": "1", "computeMsAvg": "7", "computeMsMax": "7", "computeRatioAvg": 0.011686143572621035, "computeRatioMax": 0.011686143572621035, "endMs": "1665777492250", "id": "2", "name": "S02: Input", "parallelInputs": "1", "readMsAvg": "5", "readMsMax": "5", "readRatioAvg": 0.008347245409015025, "readRatioMax": 0.008347245409015025, "recordsRead": "73049", "recordsWritten": "91", "shuffleOutputBytes": "819", "shuffleOutputBytesSpilled": "0", "slotMs": "38", "startMs": "1665777492202", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$40:d_date_sk, $41:d_year, $42:d_qoy", "FROM date_dim", "WHERE and(equal($42, 2), equal($41, 2001))" ] }, { "kind": "WRITE", "substeps": [ "$40", "TO __stage02_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.001669449081803005, "waitRatioMax": 0.001669449081803005, "writeMsAvg": "25", "writeMsMax": "25", "writeRatioAvg": 0.041736227045075125, "writeRatioMax": 0.041736227045075125 }, { "completedParallelInputs": "1", "computeMsAvg": "49", "computeMsMax": "49", "computeRatioAvg": 0.08180300500834725, "computeRatioMax": 0.08180300500834725, "endMs": "1665777492262", "id": "3", "name": "S03: Input", "parallelInputs": "1", "readMsAvg": "6", "readMsMax": "6", "readRatioAvg": 0.01001669449081803, "readRatioMax": 0.01001669449081803, "recordsRead": "50000", "recordsWritten": "50000", "shuffleOutputBytes": "1613638", "shuffleOutputBytesSpilled": "0", "slotMs": "43", "startMs": "1665777492218", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$30:ca_address_sk, $31:ca_city, $32:ca_zip", "FROM customer_address" ] }, { "kind": "WRITE", "substeps": [ "$30, $31, $32", "TO __stage03_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.001669449081803005, "waitRatioMax": 0.001669449081803005, "writeMsAvg": "10", "writeMsMax": "10", "writeRatioAvg": 0.01669449081803005, "writeRatioMax": 0.01669449081803005 }, { "completedParallelInputs": "1", "computeMsAvg": "40", "computeMsMax": "40", "computeRatioAvg": 0.0667779632721202, "computeRatioMax": 0.0667779632721202, "endMs": "1665777492274", "id": "4", "name": "S04: Input", "parallelInputs": "1", "readMsAvg": "6", "readMsMax": "6", "readRatioAvg": 0.01001669449081803, "readRatioMax": 0.01001669449081803, "recordsRead": "100000", "recordsWritten": "100000", "shuffleOutputBytes": "1800000", "shuffleOutputBytesSpilled": "0", "slotMs": "45", "startMs": "1665777492233", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$60:c_customer_sk, $61:c_current_addr_sk", "FROM customer" ] }, { "kind": "WRITE", "substeps": [ "$60, $61", "TO __stage04_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.001669449081803005, "waitRatioMax": 0.001669449081803005, "writeMsAvg": "10", "writeMsMax": "10", "writeRatioAvg": 0.01669449081803005, "writeRatioMax": 0.01669449081803005 }, { "completedParallelInputs": "1", "computeMsAvg": "6", "computeMsMax": "6", "computeRatioAvg": 0.01001669449081803, "computeRatioMax": 0.01001669449081803, "endMs": "1665777492262", "id": "6", "name": "S06: Input", "parallelInputs": "1", "readMsAvg": "4", "readMsMax": "4", "readRatioAvg": 0.00667779632721202, "readRatioMax": 0.00667779632721202, "recordsRead": "18000", "recordsWritten": "1", "shuffleOutputBytes": "9", "shuffleOutputBytesSpilled": "0", "slotMs": "11", "startMs": "1665777492251", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$2:i_item_id, $1:i_item_sk", "FROM item", "WHERE in($1, 2, 3, 5, 7, 11, 13, 17, 19, 23, 29)" ] }, { "kind": "AGGREGATE", "substeps": [ "$110 := SUM($130)" ] }, { "kind": "COMPUTE", "substeps": [ "$130 := if(is_null($2), 1, 0)" ] }, { "kind": "WRITE", "substeps": [ "$110", "TO __stage06_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.001669449081803005, "waitRatioMax": 0.001669449081803005, "writeMsAvg": "1", "writeMsMax": "1", "writeRatioAvg": 0.001669449081803005, "writeRatioMax": 0.001669449081803005 }, { "completedParallelInputs": "1", "computeMsAvg": "7", "computeMsMax": "7", "computeRatioAvg": 0.011686143572621035, "computeRatioMax": 0.011686143572621035, "endMs": "1665777492287", "id": "7", "inputStages": [ "6" ], "name": "S07: Aggregate", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "1", "recordsWritten": "1", "shuffleOutputBytes": "9", "shuffleOutputBytesSpilled": "0", "slotMs": "31", "startMs": "1665777492251", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$110", "FROM __stage06_output" ] }, { "kind": "AGGREGATE", "substeps": [ "$90 := SUM($110)" ] }, { "kind": "WRITE", "substeps": [ "$90", "TO __stage07_output" ] } ], "waitMsAvg": "2", "waitMsMax": "2", "waitRatioAvg": 0.00333889816360601, "waitRatioMax": 0.00333889816360601, "writeMsAvg": "3", "writeMsMax": "3", "writeRatioAvg": 0.005008347245409015, "writeRatioMax": 0.005008347245409015 }, { "completedParallelInputs": "100", "computeMsAvg": "8", "computeMsMax": "18", "computeRatioAvg": 0.01335559265442404, "computeRatioMax": 0.03005008347245409, "endMs": "1665777492337", "id": "8", "inputStages": [ "0" ], "name": "S08: Coalesce", "parallelInputs": "100", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "10", "recordsWritten": "10", "shuffleOutputBytes": "300", "shuffleOutputBytesSpilled": "0", "slotMs": "3403", "startMs": "1665777492280", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "FROM __stage00_output" ] } ], "waitMsAvg": "2", "waitMsMax": "3", "waitRatioAvg": 0.00333889816360601, "waitRatioMax": 0.005008347245409015, "writeMsAvg": "17", "writeMsMax": "31", "writeRatioAvg": 0.028380634390651086, "writeRatioMax": 0.05175292153589316 }, { "completedParallelInputs": "1", "computeMsAvg": "599", "computeMsMax": "599", "computeRatioAvg": 1, "computeRatioMax": 1, "endMs": "1665777492583", "id": "9", "inputStages": [ "8", "3", "4", "2", "1" ], "name": "S09: Join+", "parallelInputs": "1", "readMsAvg": "15", "readMsMax": "15", "readRatioAvg": 0.025041736227045076, "readRatioMax": 0.025041736227045076, "recordsRead": "887485", "recordsWritten": "21362", "shuffleOutputBytes": "2086883", "shuffleOutputBytesSpilled": "0", "slotMs": "473", "startMs": "1665777492286", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$50:ws_sold_date_sk, $51:ws_item_sk, $52:ws_bill_customer_sk, $53:ws_sales_price", "FROM web_sales" ] }, { "kind": "READ", "substeps": [ "$60, $61", "FROM __stage04_output" ] }, { "kind": "READ", "substeps": [ "$30, $31, $32", "FROM __stage03_output" ] }, { "kind": "READ", "substeps": [ "$40", "FROM __stage02_output" ] }, { "kind": "READ", "substeps": [ "$10, $11", "FROM __stage01_output" ] }, { "kind": "READ", "substeps": [ "$21, $160", "FROM __stage08_output" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $230 := $224", "$120 := ANY_VALUE($140)", "$121 := ANY_VALUE($220)", "$122 := ANY_VALUE($221)", "$123 := ANY_VALUE($222)", "$124 := ANY_VALUE($223)" ] }, { "kind": "COMPUTE", "substeps": [ "$140 := not(is_null($225))" ] }, { "kind": "JOIN", "substeps": [ "$220 := $213, $221 := $210, $222 := $211, $223 := $212, $224 := $150, $225 := $160", "LEFT OUTER HASH JOIN EACH WITH ALL ON $213 = $21" ] }, { "kind": "COMPUTE", "substeps": [ "$150 := UNIQUE_ROW_ID()" ] }, { "kind": "JOIN", "substeps": [ "$210 := $200, $211 := $201, $212 := $203, $213 := $11", "INNER HASH JOIN EACH WITH ALL ON $202 = $10" ] }, { "kind": "JOIN", "substeps": [ "$200 := $183, $201 := $184, $202 := $181, $203 := $182", "INNER HASH JOIN EACH WITH ALL ON $180 = $40" ] }, { "kind": "JOIN", "substeps": [ "$180 := $170, $181 := $171, $182 := $172, $183 := $31, $184 := $32", "INNER HASH JOIN EACH WITH ALL ON $173 = $30" ] }, { "kind": "JOIN", "substeps": [ "$170 := $50, $171 := $51, $172 := $53, $173 := $61", "INNER HASH JOIN EACH WITH ALL ON $52 = $60" ] }, { "kind": "WRITE", "substeps": [ "$120, $121, $122, $123, $124, $230", "TO __stage09_output", "BY HASH($230)" ] } ], "waitMsAvg": "2", "waitMsMax": "2", "waitRatioAvg": 0.00333889816360601, "waitRatioMax": 0.00333889816360601, "writeMsAvg": "3", "writeMsMax": "3", "writeRatioAvg": 0.005008347245409015, "writeRatioMax": 0.005008347245409015 }, { "completedParallelInputs": "1", "computeMsAvg": "34", "computeMsMax": "34", "computeRatioAvg": 0.05676126878130217, "computeRatioMax": 0.05676126878130217, "endMs": "1665777492657", "id": "10", "inputStages": [ "9", "7" ], "name": "S0A: Aggregate+", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "21363", "recordsWritten": "19", "shuffleOutputBytes": "776", "shuffleOutputBytesSpilled": "0", "slotMs": "41", "startMs": "1665777492623", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$90", "FROM __stage07_output" ] }, { "kind": "READ", "substeps": [ "$120, $121, $122, $123, $124, $230", "FROM __stage09_output" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $250 := $103, $251 := $102", "$80 := SUM($104)" ] }, { "kind": "FILTER", "substeps": [ "or(in(substr($103, 1, 5), '85669', '86197', '88274', '83405', '86475', '85392', '85460', '80348', '81792'), ...)" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $240 := $230", "$100 := ANY_VALUE($120)", "$101 := ANY_VALUE($121)", "$102 := ANY_VALUE($122)", "$103 := ANY_VALUE($123)", "$104 := ANY_VALUE($124)" ] }, { "kind": "WRITE", "substeps": [ "$80, $251, $250", "TO __stage0A_output", "BY HASH($250, $251)" ] } ], "waitMsAvg": "2", "waitMsMax": "2", "waitRatioAvg": 0.00333889816360601, "waitRatioMax": 0.00333889816360601, "writeMsAvg": "6", "writeMsMax": "6", "writeRatioAvg": 0.01001669449081803, "writeRatioMax": 0.01001669449081803 }, { "completedParallelInputs": "1", "computeMsAvg": "11", "computeMsMax": "11", "computeRatioAvg": 0.018363939899833055, "computeRatioMax": 0.018363939899833055, "endMs": "1665777492708", "id": "11", "inputStages": [ "10" ], "name": "S0B: Sort+", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "19", "recordsWritten": "19", "shuffleOutputBytes": "776", "shuffleOutputBytesSpilled": "0", "slotMs": "33", "startMs": "1665777492670", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$80, $251, $250", "FROM __stage0A_output" ] }, { "kind": "SORT", "substeps": [ "$260 ASC, $261 ASC", "LIMIT 100" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $260 := $250, $261 := $251", "$70 := SUM($80)" ] }, { "kind": "WRITE", "substeps": [ "$270, $271, $272", "TO __stage0B_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.001669449081803005, "waitRatioMax": 0.001669449081803005, "writeMsAvg": "15", "writeMsMax": "15", "writeRatioAvg": 0.025041736227045076, "writeRatioMax": 0.025041736227045076 }, { "completedParallelInputs": "1", "computeMsAvg": "9", "computeMsMax": "9", "computeRatioAvg": 0.015025041736227046, "computeRatioMax": 0.015025041736227046, "endMs": "1665777492747", "id": "12", "inputStages": [ "11" ], "name": "S0C: Output", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "19", "recordsWritten": "19", "shuffleOutputBytes": "776", "shuffleOutputBytesSpilled": "0", "slotMs": "48", "startMs": "1665777492687", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$270, $271, $272", "FROM __stage0B_output" ] }, { "kind": "SORT", "substeps": [ "$272 ASC, $271 ASC", "LIMIT 100" ] }, { "kind": "WRITE", "substeps": [ "$280, $281, $282", "TO __stage0C_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.001669449081803005, "waitRatioMax": 0.001669449081803005, "writeMsAvg": "38", "writeMsMax": "38", "writeRatioAvg": 0.06343906510851419, "writeRatioMax": 0.06343906510851419 } ], "referencedTables": [ { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "item" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "customer_address" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "date_dim" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "customer" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "web_sales" } ], "statementType": "SELECT", "timeline": [ { "activeUnits": "1", "completedUnits": "109", "elapsedMs": "608", "estimatedRunnableUnits": "0", "pendingUnits": "2", "totalSlotMs": "4193" }, { "activeUnits": "1", "completedUnits": "111", "elapsedMs": "719", "estimatedRunnableUnits": "0", "pendingUnits": "0", "totalSlotMs": "4275" } ], "totalBytesBilled": "52428800", "totalBytesProcessed": "33860770", "totalPartitionsProcessed": "0", "totalSlotMs": "4275", "transferredBytes": "0" }, "startTime": "1665777492066", "totalBytesProcessed": "33860770", "totalSlotMs": "4275" }, "status": { "state": "DONE" }, "user_email": "jesuispotatos@gmail.com" }
{ "configuration": { "jobType": "QUERY", "query": { "defaultDataset": { "datasetId": "call_center", "projectId": "test-project-364309" }, "destinationTable": { "datasetId": "_a0aa936c5cea243efb3c6dc011c66cfad39bfcb7", "projectId": "test-project-364309", "tableId": "anon5e8890f1_af22_4cb8_b7be_15e62cd848f7" }, "priority": "INTERACTIVE", "query": "select ca_zip, ca_city, sum(ws_sales_price)\n from web_sales, customer, customer_address, date_dim, item\n where ws_bill_customer_sk = c_customer_sk\n \tand c_current_addr_sk = ca_address_sk \n \tand ws_item_sk = i_item_sk \n \tand ( substr(ca_zip,1,5) in ('85669', '86197','88274','83405','86475', '85392', '85460', '80348', '81792')\n \t or \n \t i_item_id in (select i_item_id\n from item\n where i_item_sk in (2, 3, 5, 7, 11, 13, 17, 19, 23, 29)\n )\n \t )\n \tand ws_sold_date_sk = d_date_sk\n \tand d_qoy = 2 and d_year = 2001\n group by ca_zip, ca_city\n order by ca_zip, ca_city\n limit 100\n ;", "useLegacySql": false, "useQueryCache": false, "writeDisposition": "WRITE_TRUNCATE" } }, "etag": "2wON+iiXf7ysreVFc+weQA==", "id": "test-project-364309:europe-west1.query45_1665777493", "jobReference": { "jobId": "query45_1665777493", "location": "europe-west1", "projectId": "test-project-364309" }, "kind": "bigquery#job", "principal_subject": "user:jesuispotatos@gmail.com", "selfLink": "https://bigquery.googleapis.com/bigquery/v2/projects/test-project-364309/jobs/query45_1665777493?location=europe-west1", "statistics": { "creationTime": "1665777494687", "endTime": "1665777495841", "finalExecutionDurationMs": "924", "query": { "billingTier": 1, "cacheHit": false, "estimatedBytesProcessed": "33860770", "performanceInsights": { "avgPreviousExecutionMs": "691" }, "queryPlan": [ { "completedParallelInputs": "1", "computeMsAvg": "11", "computeMsMax": "11", "computeRatioAvg": 0.01261467889908257, "computeRatioMax": 0.01261467889908257, "endMs": "1665777494905", "id": "0", "name": "S00: Input", "parallelInputs": "1", "readMsAvg": "8", "readMsMax": "8", "readRatioAvg": 0.009174311926605505, "readRatioMax": 0.009174311926605505, "recordsRead": "18000", "recordsWritten": "10", "shuffleOutputBytes": "300", "shuffleOutputBytesSpilled": "0", "slotMs": "45", "startMs": "1665777494856", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$21:i_item_id, $20:i_item_sk", "FROM item", "WHERE in($20, 2, 3, 5, 7, 11, 13, 17, 19, 23, 29)" ] }, { "kind": "COMPUTE", "substeps": [ "$160 := 1" ] }, { "kind": "WRITE", "substeps": [ "$21, $160", "TO __stage00_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0011467889908256881, "waitRatioMax": 0.0011467889908256881, "writeMsAvg": "20", "writeMsMax": "20", "writeRatioAvg": 0.022935779816513763, "writeRatioMax": 0.022935779816513763 }, { "completedParallelInputs": "1", "computeMsAvg": "15", "computeMsMax": "15", "computeRatioAvg": 0.017201834862385322, "computeRatioMax": 0.017201834862385322, "endMs": "1665777494913", "id": "1", "name": "S01: Input", "parallelInputs": "1", "readMsAvg": "7", "readMsMax": "7", "readRatioAvg": 0.008027522935779817, "readRatioMax": 0.008027522935779817, "recordsRead": "18000", "recordsWritten": "18000", "shuffleOutputBytes": "540000", "shuffleOutputBytesSpilled": "0", "slotMs": "38", "startMs": "1665777494871", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$10:i_item_sk, $11:i_item_id", "FROM item" ] }, { "kind": "WRITE", "substeps": [ "$10, $11", "TO __stage01_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0011467889908256881, "waitRatioMax": 0.0011467889908256881, "writeMsAvg": "25", "writeMsMax": "25", "writeRatioAvg": 0.028669724770642203, "writeRatioMax": 0.028669724770642203 }, { "completedParallelInputs": "1", "computeMsAvg": "11", "computeMsMax": "11", "computeRatioAvg": 0.01261467889908257, "computeRatioMax": 0.01261467889908257, "endMs": "1665777494931", "id": "2", "name": "S02: Input", "parallelInputs": "1", "readMsAvg": "8", "readMsMax": "8", "readRatioAvg": 0.009174311926605505, "readRatioMax": 0.009174311926605505, "recordsRead": "73049", "recordsWritten": "91", "shuffleOutputBytes": "819", "shuffleOutputBytesSpilled": "0", "slotMs": "42", "startMs": "1665777494886", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$40:d_date_sk, $41:d_year, $42:d_qoy", "FROM date_dim", "WHERE and(equal($42, 2), equal($41, 2001))" ] }, { "kind": "WRITE", "substeps": [ "$40", "TO __stage02_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0011467889908256881, "waitRatioMax": 0.0011467889908256881, "writeMsAvg": "14", "writeMsMax": "14", "writeRatioAvg": 0.016055045871559634, "writeRatioMax": 0.016055045871559634 }, { "completedParallelInputs": "1", "computeMsAvg": "43", "computeMsMax": "43", "computeRatioAvg": 0.04931192660550459, "computeRatioMax": 0.04931192660550459, "endMs": "1665777494949", "id": "3", "name": "S03: Input", "parallelInputs": "1", "readMsAvg": "6", "readMsMax": "6", "readRatioAvg": 0.006880733944954129, "readRatioMax": 0.006880733944954129, "recordsRead": "50000", "recordsWritten": "50000", "shuffleOutputBytes": "1613638", "shuffleOutputBytesSpilled": "0", "slotMs": "53", "startMs": "1665777494899", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$30:ca_address_sk, $31:ca_city, $32:ca_zip", "FROM customer_address" ] }, { "kind": "WRITE", "substeps": [ "$30, $31, $32", "TO __stage03_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0011467889908256881, "waitRatioMax": 0.0011467889908256881, "writeMsAvg": "10", "writeMsMax": "10", "writeRatioAvg": 0.011467889908256881, "writeRatioMax": 0.011467889908256881 }, { "completedParallelInputs": "1", "computeMsAvg": "54", "computeMsMax": "54", "computeRatioAvg": 0.06192660550458716, "computeRatioMax": 0.06192660550458716, "endMs": "1665777494966", "id": "4", "name": "S04: Input", "parallelInputs": "1", "readMsAvg": "10", "readMsMax": "10", "readRatioAvg": 0.011467889908256881, "readRatioMax": 0.011467889908256881, "recordsRead": "100000", "recordsWritten": "100000", "shuffleOutputBytes": "1800000", "shuffleOutputBytesSpilled": "0", "slotMs": "63", "startMs": "1665777494911", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$60:c_customer_sk, $61:c_current_addr_sk", "FROM customer" ] }, { "kind": "WRITE", "substeps": [ "$60, $61", "TO __stage04_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0011467889908256881, "waitRatioMax": 0.0011467889908256881, "writeMsAvg": "12", "writeMsMax": "12", "writeRatioAvg": 0.013761467889908258, "writeRatioMax": 0.013761467889908258 }, { "completedParallelInputs": "1", "computeMsAvg": "6", "computeMsMax": "6", "computeRatioAvg": 0.006880733944954129, "computeRatioMax": 0.006880733944954129, "endMs": "1665777494941", "id": "6", "name": "S06: Input", "parallelInputs": "1", "readMsAvg": "4", "readMsMax": "4", "readRatioAvg": 0.0045871559633027525, "readRatioMax": 0.0045871559633027525, "recordsRead": "18000", "recordsWritten": "1", "shuffleOutputBytes": "9", "shuffleOutputBytesSpilled": "0", "slotMs": "11", "startMs": "1665777494930", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$2:i_item_id, $1:i_item_sk", "FROM item", "WHERE in($1, 2, 3, 5, 7, 11, 13, 17, 19, 23, 29)" ] }, { "kind": "AGGREGATE", "substeps": [ "$110 := SUM($130)" ] }, { "kind": "COMPUTE", "substeps": [ "$130 := if(is_null($2), 1, 0)" ] }, { "kind": "WRITE", "substeps": [ "$110", "TO __stage06_output" ] } ], "waitMsAvg": "2", "waitMsMax": "2", "waitRatioAvg": 0.0022935779816513763, "waitRatioMax": 0.0022935779816513763, "writeMsAvg": "0", "writeMsMax": "0", "writeRatioAvg": 0, "writeRatioMax": 0 }, { "completedParallelInputs": "1", "computeMsAvg": "8", "computeMsMax": "8", "computeRatioAvg": 0.009174311926605505, "computeRatioMax": 0.009174311926605505, "endMs": "1665777494968", "id": "7", "inputStages": [ "6" ], "name": "S07: Aggregate", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "1", "recordsWritten": "1", "shuffleOutputBytes": "9", "shuffleOutputBytesSpilled": "0", "slotMs": "33", "startMs": "1665777494929", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$110", "FROM __stage06_output" ] }, { "kind": "AGGREGATE", "substeps": [ "$90 := SUM($110)" ] }, { "kind": "WRITE", "substeps": [ "$90", "TO __stage07_output" ] } ], "waitMsAvg": "2", "waitMsMax": "2", "waitRatioAvg": 0.0022935779816513763, "waitRatioMax": 0.0022935779816513763, "writeMsAvg": "4", "writeMsMax": "4", "writeRatioAvg": 0.0045871559633027525, "writeRatioMax": 0.0045871559633027525 }, { "completedParallelInputs": "100", "computeMsAvg": "8", "computeMsMax": "14", "computeRatioAvg": 0.009174311926605505, "computeRatioMax": 0.016055045871559634, "endMs": "1665777495033", "id": "8", "inputStages": [ "0" ], "name": "S08: Coalesce", "parallelInputs": "100", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "10", "recordsWritten": "10", "shuffleOutputBytes": "300", "shuffleOutputBytesSpilled": "0", "slotMs": "3225", "startMs": "1665777494984", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "FROM __stage00_output" ] } ], "waitMsAvg": "2", "waitMsMax": "3", "waitRatioAvg": 0.0022935779816513763, "waitRatioMax": 0.0034403669724770644, "writeMsAvg": "14", "writeMsMax": "19", "writeRatioAvg": 0.016055045871559634, "writeRatioMax": 0.021788990825688075 }, { "completedParallelInputs": "1", "computeMsAvg": "872", "computeMsMax": "872", "computeRatioAvg": 1, "computeRatioMax": 1, "endMs": "1665777495591", "id": "9", "inputStages": [ "2", "3", "1", "4", "8" ], "name": "S09: Join+", "parallelInputs": "1", "readMsAvg": "38", "readMsMax": "38", "readRatioAvg": 0.04357798165137615, "readRatioMax": 0.04357798165137615, "recordsRead": "887485", "recordsWritten": "21362", "shuffleOutputBytes": "2086883", "shuffleOutputBytesSpilled": "0", "slotMs": "785", "startMs": "1665777494989", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$50:ws_sold_date_sk, $51:ws_item_sk, $52:ws_bill_customer_sk, $53:ws_sales_price", "FROM web_sales" ] }, { "kind": "READ", "substeps": [ "$60, $61", "FROM __stage04_output" ] }, { "kind": "READ", "substeps": [ "$30, $31, $32", "FROM __stage03_output" ] }, { "kind": "READ", "substeps": [ "$40", "FROM __stage02_output" ] }, { "kind": "READ", "substeps": [ "$10, $11", "FROM __stage01_output" ] }, { "kind": "READ", "substeps": [ "$21, $160", "FROM __stage08_output" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $230 := $224", "$120 := ANY_VALUE($140)", "$121 := ANY_VALUE($220)", "$122 := ANY_VALUE($221)", "$123 := ANY_VALUE($222)", "$124 := ANY_VALUE($223)" ] }, { "kind": "COMPUTE", "substeps": [ "$140 := not(is_null($225))" ] }, { "kind": "JOIN", "substeps": [ "$220 := $213, $221 := $210, $222 := $211, $223 := $212, $224 := $150, $225 := $160", "LEFT OUTER HASH JOIN EACH WITH ALL ON $213 = $21" ] }, { "kind": "COMPUTE", "substeps": [ "$150 := UNIQUE_ROW_ID()" ] }, { "kind": "JOIN", "substeps": [ "$210 := $200, $211 := $201, $212 := $203, $213 := $11", "INNER HASH JOIN EACH WITH ALL ON $202 = $10" ] }, { "kind": "JOIN", "substeps": [ "$200 := $183, $201 := $184, $202 := $181, $203 := $182", "INNER HASH JOIN EACH WITH ALL ON $180 = $40" ] }, { "kind": "JOIN", "substeps": [ "$180 := $170, $181 := $171, $182 := $172, $183 := $31, $184 := $32", "INNER HASH JOIN EACH WITH ALL ON $173 = $30" ] }, { "kind": "JOIN", "substeps": [ "$170 := $50, $171 := $51, $172 := $53, $173 := $61", "INNER HASH JOIN EACH WITH ALL ON $52 = $60" ] }, { "kind": "WRITE", "substeps": [ "$120, $121, $122, $123, $124, $230", "TO __stage09_output", "BY HASH($230)" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0011467889908256881, "waitRatioMax": 0.0011467889908256881, "writeMsAvg": "13", "writeMsMax": "13", "writeRatioAvg": 0.014908256880733946, "writeRatioMax": 0.014908256880733946 }, { "completedParallelInputs": "1", "computeMsAvg": "44", "computeMsMax": "44", "computeRatioAvg": 0.05045871559633028, "computeRatioMax": 0.05045871559633028, "endMs": "1665777495679", "id": "10", "inputStages": [ "9", "7" ], "name": "S0A: Aggregate+", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "21363", "recordsWritten": "19", "shuffleOutputBytes": "776", "shuffleOutputBytesSpilled": "0", "slotMs": "49", "startMs": "1665777495643", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$90", "FROM __stage07_output" ] }, { "kind": "READ", "substeps": [ "$120, $121, $122, $123, $124, $230", "FROM __stage09_output" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $250 := $103, $251 := $102", "$80 := SUM($104)" ] }, { "kind": "FILTER", "substeps": [ "or(in(substr($103, 1, 5), '85669', '86197', '88274', '83405', '86475', '85392', '85460', '80348', '81792'), ...)" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $240 := $230", "$100 := ANY_VALUE($120)", "$101 := ANY_VALUE($121)", "$102 := ANY_VALUE($122)", "$103 := ANY_VALUE($123)", "$104 := ANY_VALUE($124)" ] }, { "kind": "WRITE", "substeps": [ "$80, $251, $250", "TO __stage0A_output", "BY HASH($250, $251)" ] } ], "waitMsAvg": "2", "waitMsMax": "2", "waitRatioAvg": 0.0022935779816513763, "waitRatioMax": 0.0022935779816513763, "writeMsAvg": "7", "writeMsMax": "7", "writeRatioAvg": 0.008027522935779817, "writeRatioMax": 0.008027522935779817 }, { "completedParallelInputs": "1", "computeMsAvg": "10", "computeMsMax": "10", "computeRatioAvg": 0.011467889908256881, "computeRatioMax": 0.011467889908256881, "endMs": "1665777495730", "id": "11", "inputStages": [ "10" ], "name": "S0B: Sort+", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "19", "recordsWritten": "19", "shuffleOutputBytes": "776", "shuffleOutputBytesSpilled": "0", "slotMs": "33", "startMs": "1665777495692", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$80, $251, $250", "FROM __stage0A_output" ] }, { "kind": "SORT", "substeps": [ "$260 ASC, $261 ASC", "LIMIT 100" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $260 := $250, $261 := $251", "$70 := SUM($80)" ] }, { "kind": "WRITE", "substeps": [ "$270, $271, $272", "TO __stage0B_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0011467889908256881, "waitRatioMax": 0.0011467889908256881, "writeMsAvg": "27", "writeMsMax": "27", "writeRatioAvg": 0.03096330275229358, "writeRatioMax": 0.03096330275229358 }, { "completedParallelInputs": "1", "computeMsAvg": "4", "computeMsMax": "4", "computeRatioAvg": 0.0045871559633027525, "computeRatioMax": 0.0045871559633027525, "endMs": "1665777495743", "id": "12", "inputStages": [ "11" ], "name": "S0C: Output", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "19", "recordsWritten": "19", "shuffleOutputBytes": "776", "shuffleOutputBytesSpilled": "0", "slotMs": "30", "startMs": "1665777495705", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$270, $271, $272", "FROM __stage0B_output" ] }, { "kind": "SORT", "substeps": [ "$272 ASC, $271 ASC", "LIMIT 100" ] }, { "kind": "WRITE", "substeps": [ "$280, $281, $282", "TO __stage0C_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0011467889908256881, "waitRatioMax": 0.0011467889908256881, "writeMsAvg": "5", "writeMsMax": "5", "writeRatioAvg": 0.005733944954128441, "writeRatioMax": 0.005733944954128441 } ], "referencedTables": [ { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "item" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "web_sales" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "date_dim" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "customer_address" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "customer" } ], "statementType": "SELECT", "timeline": [ { "activeUnits": "1", "completedUnits": "107", "elapsedMs": "610", "estimatedRunnableUnits": "0", "pendingUnits": "1", "totalSlotMs": "3518" }, { "activeUnits": "1", "completedUnits": "111", "elapsedMs": "1025", "estimatedRunnableUnits": "0", "pendingUnits": "0", "totalSlotMs": "4417" } ], "totalBytesBilled": "52428800", "totalBytesProcessed": "33860770", "totalPartitionsProcessed": "0", "totalSlotMs": "4417", "transferredBytes": "0" }, "startTime": "1665777494747", "totalBytesProcessed": "33860770", "totalSlotMs": "4417" }, "status": { "state": "DONE" }, "user_email": "jesuispotatos@gmail.com" }
{ "configuration": { "jobType": "QUERY", "query": { "defaultDataset": { "datasetId": "call_center", "projectId": "test-project-364309" }, "destinationTable": { "datasetId": "_a0aa936c5cea243efb3c6dc011c66cfad39bfcb7", "projectId": "test-project-364309", "tableId": "anon8f074d6d_2c34_4874_ac94_c2101b014e12" }, "priority": "INTERACTIVE", "query": "select ca_zip, ca_city, sum(ws_sales_price)\n from web_sales, customer, customer_address, date_dim, item\n where ws_bill_customer_sk = c_customer_sk\n \tand c_current_addr_sk = ca_address_sk \n \tand ws_item_sk = i_item_sk \n \tand ( substr(ca_zip,1,5) in ('85669', '86197','88274','83405','86475', '85392', '85460', '80348', '81792')\n \t or \n \t i_item_id in (select i_item_id\n from item\n where i_item_sk in (2, 3, 5, 7, 11, 13, 17, 19, 23, 29)\n )\n \t )\n \tand ws_sold_date_sk = d_date_sk\n \tand d_qoy = 2 and d_year = 2001\n group by ca_zip, ca_city\n order by ca_zip, ca_city\n limit 100\n ;", "useLegacySql": false, "useQueryCache": false, "writeDisposition": "WRITE_TRUNCATE" } }, "etag": "IlADLmCjQAP0xviE0OoUJw==", "id": "test-project-364309:europe-west1.query45_1665777497", "jobReference": { "jobId": "query45_1665777497", "location": "europe-west1", "projectId": "test-project-364309" }, "kind": "bigquery#job", "principal_subject": "user:jesuispotatos@gmail.com", "selfLink": "https://bigquery.googleapis.com/bigquery/v2/projects/test-project-364309/jobs/query45_1665777497?location=europe-west1", "statistics": { "creationTime": "1665777497733", "endTime": "1665777498878", "finalExecutionDurationMs": "909", "query": { "billingTier": 1, "cacheHit": false, "estimatedBytesProcessed": "33860770", "performanceInsights": { "avgPreviousExecutionMs": "730" }, "queryPlan": [ { "completedParallelInputs": "1", "computeMsAvg": "9", "computeMsMax": "9", "computeRatioAvg": 0.013761467889908258, "computeRatioMax": 0.013761467889908258, "endMs": "1665777497973", "id": "0", "name": "S00: Input", "parallelInputs": "1", "readMsAvg": "5", "readMsMax": "5", "readRatioAvg": 0.00764525993883792, "readRatioMax": 0.00764525993883792, "recordsRead": "18000", "recordsWritten": "10", "shuffleOutputBytes": "300", "shuffleOutputBytesSpilled": "0", "slotMs": "41", "startMs": "1665777497921", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$21:i_item_id, $20:i_item_sk", "FROM item", "WHERE in($20, 2, 3, 5, 7, 11, 13, 17, 19, 23, 29)" ] }, { "kind": "COMPUTE", "substeps": [ "$160 := 1" ] }, { "kind": "WRITE", "substeps": [ "$21, $160", "TO __stage00_output" ] } ], "waitMsAvg": "3", "waitMsMax": "3", "waitRatioAvg": 0.0045871559633027525, "waitRatioMax": 0.0045871559633027525, "writeMsAvg": "25", "writeMsMax": "25", "writeRatioAvg": 0.0382262996941896, "writeRatioMax": 0.0382262996941896 }, { "completedParallelInputs": "1", "computeMsAvg": "20", "computeMsMax": "20", "computeRatioAvg": 0.03058103975535168, "computeRatioMax": 0.03058103975535168, "endMs": "1665777498000", "id": "1", "name": "S01: Input", "parallelInputs": "1", "readMsAvg": "6", "readMsMax": "6", "readRatioAvg": 0.009174311926605505, "readRatioMax": 0.009174311926605505, "recordsRead": "18000", "recordsWritten": "18000", "shuffleOutputBytes": "540000", "shuffleOutputBytesSpilled": "0", "slotMs": "50", "startMs": "1665777497937", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$10:i_item_sk, $11:i_item_id", "FROM item" ] }, { "kind": "WRITE", "substeps": [ "$10, $11", "TO __stage01_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0015290519877675841, "waitRatioMax": 0.0015290519877675841, "writeMsAvg": "29", "writeMsMax": "29", "writeRatioAvg": 0.04434250764525994, "writeRatioMax": 0.04434250764525994 }, { "completedParallelInputs": "1", "computeMsAvg": "14", "computeMsMax": "14", "computeRatioAvg": 0.021406727828746176, "computeRatioMax": 0.021406727828746176, "endMs": "1665777497996", "id": "2", "name": "S02: Input", "parallelInputs": "1", "readMsAvg": "8", "readMsMax": "8", "readRatioAvg": 0.012232415902140673, "readRatioMax": 0.012232415902140673, "recordsRead": "73049", "recordsWritten": "91", "shuffleOutputBytes": "819", "shuffleOutputBytesSpilled": "0", "slotMs": "39", "startMs": "1665777497958", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$40:d_date_sk, $41:d_year, $42:d_qoy", "FROM date_dim", "WHERE and(equal($42, 2), equal($41, 2001))" ] }, { "kind": "WRITE", "substeps": [ "$40", "TO __stage02_output" ] } ], "waitMsAvg": "2", "waitMsMax": "2", "waitRatioAvg": 0.0030581039755351682, "waitRatioMax": 0.0030581039755351682, "writeMsAvg": "8", "writeMsMax": "8", "writeRatioAvg": 0.012232415902140673, "writeRatioMax": 0.012232415902140673 }, { "completedParallelInputs": "1", "computeMsAvg": "35", "computeMsMax": "35", "computeRatioAvg": 0.053516819571865444, "computeRatioMax": 0.053516819571865444, "endMs": "1665777498024", "id": "3", "name": "S03: Input", "parallelInputs": "1", "readMsAvg": "7", "readMsMax": "7", "readRatioAvg": 0.010703363914373088, "readRatioMax": 0.010703363914373088, "recordsRead": "50000", "recordsWritten": "50000", "shuffleOutputBytes": "1613638", "shuffleOutputBytesSpilled": "0", "slotMs": "50", "startMs": "1665777497978", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$30:ca_address_sk, $31:ca_city, $32:ca_zip", "FROM customer_address" ] }, { "kind": "WRITE", "substeps": [ "$30, $31, $32", "TO __stage03_output" ] } ], "waitMsAvg": "2", "waitMsMax": "2", "waitRatioAvg": 0.0030581039755351682, "waitRatioMax": 0.0030581039755351682, "writeMsAvg": "9", "writeMsMax": "9", "writeRatioAvg": 0.013761467889908258, "writeRatioMax": 0.013761467889908258 }, { "completedParallelInputs": "1", "computeMsAvg": "59", "computeMsMax": "59", "computeRatioAvg": 0.09021406727828746, "computeRatioMax": 0.09021406727828746, "endMs": "1665777498057", "id": "4", "name": "S04: Input", "parallelInputs": "1", "readMsAvg": "14", "readMsMax": "14", "readRatioAvg": 0.021406727828746176, "readRatioMax": 0.021406727828746176, "recordsRead": "100000", "recordsWritten": "100000", "shuffleOutputBytes": "1800000", "shuffleOutputBytesSpilled": "0", "slotMs": "58", "startMs": "1665777498000", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$60:c_customer_sk, $61:c_current_addr_sk", "FROM customer" ] }, { "kind": "WRITE", "substeps": [ "$60, $61", "TO __stage04_output" ] } ], "waitMsAvg": "0", "waitMsMax": "0", "waitRatioAvg": 0, "waitRatioMax": 0, "writeMsAvg": "12", "writeMsMax": "12", "writeRatioAvg": 0.01834862385321101, "writeRatioMax": 0.01834862385321101 }, { "completedParallelInputs": "1", "computeMsAvg": "10", "computeMsMax": "10", "computeRatioAvg": 0.01529051987767584, "computeRatioMax": 0.01529051987767584, "endMs": "1665777498042", "id": "6", "name": "S06: Input", "parallelInputs": "1", "readMsAvg": "5", "readMsMax": "5", "readRatioAvg": 0.00764525993883792, "readRatioMax": 0.00764525993883792, "recordsRead": "18000", "recordsWritten": "1", "shuffleOutputBytes": "9", "shuffleOutputBytesSpilled": "0", "slotMs": "13", "startMs": "1665777498029", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$2:i_item_id, $1:i_item_sk", "FROM item", "WHERE in($1, 2, 3, 5, 7, 11, 13, 17, 19, 23, 29)" ] }, { "kind": "AGGREGATE", "substeps": [ "$110 := SUM($130)" ] }, { "kind": "COMPUTE", "substeps": [ "$130 := if(is_null($2), 1, 0)" ] }, { "kind": "WRITE", "substeps": [ "$110", "TO __stage06_output" ] } ], "waitMsAvg": "2", "waitMsMax": "2", "waitRatioAvg": 0.0030581039755351682, "waitRatioMax": 0.0030581039755351682, "writeMsAvg": "1", "writeMsMax": "1", "writeRatioAvg": 0.0015290519877675841, "writeRatioMax": 0.0015290519877675841 }, { "completedParallelInputs": "1", "computeMsAvg": "13", "computeMsMax": "13", "computeRatioAvg": 0.019877675840978593, "computeRatioMax": 0.019877675840978593, "endMs": "1665777498089", "id": "7", "inputStages": [ "6" ], "name": "S07: Aggregate", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "1", "recordsWritten": "1", "shuffleOutputBytes": "9", "shuffleOutputBytesSpilled": "0", "slotMs": "56", "startMs": "1665777498028", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$110", "FROM __stage06_output" ] }, { "kind": "AGGREGATE", "substeps": [ "$90 := SUM($110)" ] }, { "kind": "WRITE", "substeps": [ "$90", "TO __stage07_output" ] } ], "waitMsAvg": "2", "waitMsMax": "2", "waitRatioAvg": 0.0030581039755351682, "waitRatioMax": 0.0030581039755351682, "writeMsAvg": "37", "writeMsMax": "37", "writeRatioAvg": 0.05657492354740061, "writeRatioMax": 0.05657492354740061 }, { "completedParallelInputs": "100", "computeMsAvg": "9", "computeMsMax": "15", "computeRatioAvg": 0.013761467889908258, "computeRatioMax": 0.022935779816513763, "endMs": "1665777498145", "id": "8", "inputStages": [ "0" ], "name": "S08: Coalesce", "parallelInputs": "100", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "10", "recordsWritten": "10", "shuffleOutputBytes": "300", "shuffleOutputBytesSpilled": "0", "slotMs": "4591", "startMs": "1665777498064", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "FROM __stage00_output" ] } ], "waitMsAvg": "3", "waitMsMax": "5", "waitRatioAvg": 0.0045871559633027525, "waitRatioMax": 0.00764525993883792, "writeMsAvg": "27", "writeMsMax": "61", "writeRatioAvg": 0.04128440366972477, "writeRatioMax": 0.09327217125382263 }, { "completedParallelInputs": "1", "computeMsAvg": "654", "computeMsMax": "654", "computeRatioAvg": 1, "computeRatioMax": 1, "endMs": "1665777498546", "id": "9", "inputStages": [ "4", "1", "3", "2", "8" ], "name": "S09: Join+", "parallelInputs": "1", "readMsAvg": "25", "readMsMax": "25", "readRatioAvg": 0.0382262996941896, "readRatioMax": 0.0382262996941896, "recordsRead": "887485", "recordsWritten": "21362", "shuffleOutputBytes": "2086883", "shuffleOutputBytesSpilled": "0", "slotMs": "581", "startMs": "1665777498070", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$50:ws_sold_date_sk, $51:ws_item_sk, $52:ws_bill_customer_sk, $53:ws_sales_price", "FROM web_sales" ] }, { "kind": "READ", "substeps": [ "$60, $61", "FROM __stage04_output" ] }, { "kind": "READ", "substeps": [ "$30, $31, $32", "FROM __stage03_output" ] }, { "kind": "READ", "substeps": [ "$40", "FROM __stage02_output" ] }, { "kind": "READ", "substeps": [ "$10, $11", "FROM __stage01_output" ] }, { "kind": "READ", "substeps": [ "$21, $160", "FROM __stage08_output" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $230 := $224", "$120 := ANY_VALUE($140)", "$121 := ANY_VALUE($220)", "$122 := ANY_VALUE($221)", "$123 := ANY_VALUE($222)", "$124 := ANY_VALUE($223)" ] }, { "kind": "COMPUTE", "substeps": [ "$140 := not(is_null($225))" ] }, { "kind": "JOIN", "substeps": [ "$220 := $213, $221 := $210, $222 := $211, $223 := $212, $224 := $150, $225 := $160", "LEFT OUTER HASH JOIN EACH WITH ALL ON $213 = $21" ] }, { "kind": "COMPUTE", "substeps": [ "$150 := UNIQUE_ROW_ID()" ] }, { "kind": "JOIN", "substeps": [ "$210 := $200, $211 := $201, $212 := $203, $213 := $11", "INNER HASH JOIN EACH WITH ALL ON $202 = $10" ] }, { "kind": "JOIN", "substeps": [ "$200 := $183, $201 := $184, $202 := $181, $203 := $182", "INNER HASH JOIN EACH WITH ALL ON $180 = $40" ] }, { "kind": "JOIN", "substeps": [ "$180 := $170, $181 := $171, $182 := $172, $183 := $31, $184 := $32", "INNER HASH JOIN EACH WITH ALL ON $173 = $30" ] }, { "kind": "JOIN", "substeps": [ "$170 := $50, $171 := $51, $172 := $53, $173 := $61", "INNER HASH JOIN EACH WITH ALL ON $52 = $60" ] }, { "kind": "WRITE", "substeps": [ "$120, $121, $122, $123, $124, $230", "TO __stage09_output", "BY HASH($230)" ] } ], "waitMsAvg": "3", "waitMsMax": "3", "waitRatioAvg": 0.0045871559633027525, "waitRatioMax": 0.0045871559633027525, "writeMsAvg": "5", "writeMsMax": "5", "writeRatioAvg": 0.00764525993883792, "writeRatioMax": 0.00764525993883792 }, { "completedParallelInputs": "1", "computeMsAvg": "36", "computeMsMax": "36", "computeRatioAvg": 0.05504587155963303, "computeRatioMax": 0.05504587155963303, "endMs": "1665777498680", "id": "10", "inputStages": [ "7", "9" ], "name": "S0A: Aggregate+", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "21363", "recordsWritten": "19", "shuffleOutputBytes": "776", "shuffleOutputBytesSpilled": "0", "slotMs": "77", "startMs": "1665777498597", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$90", "FROM __stage07_output" ] }, { "kind": "READ", "substeps": [ "$120, $121, $122, $123, $124, $230", "FROM __stage09_output" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $250 := $103, $251 := $102", "$80 := SUM($104)" ] }, { "kind": "FILTER", "substeps": [ "or(in(substr($103, 1, 5), '85669', '86197', '88274', '83405', '86475', '85392', '85460', '80348', '81792'), ...)" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $240 := $230", "$100 := ANY_VALUE($120)", "$101 := ANY_VALUE($121)", "$102 := ANY_VALUE($122)", "$103 := ANY_VALUE($123)", "$104 := ANY_VALUE($124)" ] }, { "kind": "WRITE", "substeps": [ "$80, $251, $250", "TO __stage0A_output", "BY HASH($250, $251)" ] } ], "waitMsAvg": "2", "waitMsMax": "2", "waitRatioAvg": 0.0030581039755351682, "waitRatioMax": 0.0030581039755351682, "writeMsAvg": "43", "writeMsMax": "43", "writeRatioAvg": 0.06574923547400612, "writeRatioMax": 0.06574923547400612 }, { "completedParallelInputs": "1", "computeMsAvg": "8", "computeMsMax": "8", "computeRatioAvg": 0.012232415902140673, "computeRatioMax": 0.012232415902140673, "endMs": "1665777498761", "id": "11", "inputStages": [ "10" ], "name": "S0B: Sort+", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "19", "recordsWritten": "19", "shuffleOutputBytes": "776", "shuffleOutputBytesSpilled": "0", "slotMs": "61", "startMs": "1665777498692", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$80, $251, $250", "FROM __stage0A_output" ] }, { "kind": "SORT", "substeps": [ "$260 ASC, $261 ASC", "LIMIT 100" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $260 := $250, $261 := $251", "$70 := SUM($80)" ] }, { "kind": "WRITE", "substeps": [ "$270, $271, $272", "TO __stage0B_output" ] } ], "waitMsAvg": "2", "waitMsMax": "2", "waitRatioAvg": 0.0030581039755351682, "waitRatioMax": 0.0030581039755351682, "writeMsAvg": "59", "writeMsMax": "59", "writeRatioAvg": 0.09021406727828746, "writeRatioMax": 0.09021406727828746 }, { "completedParallelInputs": "1", "computeMsAvg": "12", "computeMsMax": "12", "computeRatioAvg": 0.01834862385321101, "computeRatioMax": 0.01834862385321101, "endMs": "1665777498783", "id": "12", "inputStages": [ "11" ], "name": "S0C: Output", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "19", "recordsWritten": "19", "shuffleOutputBytes": "776", "shuffleOutputBytesSpilled": "0", "slotMs": "56", "startMs": "1665777498719", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$270, $271, $272", "FROM __stage0B_output" ] }, { "kind": "SORT", "substeps": [ "$272 ASC, $271 ASC", "LIMIT 100" ] }, { "kind": "WRITE", "substeps": [ "$280, $281, $282", "TO __stage0C_output" ] } ], "waitMsAvg": "2", "waitMsMax": "2", "waitRatioAvg": 0.0030581039755351682, "waitRatioMax": 0.0030581039755351682, "writeMsAvg": "12", "writeMsMax": "12", "writeRatioAvg": 0.01834862385321101, "writeRatioMax": 0.01834862385321101 } ], "referencedTables": [ { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "web_sales" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "date_dim" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "customer" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "item" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "customer_address" } ], "statementType": "SELECT", "timeline": [ { "activeUnits": "1", "completedUnits": "107", "elapsedMs": "630", "estimatedRunnableUnits": "0", "pendingUnits": "1", "totalSlotMs": "4798" }, { "activeUnits": "1", "completedUnits": "111", "elapsedMs": "1028", "estimatedRunnableUnits": "0", "pendingUnits": "0", "totalSlotMs": "5575" } ], "totalBytesBilled": "52428800", "totalBytesProcessed": "33860770", "totalPartitionsProcessed": "0", "totalSlotMs": "5575", "transferredBytes": "0" }, "startTime": "1665777497792", "totalBytesProcessed": "33860770", "totalSlotMs": "5575" }, "status": { "state": "DONE" }, "user_email": "jesuispotatos@gmail.com" }
{ "configuration": { "jobType": "QUERY", "query": { "defaultDataset": { "datasetId": "call_center", "projectId": "test-project-364309" }, "destinationTable": { "datasetId": "_a0aa936c5cea243efb3c6dc011c66cfad39bfcb7", "projectId": "test-project-364309", "tableId": "anon11a50012_8844_414e_a55c_c1148a6fde8c" }, "priority": "INTERACTIVE", "query": "select ca_zip, ca_city, sum(ws_sales_price)\n from web_sales, customer, customer_address, date_dim, item\n where ws_bill_customer_sk = c_customer_sk\n \tand c_current_addr_sk = ca_address_sk \n \tand ws_item_sk = i_item_sk \n \tand ( substr(ca_zip,1,5) in ('85669', '86197','88274','83405','86475', '85392', '85460', '80348', '81792')\n \t or \n \t i_item_id in (select i_item_id\n from item\n where i_item_sk in (2, 3, 5, 7, 11, 13, 17, 19, 23, 29)\n )\n \t )\n \tand ws_sold_date_sk = d_date_sk\n \tand d_qoy = 2 and d_year = 2001\n group by ca_zip, ca_city\n order by ca_zip, ca_city\n limit 100\n ;", "useLegacySql": false, "useQueryCache": false, "writeDisposition": "WRITE_TRUNCATE" } }, "etag": "aXZIRGrPFuwK8koIIACTlQ==", "id": "test-project-364309:europe-west1.query45_1665777500", "jobReference": { "jobId": "query45_1665777500", "location": "europe-west1", "projectId": "test-project-364309" }, "kind": "bigquery#job", "principal_subject": "user:jesuispotatos@gmail.com", "selfLink": "https://bigquery.googleapis.com/bigquery/v2/projects/test-project-364309/jobs/query45_1665777500?location=europe-west1", "statistics": { "creationTime": "1665777500814", "endTime": "1665777501731", "finalExecutionDurationMs": "688", "query": { "billingTier": 1, "cacheHit": false, "estimatedBytesProcessed": "33860770", "performanceInsights": { "avgPreviousExecutionMs": "755" }, "queryPlan": [ { "completedParallelInputs": "1", "computeMsAvg": "15", "computeMsMax": "15", "computeRatioAvg": 0.03260869565217391, "computeRatioMax": 0.03260869565217391, "endMs": "1665777501036", "id": "0", "name": "S00: Input", "parallelInputs": "1", "readMsAvg": "8", "readMsMax": "8", "readRatioAvg": 0.017391304347826087, "readRatioMax": 0.017391304347826087, "recordsRead": "18000", "recordsWritten": "10", "shuffleOutputBytes": "300", "shuffleOutputBytesSpilled": "0", "slotMs": "39", "startMs": "1665777500986", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$21:i_item_id, $20:i_item_sk", "FROM item", "WHERE in($20, 2, 3, 5, 7, 11, 13, 17, 19, 23, 29)" ] }, { "kind": "COMPUTE", "substeps": [ "$160 := 1" ] }, { "kind": "WRITE", "substeps": [ "$21, $160", "TO __stage00_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.002173913043478261, "waitRatioMax": 0.002173913043478261, "writeMsAvg": "21", "writeMsMax": "21", "writeRatioAvg": 0.04565217391304348, "writeRatioMax": 0.04565217391304348 }, { "completedParallelInputs": "1", "computeMsAvg": "20", "computeMsMax": "20", "computeRatioAvg": 0.043478260869565216, "computeRatioMax": 0.043478260869565216, "endMs": "1665777501054", "id": "1", "name": "S01: Input", "parallelInputs": "1", "readMsAvg": "7", "readMsMax": "7", "readRatioAvg": 0.015217391304347827, "readRatioMax": 0.015217391304347827, "recordsRead": "18000", "recordsWritten": "18000", "shuffleOutputBytes": "540000", "shuffleOutputBytesSpilled": "0", "slotMs": "51", "startMs": "1665777501000", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$10:i_item_sk, $11:i_item_id", "FROM item" ] }, { "kind": "WRITE", "substeps": [ "$10, $11", "TO __stage01_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.002173913043478261, "waitRatioMax": 0.002173913043478261, "writeMsAvg": "23", "writeMsMax": "23", "writeRatioAvg": 0.05, "writeRatioMax": 0.05 }, { "completedParallelInputs": "1", "computeMsAvg": "14", "computeMsMax": "14", "computeRatioAvg": 0.030434782608695653, "computeRatioMax": 0.030434782608695653, "endMs": "1665777501061", "id": "2", "name": "S02: Input", "parallelInputs": "1", "readMsAvg": "9", "readMsMax": "9", "readRatioAvg": 0.01956521739130435, "readRatioMax": 0.01956521739130435, "recordsRead": "73049", "recordsWritten": "91", "shuffleOutputBytes": "819", "shuffleOutputBytesSpilled": "0", "slotMs": "38", "startMs": "1665777501020", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$40:d_date_sk, $41:d_year, $42:d_qoy", "FROM date_dim", "WHERE and(equal($42, 2), equal($41, 2001))" ] }, { "kind": "WRITE", "substeps": [ "$40", "TO __stage02_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.002173913043478261, "waitRatioMax": 0.002173913043478261, "writeMsAvg": "22", "writeMsMax": "22", "writeRatioAvg": 0.04782608695652174, "writeRatioMax": 0.04782608695652174 }, { "completedParallelInputs": "1", "computeMsAvg": "33", "computeMsMax": "33", "computeRatioAvg": 0.07173913043478261, "computeRatioMax": 0.07173913043478261, "endMs": "1665777501077", "id": "3", "name": "S03: Input", "parallelInputs": "1", "readMsAvg": "11", "readMsMax": "11", "readRatioAvg": 0.02391304347826087, "readRatioMax": 0.02391304347826087, "recordsRead": "50000", "recordsWritten": "50000", "shuffleOutputBytes": "1613638", "shuffleOutputBytesSpilled": "0", "slotMs": "47", "startMs": "1665777501036", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$30:ca_address_sk, $31:ca_city, $32:ca_zip", "FROM customer_address" ] }, { "kind": "WRITE", "substeps": [ "$30, $31, $32", "TO __stage03_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.002173913043478261, "waitRatioMax": 0.002173913043478261, "writeMsAvg": "9", "writeMsMax": "9", "writeRatioAvg": 0.01956521739130435, "writeRatioMax": 0.01956521739130435 }, { "completedParallelInputs": "1", "computeMsAvg": "66", "computeMsMax": "66", "computeRatioAvg": 0.14347826086956522, "computeRatioMax": 0.14347826086956522, "endMs": "1665777501105", "id": "4", "name": "S04: Input", "parallelInputs": "1", "readMsAvg": "7", "readMsMax": "7", "readRatioAvg": 0.015217391304347827, "readRatioMax": 0.015217391304347827, "recordsRead": "100000", "recordsWritten": "100000", "shuffleOutputBytes": "1800000", "shuffleOutputBytesSpilled": "0", "slotMs": "68", "startMs": "1665777501050", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$60:c_customer_sk, $61:c_current_addr_sk", "FROM customer" ] }, { "kind": "WRITE", "substeps": [ "$60, $61", "TO __stage04_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.002173913043478261, "waitRatioMax": 0.002173913043478261, "writeMsAvg": "13", "writeMsMax": "13", "writeRatioAvg": 0.02826086956521739, "writeRatioMax": 0.02826086956521739 }, { "completedParallelInputs": "1", "computeMsAvg": "8", "computeMsMax": "8", "computeRatioAvg": 0.017391304347826087, "computeRatioMax": 0.017391304347826087, "endMs": "1665777501084", "id": "6", "name": "S06: Input", "parallelInputs": "1", "readMsAvg": "5", "readMsMax": "5", "readRatioAvg": 0.010869565217391304, "readRatioMax": 0.010869565217391304, "recordsRead": "18000", "recordsWritten": "1", "shuffleOutputBytes": "9", "shuffleOutputBytesSpilled": "0", "slotMs": "11", "startMs": "1665777501070", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$2:i_item_id, $1:i_item_sk", "FROM item", "WHERE in($1, 2, 3, 5, 7, 11, 13, 17, 19, 23, 29)" ] }, { "kind": "AGGREGATE", "substeps": [ "$110 := SUM($130)" ] }, { "kind": "COMPUTE", "substeps": [ "$130 := if(is_null($2), 1, 0)" ] }, { "kind": "WRITE", "substeps": [ "$110", "TO __stage06_output" ] } ], "waitMsAvg": "2", "waitMsMax": "2", "waitRatioAvg": 0.004347826086956522, "waitRatioMax": 0.004347826086956522, "writeMsAvg": "1", "writeMsMax": "1", "writeRatioAvg": 0.002173913043478261, "writeRatioMax": 0.002173913043478261 }, { "completedParallelInputs": "1", "computeMsAvg": "5", "computeMsMax": "5", "computeRatioAvg": 0.010869565217391304, "computeRatioMax": 0.010869565217391304, "endMs": "1665777501104", "id": "7", "inputStages": [ "6" ], "name": "S07: Aggregate", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "1", "recordsWritten": "1", "shuffleOutputBytes": "9", "shuffleOutputBytesSpilled": "0", "slotMs": "29", "startMs": "1665777501070", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$110", "FROM __stage06_output" ] }, { "kind": "AGGREGATE", "substeps": [ "$90 := SUM($110)" ] }, { "kind": "WRITE", "substeps": [ "$90", "TO __stage07_output" ] } ], "waitMsAvg": "2", "waitMsMax": "2", "waitRatioAvg": 0.004347826086956522, "waitRatioMax": 0.004347826086956522, "writeMsAvg": "15", "writeMsMax": "15", "writeRatioAvg": 0.03260869565217391, "writeRatioMax": 0.03260869565217391 }, { "completedParallelInputs": "100", "computeMsAvg": "8", "computeMsMax": "15", "computeRatioAvg": 0.017391304347826087, "computeRatioMax": 0.03260869565217391, "endMs": "1665777501184", "id": "8", "inputStages": [ "0" ], "name": "S08: Coalesce", "parallelInputs": "100", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "10", "recordsWritten": "10", "shuffleOutputBytes": "300", "shuffleOutputBytesSpilled": "0", "slotMs": "4090", "startMs": "1665777501117", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "FROM __stage00_output" ] } ], "waitMsAvg": "2", "waitMsMax": "3", "waitRatioAvg": 0.004347826086956522, "waitRatioMax": 0.006521739130434782, "writeMsAvg": "28", "writeMsMax": "57", "writeRatioAvg": 0.06086956521739131, "writeRatioMax": 0.12391304347826088 }, { "completedParallelInputs": "1", "computeMsAvg": "460", "computeMsMax": "460", "computeRatioAvg": 1, "computeRatioMax": 1, "endMs": "1665777501453", "id": "9", "inputStages": [ "1", "8", "2", "4", "3" ], "name": "S09: Join+", "parallelInputs": "1", "readMsAvg": "15", "readMsMax": "15", "readRatioAvg": 0.03260869565217391, "readRatioMax": 0.03260869565217391, "recordsRead": "887485", "recordsWritten": "21362", "shuffleOutputBytes": "2086883", "shuffleOutputBytesSpilled": "0", "slotMs": "357", "startMs": "1665777501121", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$50:ws_sold_date_sk, $51:ws_item_sk, $52:ws_bill_customer_sk, $53:ws_sales_price", "FROM web_sales" ] }, { "kind": "READ", "substeps": [ "$60, $61", "FROM __stage04_output" ] }, { "kind": "READ", "substeps": [ "$30, $31, $32", "FROM __stage03_output" ] }, { "kind": "READ", "substeps": [ "$40", "FROM __stage02_output" ] }, { "kind": "READ", "substeps": [ "$10, $11", "FROM __stage01_output" ] }, { "kind": "READ", "substeps": [ "$21, $160", "FROM __stage08_output" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $230 := $224", "$120 := ANY_VALUE($140)", "$121 := ANY_VALUE($220)", "$122 := ANY_VALUE($221)", "$123 := ANY_VALUE($222)", "$124 := ANY_VALUE($223)" ] }, { "kind": "COMPUTE", "substeps": [ "$140 := not(is_null($225))" ] }, { "kind": "JOIN", "substeps": [ "$220 := $213, $221 := $210, $222 := $211, $223 := $212, $224 := $150, $225 := $160", "LEFT OUTER HASH JOIN EACH WITH ALL ON $213 = $21" ] }, { "kind": "COMPUTE", "substeps": [ "$150 := UNIQUE_ROW_ID()" ] }, { "kind": "JOIN", "substeps": [ "$210 := $200, $211 := $201, $212 := $203, $213 := $11", "INNER HASH JOIN EACH WITH ALL ON $202 = $10" ] }, { "kind": "JOIN", "substeps": [ "$200 := $183, $201 := $184, $202 := $181, $203 := $182", "INNER HASH JOIN EACH WITH ALL ON $180 = $40" ] }, { "kind": "JOIN", "substeps": [ "$180 := $170, $181 := $171, $182 := $172, $183 := $31, $184 := $32", "INNER HASH JOIN EACH WITH ALL ON $173 = $30" ] }, { "kind": "JOIN", "substeps": [ "$170 := $50, $171 := $51, $172 := $53, $173 := $61", "INNER HASH JOIN EACH WITH ALL ON $52 = $60" ] }, { "kind": "WRITE", "substeps": [ "$120, $121, $122, $123, $124, $230", "TO __stage09_output", "BY HASH($230)" ] } ], "waitMsAvg": "4", "waitMsMax": "4", "waitRatioAvg": 0.008695652173913044, "waitRatioMax": 0.008695652173913044, "writeMsAvg": "5", "writeMsMax": "5", "writeRatioAvg": 0.010869565217391304, "writeRatioMax": 0.010869565217391304 }, { "completedParallelInputs": "1", "computeMsAvg": "47", "computeMsMax": "47", "computeRatioAvg": 0.10217391304347827, "computeRatioMax": 0.10217391304347827, "endMs": "1665777501570", "id": "10", "inputStages": [ "9", "7" ], "name": "S0A: Aggregate+", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "21363", "recordsWritten": "19", "shuffleOutputBytes": "776", "shuffleOutputBytesSpilled": "0", "slotMs": "55", "startMs": "1665777501531", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$90", "FROM __stage07_output" ] }, { "kind": "READ", "substeps": [ "$120, $121, $122, $123, $124, $230", "FROM __stage09_output" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $250 := $103, $251 := $102", "$80 := SUM($104)" ] }, { "kind": "FILTER", "substeps": [ "or(in(substr($103, 1, 5), '85669', '86197', '88274', '83405', '86475', '85392', '85460', '80348', '81792'), ...)" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $240 := $230", "$100 := ANY_VALUE($120)", "$101 := ANY_VALUE($121)", "$102 := ANY_VALUE($122)", "$103 := ANY_VALUE($123)", "$104 := ANY_VALUE($124)" ] }, { "kind": "WRITE", "substeps": [ "$80, $251, $250", "TO __stage0A_output", "BY HASH($250, $251)" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.002173913043478261, "waitRatioMax": 0.002173913043478261, "writeMsAvg": "7", "writeMsMax": "7", "writeRatioAvg": 0.015217391304347827, "writeRatioMax": 0.015217391304347827 }, { "completedParallelInputs": "1", "computeMsAvg": "8", "computeMsMax": "8", "computeRatioAvg": 0.017391304347826087, "computeRatioMax": 0.017391304347826087, "endMs": "1665777501618", "id": "11", "inputStages": [ "10" ], "name": "S0B: Sort+", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "19", "recordsWritten": "19", "shuffleOutputBytes": "776", "shuffleOutputBytesSpilled": "0", "slotMs": "34", "startMs": "1665777501579", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$80, $251, $250", "FROM __stage0A_output" ] }, { "kind": "SORT", "substeps": [ "$260 ASC, $261 ASC", "LIMIT 100" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $260 := $250, $261 := $251", "$70 := SUM($80)" ] }, { "kind": "WRITE", "substeps": [ "$270, $271, $272", "TO __stage0B_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.002173913043478261, "waitRatioMax": 0.002173913043478261, "writeMsAvg": "16", "writeMsMax": "16", "writeRatioAvg": 0.034782608695652174, "writeRatioMax": 0.034782608695652174 }, { "completedParallelInputs": "1", "computeMsAvg": "13", "computeMsMax": "13", "computeRatioAvg": 0.02826086956521739, "computeRatioMax": 0.02826086956521739, "endMs": "1665777501636", "id": "12", "inputStages": [ "11" ], "name": "S0C: Output", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "19", "recordsWritten": "19", "shuffleOutputBytes": "776", "shuffleOutputBytesSpilled": "0", "slotMs": "42", "startMs": "1665777501596", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$270, $271, $272", "FROM __stage0B_output" ] }, { "kind": "SORT", "substeps": [ "$272 ASC, $271 ASC", "LIMIT 100" ] }, { "kind": "WRITE", "substeps": [ "$280, $281, $282", "TO __stage0C_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.002173913043478261, "waitRatioMax": 0.002173913043478261, "writeMsAvg": "7", "writeMsMax": "7", "writeRatioAvg": 0.015217391304347827, "writeRatioMax": 0.015217391304347827 } ], "referencedTables": [ { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "customer_address" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "date_dim" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "item" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "customer" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "web_sales" } ], "statementType": "SELECT", "timeline": [ { "activeUnits": "0", "completedUnits": "108", "elapsedMs": "603", "estimatedRunnableUnits": "0", "pendingUnits": "0", "totalSlotMs": "4734" }, { "activeUnits": "0", "completedUnits": "111", "elapsedMs": "785", "estimatedRunnableUnits": "0", "pendingUnits": "0", "totalSlotMs": "4866" } ], "totalBytesBilled": "52428800", "totalBytesProcessed": "33860770", "totalPartitionsProcessed": "0", "totalSlotMs": "4866", "transferredBytes": "0" }, "startTime": "1665777500884", "totalBytesProcessed": "33860770", "totalSlotMs": "4866" }, "status": { "state": "DONE" }, "user_email": "jesuispotatos@gmail.com" }
