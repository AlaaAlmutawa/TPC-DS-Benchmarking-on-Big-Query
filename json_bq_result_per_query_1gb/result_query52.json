{ "configuration": { "jobType": "QUERY", "query": { "defaultDataset": { "datasetId": "call_center", "projectId": "test-project-364309" }, "destinationTable": { "datasetId": "_a0aa936c5cea243efb3c6dc011c66cfad39bfcb7", "projectId": "test-project-364309", "tableId": "anon127611bd_8eb1_4932_b537_c1524f771fe7" }, "priority": "INTERACTIVE", "query": "select dt.d_year\n \t,item.i_brand_id brand_id\n \t,item.i_brand brand\n \t,sum(ss_ext_sales_price) ext_price\n from date_dim dt\n ,store_sales\n ,item\n where dt.d_date_sk = store_sales.ss_sold_date_sk\n and store_sales.ss_item_sk = item.i_item_sk\n and item.i_manager_id = 1\n and dt.d_moy=12\n and dt.d_year=2000\n group by dt.d_year\n \t,item.i_brand\n \t,item.i_brand_id\n order by dt.d_year\n \t,ext_price desc\n \t,brand_id\nlimit 100 ;\n", "useLegacySql": false, "useQueryCache": false, "writeDisposition": "WRITE_TRUNCATE" } }, "etag": "mZbBz4pKIRZ4Z06fdXWN/g==", "id": "test-project-364309:europe-west1.query52_1665768382", "jobReference": { "jobId": "query52_1665768382", "location": "europe-west1", "projectId": "test-project-364309" }, "kind": "bigquery#job", "principal_subject": "user:jesuispotatos@gmail.com", "selfLink": "https://bigquery.googleapis.com/bigquery/v2/projects/test-project-364309/jobs/query52_1665768382?location=europe-west1", "statistics": { "creationTime": "1665768382759", "endTime": "1665768383348", "finalExecutionDurationMs": "363", "query": { "billingTier": 1, "cacheHit": false, "estimatedBytesProcessed": "91558261", "performanceInsights": { "avgPreviousExecutionMs": "331" }, "queryPlan": [ { "completedParallelInputs": "1", "computeMsAvg": "10", "computeMsMax": "10", "computeRatioAvg": 0.050761421319796954, "computeRatioMax": 0.050761421319796954, "endMs": "1665768382950", "id": "0", "name": "S00: Input", "parallelInputs": "1", "readMsAvg": "6", "readMsMax": "6", "readRatioAvg": 0.030456852791878174, "readRatioMax": 0.030456852791878174, "recordsRead": "18000", "recordsWritten": "321", "shuffleOutputBytes": "12628", "shuffleOutputBytesSpilled": "0", "slotMs": "33", "startMs": "1665768382920", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$10:i_item_sk, $11:i_brand_id, $12:i_brand, $13:i_manager_id", "FROM item", "WHERE equal($13, 1)" ] }, { "kind": "WRITE", "substeps": [ "$10, $11, $12", "TO __stage00_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.005076142131979695, "waitRatioMax": 0.005076142131979695, "writeMsAvg": "16", "writeMsMax": "16", "writeRatioAvg": 0.08121827411167512, "writeRatioMax": 0.08121827411167512 }, { "completedParallelInputs": "1", "computeMsAvg": "11", "computeMsMax": "11", "computeRatioAvg": 0.05583756345177665, "computeRatioMax": 0.05583756345177665, "endMs": "1665768382993", "id": "2", "name": "S02: Input", "parallelInputs": "1", "readMsAvg": "8", "readMsMax": "8", "readRatioAvg": 0.04060913705583756, "readRatioMax": 0.04060913705583756, "recordsRead": "73049", "recordsWritten": "31", "shuffleOutputBytes": "558", "shuffleOutputBytesSpilled": "0", "slotMs": "39", "startMs": "1665768382950", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$20:d_date_sk, $21:d_year, $22:d_moy", "FROM date_dim", "WHERE and(equal($22, 12), equal($21, 2000))" ] }, { "kind": "WRITE", "substeps": [ "$20, $21", "TO __stage02_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.005076142131979695, "waitRatioMax": 0.005076142131979695, "writeMsAvg": "12", "writeMsMax": "12", "writeRatioAvg": 0.06091370558375635, "writeRatioMax": 0.06091370558375635 }, { "completedParallelInputs": "6", "computeMsAvg": "145", "computeMsMax": "197", "computeRatioAvg": 0.7360406091370558, "computeRatioMax": 1, "endMs": "1665768383169", "id": "3", "inputStages": [ "0", "2" ], "name": "S03: Join+", "parallelInputs": "6", "readMsAvg": "16", "readMsMax": "29", "readRatioAvg": 0.08121827411167512, "readRatioMax": 0.14720812182741116, "recordsRead": "2882516", "recordsWritten": "561", "shuffleOutputBytes": "31675", "shuffleOutputBytesSpilled": "0", "slotMs": "902", "startMs": "1665768383006", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$1:ss_sold_date_sk, $2:ss_item_sk, $3:ss_ext_sales_price", "FROM store_sales" ] }, { "kind": "READ", "substeps": [ "$20, $21", "FROM __stage02_output" ] }, { "kind": "READ", "substeps": [ "$10, $11, $12", "FROM __stage00_output" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $70 := $61, $71 := $63, $72 := $62", "$40 := SUM($60)" ] }, { "kind": "JOIN", "substeps": [ "$60 := $52, $61 := $50, $62 := $11, $63 := $12", "INNER HASH JOIN EACH WITH ALL ON $51 = $10" ] }, { "kind": "JOIN", "substeps": [ "$51 := $2, $52 := $3, $50 := $21", "INNER HASH JOIN EACH WITH ALL ON $1 = $20" ] }, { "kind": "WRITE", "substeps": [ "$72, $71, $70, $40", "TO __stage03_output", "BY HASH($70, $71, $72)" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.005076142131979695, "waitRatioMax": 0.005076142131979695, "writeMsAvg": "6", "writeMsMax": "12", "writeRatioAvg": 0.030456852791878174, "writeRatioMax": 0.06091370558375635 }, { "completedParallelInputs": "1", "computeMsAvg": "12", "computeMsMax": "12", "computeRatioAvg": 0.06091370558375635, "computeRatioMax": 0.06091370558375635, "endMs": "1665768383211", "id": "4", "inputStages": [ "3" ], "name": "S04: Sort+", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "561", "recordsWritten": "100", "shuffleOutputBytes": "5664", "shuffleOutputBytesSpilled": "0", "slotMs": "20", "startMs": "1665768383194", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$72, $71, $70, $40", "FROM __stage03_output" ] }, { "kind": "SORT", "substeps": [ "$80 ASC, $30 DESC, $82 ASC", "LIMIT 100" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $80 := $70, $81 := $71, $82 := $72", "$30 := SUM($40)" ] }, { "kind": "WRITE", "substeps": [ "$90, $91, $92, $93", "TO __stage04_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.005076142131979695, "waitRatioMax": 0.005076142131979695, "writeMsAvg": "2", "writeMsMax": "2", "writeRatioAvg": 0.01015228426395939, "writeRatioMax": 0.01015228426395939 }, { "completedParallelInputs": "1", "computeMsAvg": "9", "computeMsMax": "9", "computeRatioAvg": 0.04568527918781726, "computeRatioMax": 0.04568527918781726, "endMs": "1665768383247", "id": "5", "inputStages": [ "4" ], "name": "S05: Output", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "100", "recordsWritten": "100", "shuffleOutputBytes": "5664", "shuffleOutputBytesSpilled": "0", "slotMs": "37", "startMs": "1665768383211", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$90, $91, $92, $93", "FROM __stage04_output" ] }, { "kind": "SORT", "substeps": [ "$92 ASC, $93 DESC, $90 ASC", "LIMIT 100" ] }, { "kind": "WRITE", "substeps": [ "$100, $101, $102, $103", "TO __stage05_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.005076142131979695, "waitRatioMax": 0.005076142131979695, "writeMsAvg": "28", "writeMsMax": "28", "writeRatioAvg": 0.14213197969543148, "writeRatioMax": 0.14213197969543148 } ], "referencedTables": [ { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "date_dim" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "store_sales" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "item" } ], "statementType": "SELECT", "timeline": [ { "completedUnits": "10", "elapsedMs": "469", "estimatedRunnableUnits": "0", "pendingUnits": "0", "totalSlotMs": "1033" } ], "totalBytesBilled": "92274688", "totalBytesProcessed": "91558261", "totalPartitionsProcessed": "0", "totalSlotMs": "1033", "transferredBytes": "0" }, "startTime": "1665768382818", "totalBytesProcessed": "91558261", "totalSlotMs": "1033" }, "status": { "state": "DONE" }, "user_email": "jesuispotatos@gmail.com" }
{ "configuration": { "jobType": "QUERY", "query": { "defaultDataset": { "datasetId": "call_center", "projectId": "test-project-364309" }, "destinationTable": { "datasetId": "_a0aa936c5cea243efb3c6dc011c66cfad39bfcb7", "projectId": "test-project-364309", "tableId": "anonf10e8f6c_df36_404d_b7f6_606cfe51a751" }, "priority": "INTERACTIVE", "query": "select dt.d_year\n \t,item.i_brand_id brand_id\n \t,item.i_brand brand\n \t,sum(ss_ext_sales_price) ext_price\n from date_dim dt\n ,store_sales\n ,item\n where dt.d_date_sk = store_sales.ss_sold_date_sk\n and store_sales.ss_item_sk = item.i_item_sk\n and item.i_manager_id = 1\n and dt.d_moy=12\n and dt.d_year=2000\n group by dt.d_year\n \t,item.i_brand\n \t,item.i_brand_id\n order by dt.d_year\n \t,ext_price desc\n \t,brand_id\nlimit 100 ;\n", "useLegacySql": false, "useQueryCache": false, "writeDisposition": "WRITE_TRUNCATE" } }, "etag": "pXsxYcrUfKSpOaIsGC3CQg==", "id": "test-project-364309:europe-west1.query52_1665777758", "jobReference": { "jobId": "query52_1665777758", "location": "europe-west1", "projectId": "test-project-364309" }, "kind": "bigquery#job", "principal_subject": "user:jesuispotatos@gmail.com", "selfLink": "https://bigquery.googleapis.com/bigquery/v2/projects/test-project-364309/jobs/query52_1665777758?location=europe-west1", "statistics": { "creationTime": "1665777759425", "endTime": "1665777759882", "finalExecutionDurationMs": "257", "query": { "billingTier": 1, "cacheHit": false, "estimatedBytesProcessed": "91558261", "performanceInsights": { "avgPreviousExecutionMs": "336" }, "queryPlan": [ { "completedParallelInputs": "1", "computeMsAvg": "9", "computeMsMax": "9", "computeRatioAvg": 0.06206896551724138, "computeRatioMax": 0.06206896551724138, "endMs": "1665777759592", "id": "0", "name": "S00: Input", "parallelInputs": "1", "readMsAvg": "5", "readMsMax": "5", "readRatioAvg": 0.034482758620689655, "readRatioMax": 0.034482758620689655, "recordsRead": "18000", "recordsWritten": "321", "shuffleOutputBytes": "12628", "shuffleOutputBytesSpilled": "0", "slotMs": "20", "startMs": "1665777759566", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$10:i_item_sk, $11:i_brand_id, $12:i_brand, $13:i_manager_id", "FROM item", "WHERE equal($13, 1)" ] }, { "kind": "WRITE", "substeps": [ "$10, $11, $12", "TO __stage00_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.006896551724137931, "waitRatioMax": 0.006896551724137931, "writeMsAvg": "14", "writeMsMax": "14", "writeRatioAvg": 0.09655172413793103, "writeRatioMax": 0.09655172413793103 }, { "completedParallelInputs": "1", "computeMsAvg": "10", "computeMsMax": "10", "computeRatioAvg": 0.06896551724137931, "computeRatioMax": 0.06896551724137931, "endMs": "1665777759628", "id": "2", "name": "S02: Input", "parallelInputs": "1", "readMsAvg": "7", "readMsMax": "7", "readRatioAvg": 0.04827586206896552, "readRatioMax": 0.04827586206896552, "recordsRead": "73049", "recordsWritten": "31", "shuffleOutputBytes": "558", "shuffleOutputBytesSpilled": "0", "slotMs": "41", "startMs": "1665777759590", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$20:d_date_sk, $21:d_year, $22:d_moy", "FROM date_dim", "WHERE and(equal($22, 12), equal($21, 2000))" ] }, { "kind": "WRITE", "substeps": [ "$20, $21", "TO __stage02_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.006896551724137931, "waitRatioMax": 0.006896551724137931, "writeMsAvg": "9", "writeMsMax": "9", "writeRatioAvg": 0.06206896551724138, "writeRatioMax": 0.06206896551724138 }, { "completedParallelInputs": "6", "computeMsAvg": "124", "computeMsMax": "145", "computeRatioAvg": 0.8551724137931035, "computeRatioMax": 1, "endMs": "1665777759735", "id": "3", "inputStages": [ "2", "0" ], "name": "S03: Join+", "parallelInputs": "6", "readMsAvg": "13", "readMsMax": "16", "readRatioAvg": 0.0896551724137931, "readRatioMax": 0.1103448275862069, "recordsRead": "2882516", "recordsWritten": "561", "shuffleOutputBytes": "31675", "shuffleOutputBytesSpilled": "0", "slotMs": "632", "startMs": "1665777759638", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$1:ss_sold_date_sk, $2:ss_item_sk, $3:ss_ext_sales_price", "FROM store_sales" ] }, { "kind": "READ", "substeps": [ "$20, $21", "FROM __stage02_output" ] }, { "kind": "READ", "substeps": [ "$10, $11, $12", "FROM __stage00_output" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $70 := $61, $71 := $63, $72 := $62", "$40 := SUM($60)" ] }, { "kind": "JOIN", "substeps": [ "$60 := $52, $61 := $50, $62 := $11, $63 := $12", "INNER HASH JOIN EACH WITH ALL ON $51 = $10" ] }, { "kind": "JOIN", "substeps": [ "$51 := $2, $52 := $3, $50 := $21", "INNER HASH JOIN EACH WITH ALL ON $1 = $20" ] }, { "kind": "WRITE", "substeps": [ "$72, $71, $70, $40", "TO __stage03_output", "BY HASH($70, $71, $72)" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.006896551724137931, "waitRatioMax": 0.006896551724137931, "writeMsAvg": "5", "writeMsMax": "6", "writeRatioAvg": 0.034482758620689655, "writeRatioMax": 0.041379310344827586 }, { "completedParallelInputs": "1", "computeMsAvg": "6", "computeMsMax": "6", "computeRatioAvg": 0.041379310344827586, "computeRatioMax": 0.041379310344827586, "endMs": "1665777759753", "id": "4", "inputStages": [ "3" ], "name": "S04: Sort+", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "561", "recordsWritten": "100", "shuffleOutputBytes": "5664", "shuffleOutputBytesSpilled": "0", "slotMs": "8", "startMs": "1665777759743", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$72, $71, $70, $40", "FROM __stage03_output" ] }, { "kind": "SORT", "substeps": [ "$80 ASC, $30 DESC, $82 ASC", "LIMIT 100" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $80 := $70, $81 := $71, $82 := $72", "$30 := SUM($40)" ] }, { "kind": "WRITE", "substeps": [ "$90, $91, $92, $93", "TO __stage04_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.006896551724137931, "waitRatioMax": 0.006896551724137931, "writeMsAvg": "0", "writeMsMax": "0", "writeRatioAvg": 0, "writeRatioMax": 0 }, { "completedParallelInputs": "1", "computeMsAvg": "9", "computeMsMax": "9", "computeRatioAvg": 0.06206896551724138, "computeRatioMax": 0.06206896551724138, "endMs": "1665777759791", "id": "5", "inputStages": [ "4" ], "name": "S05: Output", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "100", "recordsWritten": "100", "shuffleOutputBytes": "5664", "shuffleOutputBytesSpilled": "0", "slotMs": "39", "startMs": "1665777759756", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$90, $91, $92, $93", "FROM __stage04_output" ] }, { "kind": "SORT", "substeps": [ "$92 ASC, $93 DESC, $90 ASC", "LIMIT 100" ] }, { "kind": "WRITE", "substeps": [ "$100, $101, $102, $103", "TO __stage05_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.006896551724137931, "waitRatioMax": 0.006896551724137931, "writeMsAvg": "15", "writeMsMax": "15", "writeRatioAvg": 0.10344827586206896, "writeRatioMax": 0.10344827586206896 } ], "referencedTables": [ { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "store_sales" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "date_dim" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "item" } ], "statementType": "SELECT", "timeline": [ { "completedUnits": "10", "elapsedMs": "338", "estimatedRunnableUnits": "0", "pendingUnits": "0", "totalSlotMs": "753" } ], "totalBytesBilled": "92274688", "totalBytesProcessed": "91558261", "totalPartitionsProcessed": "0", "totalSlotMs": "753", "transferredBytes": "0" }, "startTime": "1665777759481", "totalBytesProcessed": "91558261", "totalSlotMs": "753" }, "status": { "state": "DONE" }, "user_email": "jesuispotatos@gmail.com" }
{ "configuration": { "jobType": "QUERY", "query": { "defaultDataset": { "datasetId": "call_center", "projectId": "test-project-364309" }, "destinationTable": { "datasetId": "_a0aa936c5cea243efb3c6dc011c66cfad39bfcb7", "projectId": "test-project-364309", "tableId": "anonbded37f2_38b3_45ca_b5b9_cc054814967f" }, "priority": "INTERACTIVE", "query": "select dt.d_year\n \t,item.i_brand_id brand_id\n \t,item.i_brand brand\n \t,sum(ss_ext_sales_price) ext_price\n from date_dim dt\n ,store_sales\n ,item\n where dt.d_date_sk = store_sales.ss_sold_date_sk\n and store_sales.ss_item_sk = item.i_item_sk\n and item.i_manager_id = 1\n and dt.d_moy=12\n and dt.d_year=2000\n group by dt.d_year\n \t,item.i_brand\n \t,item.i_brand_id\n order by dt.d_year\n \t,ext_price desc\n \t,brand_id\nlimit 100 ;\n", "useLegacySql": false, "useQueryCache": false, "writeDisposition": "WRITE_TRUNCATE" } }, "etag": "EMLVXMDJNFGux8seaF3cFA==", "id": "test-project-364309:europe-west1.query52_1665777760", "jobReference": { "jobId": "query52_1665777760", "location": "europe-west1", "projectId": "test-project-364309" }, "kind": "bigquery#job", "principal_subject": "user:jesuispotatos@gmail.com", "selfLink": "https://bigquery.googleapis.com/bigquery/v2/projects/test-project-364309/jobs/query52_1665777760?location=europe-west1", "statistics": { "creationTime": "1665777761429", "endTime": "1665777761940", "finalExecutionDurationMs": "300", "query": { "billingTier": 1, "cacheHit": false, "estimatedBytesProcessed": "91558261", "performanceInsights": { "avgPreviousExecutionMs": "325" }, "queryPlan": [ { "completedParallelInputs": "1", "computeMsAvg": "10", "computeMsMax": "10", "computeRatioAvg": 0.07518796992481203, "computeRatioMax": 0.07518796992481203, "endMs": "1665777761597", "id": "0", "name": "S00: Input", "parallelInputs": "1", "readMsAvg": "9", "readMsMax": "9", "readRatioAvg": 0.06766917293233082, "readRatioMax": 0.06766917293233082, "recordsRead": "18000", "recordsWritten": "321", "shuffleOutputBytes": "12628", "shuffleOutputBytesSpilled": "0", "slotMs": "37", "startMs": "1665777761559", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$10:i_item_sk, $11:i_brand_id, $12:i_brand, $13:i_manager_id", "FROM item", "WHERE equal($13, 1)" ] }, { "kind": "WRITE", "substeps": [ "$10, $11, $12", "TO __stage00_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.007518796992481203, "waitRatioMax": 0.007518796992481203, "writeMsAvg": "7", "writeMsMax": "7", "writeRatioAvg": 0.05263157894736842, "writeRatioMax": 0.05263157894736842 }, { "completedParallelInputs": "1", "computeMsAvg": "11", "computeMsMax": "11", "computeRatioAvg": 0.08270676691729323, "computeRatioMax": 0.08270676691729323, "endMs": "1665777761642", "id": "2", "name": "S02: Input", "parallelInputs": "1", "readMsAvg": "6", "readMsMax": "6", "readRatioAvg": 0.045112781954887216, "readRatioMax": 0.045112781954887216, "recordsRead": "73049", "recordsWritten": "31", "shuffleOutputBytes": "558", "shuffleOutputBytesSpilled": "0", "slotMs": "41", "startMs": "1665777761600", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$20:d_date_sk, $21:d_year, $22:d_moy", "FROM date_dim", "WHERE and(equal($22, 12), equal($21, 2000))" ] }, { "kind": "WRITE", "substeps": [ "$20, $21", "TO __stage02_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.007518796992481203, "waitRatioMax": 0.007518796992481203, "writeMsAvg": "14", "writeMsMax": "14", "writeRatioAvg": 0.10526315789473684, "writeRatioMax": 0.10526315789473684 }, { "completedParallelInputs": "6", "computeMsAvg": "117", "computeMsMax": "133", "computeRatioAvg": 0.8796992481203008, "computeRatioMax": 1, "endMs": "1665777761761", "id": "3", "inputStages": [ "0", "2" ], "name": "S03: Join+", "parallelInputs": "6", "readMsAvg": "13", "readMsMax": "17", "readRatioAvg": 0.09774436090225563, "readRatioMax": 0.12781954887218044, "recordsRead": "2882516", "recordsWritten": "561", "shuffleOutputBytes": "31675", "shuffleOutputBytesSpilled": "0", "slotMs": "683", "startMs": "1665777761660", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$1:ss_sold_date_sk, $2:ss_item_sk, $3:ss_ext_sales_price", "FROM store_sales" ] }, { "kind": "READ", "substeps": [ "$20, $21", "FROM __stage02_output" ] }, { "kind": "READ", "substeps": [ "$10, $11, $12", "FROM __stage00_output" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $70 := $61, $71 := $63, $72 := $62", "$40 := SUM($60)" ] }, { "kind": "JOIN", "substeps": [ "$60 := $52, $61 := $50, $62 := $11, $63 := $12", "INNER HASH JOIN EACH WITH ALL ON $51 = $10" ] }, { "kind": "JOIN", "substeps": [ "$51 := $2, $52 := $3, $50 := $21", "INNER HASH JOIN EACH WITH ALL ON $1 = $20" ] }, { "kind": "WRITE", "substeps": [ "$72, $71, $70, $40", "TO __stage03_output", "BY HASH($70, $71, $72)" ] } ], "waitMsAvg": "1", "waitMsMax": "2", "waitRatioAvg": 0.007518796992481203, "waitRatioMax": 0.015037593984962405, "writeMsAvg": "5", "writeMsMax": "6", "writeRatioAvg": 0.03759398496240601, "writeRatioMax": 0.045112781954887216 }, { "completedParallelInputs": "1", "computeMsAvg": "4", "computeMsMax": "4", "computeRatioAvg": 0.03007518796992481, "computeRatioMax": 0.03007518796992481, "endMs": "1665777761779", "id": "4", "inputStages": [ "3" ], "name": "S04: Sort+", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "561", "recordsWritten": "100", "shuffleOutputBytes": "5664", "shuffleOutputBytesSpilled": "0", "slotMs": "15", "startMs": "1665777761766", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$72, $71, $70, $40", "FROM __stage03_output" ] }, { "kind": "SORT", "substeps": [ "$80 ASC, $30 DESC, $82 ASC", "LIMIT 100" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $80 := $70, $81 := $71, $82 := $72", "$30 := SUM($40)" ] }, { "kind": "WRITE", "substeps": [ "$90, $91, $92, $93", "TO __stage04_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.007518796992481203, "waitRatioMax": 0.007518796992481203, "writeMsAvg": "0", "writeMsMax": "0", "writeRatioAvg": 0, "writeRatioMax": 0 }, { "completedParallelInputs": "1", "computeMsAvg": "6", "computeMsMax": "6", "computeRatioAvg": 0.045112781954887216, "computeRatioMax": 0.045112781954887216, "endMs": "1665777761815", "id": "5", "inputStages": [ "4" ], "name": "S05: Output", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "100", "recordsWritten": "100", "shuffleOutputBytes": "5664", "shuffleOutputBytesSpilled": "0", "slotMs": "30", "startMs": "1665777761779", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$90, $91, $92, $93", "FROM __stage04_output" ] }, { "kind": "SORT", "substeps": [ "$92 ASC, $93 DESC, $90 ASC", "LIMIT 100" ] }, { "kind": "WRITE", "substeps": [ "$100, $101, $102, $103", "TO __stage05_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.007518796992481203, "waitRatioMax": 0.007518796992481203, "writeMsAvg": "27", "writeMsMax": "27", "writeRatioAvg": 0.20300751879699247, "writeRatioMax": 0.20300751879699247 } ], "referencedTables": [ { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "date_dim" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "store_sales" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "item" } ], "statementType": "SELECT", "timeline": [ { "completedUnits": "10", "elapsedMs": "413", "estimatedRunnableUnits": "0", "pendingUnits": "0", "totalSlotMs": "807" } ], "totalBytesBilled": "92274688", "totalBytesProcessed": "91558261", "totalPartitionsProcessed": "0", "totalSlotMs": "807", "transferredBytes": "0" }, "startTime": "1665777761474", "totalBytesProcessed": "91558261", "totalSlotMs": "807" }, "status": { "state": "DONE" }, "user_email": "jesuispotatos@gmail.com" }
{ "configuration": { "jobType": "QUERY", "query": { "defaultDataset": { "datasetId": "call_center", "projectId": "test-project-364309" }, "destinationTable": { "datasetId": "_a0aa936c5cea243efb3c6dc011c66cfad39bfcb7", "projectId": "test-project-364309", "tableId": "anon288e763a_ba92_4d25_bd1d_71a01b7aa86a" }, "priority": "INTERACTIVE", "query": "select dt.d_year\n \t,item.i_brand_id brand_id\n \t,item.i_brand brand\n \t,sum(ss_ext_sales_price) ext_price\n from date_dim dt\n ,store_sales\n ,item\n where dt.d_date_sk = store_sales.ss_sold_date_sk\n and store_sales.ss_item_sk = item.i_item_sk\n and item.i_manager_id = 1\n and dt.d_moy=12\n and dt.d_year=2000\n group by dt.d_year\n \t,item.i_brand\n \t,item.i_brand_id\n order by dt.d_year\n \t,ext_price desc\n \t,brand_id\nlimit 100 ;\n", "useLegacySql": false, "useQueryCache": false, "writeDisposition": "WRITE_TRUNCATE" } }, "etag": "nFpZt6WSNTJGPbpFutnykg==", "id": "test-project-364309:europe-west1.query52_1665777762", "jobReference": { "jobId": "query52_1665777762", "location": "europe-west1", "projectId": "test-project-364309" }, "kind": "bigquery#job", "principal_subject": "user:jesuispotatos@gmail.com", "selfLink": "https://bigquery.googleapis.com/bigquery/v2/projects/test-project-364309/jobs/query52_1665777762?location=europe-west1", "statistics": { "creationTime": "1665777763398", "endTime": "1665777763911", "finalExecutionDurationMs": "281", "query": { "billingTier": 1, "cacheHit": false, "estimatedBytesProcessed": "91558261", "performanceInsights": { "avgPreviousExecutionMs": "322" }, "queryPlan": [ { "completedParallelInputs": "1", "computeMsAvg": "9", "computeMsMax": "9", "computeRatioAvg": 0.06474820143884892, "computeRatioMax": 0.06474820143884892, "endMs": "1665777763558", "id": "0", "name": "S00: Input", "parallelInputs": "1", "readMsAvg": "5", "readMsMax": "5", "readRatioAvg": 0.03597122302158273, "readRatioMax": 0.03597122302158273, "recordsRead": "18000", "recordsWritten": "321", "shuffleOutputBytes": "12628", "shuffleOutputBytesSpilled": "0", "slotMs": "25", "startMs": "1665777763531", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$10:i_item_sk, $11:i_brand_id, $12:i_brand, $13:i_manager_id", "FROM item", "WHERE equal($13, 1)" ] }, { "kind": "WRITE", "substeps": [ "$10, $11, $12", "TO __stage00_output" ] } ], "waitMsAvg": "2", "waitMsMax": "2", "waitRatioAvg": 0.014388489208633094, "waitRatioMax": 0.014388489208633094, "writeMsAvg": "14", "writeMsMax": "14", "writeRatioAvg": 0.10071942446043165, "writeRatioMax": 0.10071942446043165 }, { "completedParallelInputs": "1", "computeMsAvg": "11", "computeMsMax": "11", "computeRatioAvg": 0.07913669064748201, "computeRatioMax": 0.07913669064748201, "endMs": "1665777763596", "id": "2", "name": "S02: Input", "parallelInputs": "1", "readMsAvg": "7", "readMsMax": "7", "readRatioAvg": 0.050359712230215826, "readRatioMax": 0.050359712230215826, "recordsRead": "73049", "recordsWritten": "31", "shuffleOutputBytes": "558", "shuffleOutputBytesSpilled": "0", "slotMs": "34", "startMs": "1665777763561", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$20:d_date_sk, $21:d_year, $22:d_moy", "FROM date_dim", "WHERE and(equal($22, 12), equal($21, 2000))" ] }, { "kind": "WRITE", "substeps": [ "$20, $21", "TO __stage02_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.007194244604316547, "waitRatioMax": 0.007194244604316547, "writeMsAvg": "7", "writeMsMax": "7", "writeRatioAvg": 0.050359712230215826, "writeRatioMax": 0.050359712230215826 }, { "completedParallelInputs": "6", "computeMsAvg": "116", "computeMsMax": "139", "computeRatioAvg": 0.8345323741007195, "computeRatioMax": 1, "endMs": "1665777763719", "id": "3", "inputStages": [ "2", "0" ], "name": "S03: Join+", "parallelInputs": "6", "readMsAvg": "15", "readMsMax": "18", "readRatioAvg": 0.1079136690647482, "readRatioMax": 0.12949640287769784, "recordsRead": "2882516", "recordsWritten": "561", "shuffleOutputBytes": "31675", "shuffleOutputBytesSpilled": "0", "slotMs": "701", "startMs": "1665777763614", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$1:ss_sold_date_sk, $2:ss_item_sk, $3:ss_ext_sales_price", "FROM store_sales" ] }, { "kind": "READ", "substeps": [ "$20, $21", "FROM __stage02_output" ] }, { "kind": "READ", "substeps": [ "$10, $11, $12", "FROM __stage00_output" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $70 := $61, $71 := $63, $72 := $62", "$40 := SUM($60)" ] }, { "kind": "JOIN", "substeps": [ "$60 := $52, $61 := $50, $62 := $11, $63 := $12", "INNER HASH JOIN EACH WITH ALL ON $51 = $10" ] }, { "kind": "JOIN", "substeps": [ "$51 := $2, $52 := $3, $50 := $21", "INNER HASH JOIN EACH WITH ALL ON $1 = $20" ] }, { "kind": "WRITE", "substeps": [ "$72, $71, $70, $40", "TO __stage03_output", "BY HASH($70, $71, $72)" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.007194244604316547, "waitRatioMax": 0.007194244604316547, "writeMsAvg": "5", "writeMsMax": "6", "writeRatioAvg": 0.03597122302158273, "writeRatioMax": 0.04316546762589928 }, { "completedParallelInputs": "1", "computeMsAvg": "9", "computeMsMax": "9", "computeRatioAvg": 0.06474820143884892, "computeRatioMax": 0.06474820143884892, "endMs": "1665777763739", "id": "4", "inputStages": [ "3" ], "name": "S04: Sort+", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "561", "recordsWritten": "100", "shuffleOutputBytes": "5664", "shuffleOutputBytesSpilled": "0", "slotMs": "15", "startMs": "1665777763725", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$72, $71, $70, $40", "FROM __stage03_output" ] }, { "kind": "SORT", "substeps": [ "$80 ASC, $30 DESC, $82 ASC", "LIMIT 100" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $80 := $70, $81 := $71, $82 := $72", "$30 := SUM($40)" ] }, { "kind": "WRITE", "substeps": [ "$90, $91, $92, $93", "TO __stage04_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.007194244604316547, "waitRatioMax": 0.007194244604316547, "writeMsAvg": "1", "writeMsMax": "1", "writeRatioAvg": 0.007194244604316547, "writeRatioMax": 0.007194244604316547 }, { "completedParallelInputs": "1", "computeMsAvg": "12", "computeMsMax": "12", "computeRatioAvg": 0.08633093525179857, "computeRatioMax": 0.08633093525179857, "endMs": "1665777763776", "id": "5", "inputStages": [ "4" ], "name": "S05: Output", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "100", "recordsWritten": "100", "shuffleOutputBytes": "5664", "shuffleOutputBytesSpilled": "0", "slotMs": "35", "startMs": "1665777763739", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$90, $91, $92, $93", "FROM __stage04_output" ] }, { "kind": "SORT", "substeps": [ "$92 ASC, $93 DESC, $90 ASC", "LIMIT 100" ] }, { "kind": "WRITE", "substeps": [ "$100, $101, $102, $103", "TO __stage05_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.007194244604316547, "waitRatioMax": 0.007194244604316547, "writeMsAvg": "16", "writeMsMax": "16", "writeRatioAvg": 0.11510791366906475, "writeRatioMax": 0.11510791366906475 } ], "referencedTables": [ { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "item" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "date_dim" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "store_sales" } ], "statementType": "SELECT", "timeline": [ { "completedUnits": "10", "elapsedMs": "421", "estimatedRunnableUnits": "0", "pendingUnits": "0", "totalSlotMs": "939" } ], "totalBytesBilled": "92274688", "totalBytesProcessed": "91558261", "totalPartitionsProcessed": "0", "totalSlotMs": "939", "transferredBytes": "0" }, "startTime": "1665777763444", "totalBytesProcessed": "91558261", "totalSlotMs": "939" }, "status": { "state": "DONE" }, "user_email": "jesuispotatos@gmail.com" }
{ "configuration": { "jobType": "QUERY", "query": { "defaultDataset": { "datasetId": "call_center", "projectId": "test-project-364309" }, "destinationTable": { "datasetId": "_a0aa936c5cea243efb3c6dc011c66cfad39bfcb7", "projectId": "test-project-364309", "tableId": "anon2b8099e2_b23f_4af6_9d0b_e8e89c7463b8" }, "priority": "INTERACTIVE", "query": "select dt.d_year\n \t,item.i_brand_id brand_id\n \t,item.i_brand brand\n \t,sum(ss_ext_sales_price) ext_price\n from date_dim dt\n ,store_sales\n ,item\n where dt.d_date_sk = store_sales.ss_sold_date_sk\n and store_sales.ss_item_sk = item.i_item_sk\n and item.i_manager_id = 1\n and dt.d_moy=12\n and dt.d_year=2000\n group by dt.d_year\n \t,item.i_brand\n \t,item.i_brand_id\n order by dt.d_year\n \t,ext_price desc\n \t,brand_id\nlimit 100 ;\n", "useLegacySql": false, "useQueryCache": false, "writeDisposition": "WRITE_TRUNCATE" } }, "etag": "/tBe+8yOre9O6HOXdQ4BLw==", "id": "test-project-364309:europe-west1.query52_1665777764", "jobReference": { "jobId": "query52_1665777764", "location": "europe-west1", "projectId": "test-project-364309" }, "kind": "bigquery#job", "principal_subject": "user:jesuispotatos@gmail.com", "selfLink": "https://bigquery.googleapis.com/bigquery/v2/projects/test-project-364309/jobs/query52_1665777764?location=europe-west1", "statistics": { "creationTime": "1665777765455", "endTime": "1665777765996", "finalExecutionDurationMs": "309", "query": { "billingTier": 1, "cacheHit": false, "estimatedBytesProcessed": "91558261", "performanceInsights": { "avgPreviousExecutionMs": "317" }, "queryPlan": [ { "completedParallelInputs": "1", "computeMsAvg": "7", "computeMsMax": "7", "computeRatioAvg": 0.051470588235294115, "computeRatioMax": 0.051470588235294115, "endMs": "1665777765636", "id": "0", "name": "S00: Input", "parallelInputs": "1", "readMsAvg": "4", "readMsMax": "4", "readRatioAvg": 0.029411764705882353, "readRatioMax": 0.029411764705882353, "recordsRead": "18000", "recordsWritten": "321", "shuffleOutputBytes": "12628", "shuffleOutputBytesSpilled": "0", "slotMs": "61", "startMs": "1665777765599", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$10:i_item_sk, $11:i_brand_id, $12:i_brand, $13:i_manager_id", "FROM item", "WHERE equal($13, 1)" ] }, { "kind": "WRITE", "substeps": [ "$10, $11, $12", "TO __stage00_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.007352941176470588, "waitRatioMax": 0.007352941176470588, "writeMsAvg": "16", "writeMsMax": "16", "writeRatioAvg": 0.11764705882352941, "writeRatioMax": 0.11764705882352941 }, { "completedParallelInputs": "1", "computeMsAvg": "11", "computeMsMax": "11", "computeRatioAvg": 0.08088235294117647, "computeRatioMax": 0.08088235294117647, "endMs": "1665777765676", "id": "2", "name": "S02: Input", "parallelInputs": "1", "readMsAvg": "6", "readMsMax": "6", "readRatioAvg": 0.04411764705882353, "readRatioMax": 0.04411764705882353, "recordsRead": "73049", "recordsWritten": "31", "shuffleOutputBytes": "558", "shuffleOutputBytesSpilled": "0", "slotMs": "39", "startMs": "1665777765635", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$20:d_date_sk, $21:d_year, $22:d_moy", "FROM date_dim", "WHERE and(equal($22, 12), equal($21, 2000))" ] }, { "kind": "WRITE", "substeps": [ "$20, $21", "TO __stage02_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.007352941176470588, "waitRatioMax": 0.007352941176470588, "writeMsAvg": "15", "writeMsMax": "15", "writeRatioAvg": 0.11029411764705882, "writeRatioMax": 0.11029411764705882 }, { "completedParallelInputs": "6", "computeMsAvg": "123", "computeMsMax": "136", "computeRatioAvg": 0.9044117647058824, "computeRatioMax": 1, "endMs": "1665777765812", "id": "3", "inputStages": [ "0", "2" ], "name": "S03: Join+", "parallelInputs": "6", "readMsAvg": "19", "readMsMax": "25", "readRatioAvg": 0.13970588235294118, "readRatioMax": 0.18382352941176472, "recordsRead": "2882516", "recordsWritten": "561", "shuffleOutputBytes": "31675", "shuffleOutputBytesSpilled": "0", "slotMs": "805", "startMs": "1665777765692", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$1:ss_sold_date_sk, $2:ss_item_sk, $3:ss_ext_sales_price", "FROM store_sales" ] }, { "kind": "READ", "substeps": [ "$20, $21", "FROM __stage02_output" ] }, { "kind": "READ", "substeps": [ "$10, $11, $12", "FROM __stage00_output" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $70 := $61, $71 := $63, $72 := $62", "$40 := SUM($60)" ] }, { "kind": "JOIN", "substeps": [ "$60 := $52, $61 := $50, $62 := $11, $63 := $12", "INNER HASH JOIN EACH WITH ALL ON $51 = $10" ] }, { "kind": "JOIN", "substeps": [ "$51 := $2, $52 := $3, $50 := $21", "INNER HASH JOIN EACH WITH ALL ON $1 = $20" ] }, { "kind": "WRITE", "substeps": [ "$72, $71, $70, $40", "TO __stage03_output", "BY HASH($70, $71, $72)" ] } ], "waitMsAvg": "1", "waitMsMax": "2", "waitRatioAvg": 0.007352941176470588, "waitRatioMax": 0.014705882352941176, "writeMsAvg": "6", "writeMsMax": "11", "writeRatioAvg": 0.04411764705882353, "writeRatioMax": 0.08088235294117647 }, { "completedParallelInputs": "1", "computeMsAvg": "4", "computeMsMax": "4", "computeRatioAvg": 0.029411764705882353, "computeRatioMax": 0.029411764705882353, "endMs": "1665777765831", "id": "4", "inputStages": [ "3" ], "name": "S04: Sort+", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "561", "recordsWritten": "100", "shuffleOutputBytes": "5664", "shuffleOutputBytesSpilled": "0", "slotMs": "7", "startMs": "1665777765823", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$72, $71, $70, $40", "FROM __stage03_output" ] }, { "kind": "SORT", "substeps": [ "$80 ASC, $30 DESC, $82 ASC", "LIMIT 100" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $80 := $70, $81 := $71, $82 := $72", "$30 := SUM($40)" ] }, { "kind": "WRITE", "substeps": [ "$90, $91, $92, $93", "TO __stage04_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.007352941176470588, "waitRatioMax": 0.007352941176470588, "writeMsAvg": "0", "writeMsMax": "0", "writeRatioAvg": 0, "writeRatioMax": 0 }, { "completedParallelInputs": "1", "computeMsAvg": "11", "computeMsMax": "11", "computeRatioAvg": 0.08088235294117647, "computeRatioMax": 0.08088235294117647, "endMs": "1665777765878", "id": "5", "inputStages": [ "4" ], "name": "S05: Output", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "100", "recordsWritten": "100", "shuffleOutputBytes": "5664", "shuffleOutputBytesSpilled": "0", "slotMs": "36", "startMs": "1665777765840", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$90, $91, $92, $93", "FROM __stage04_output" ] }, { "kind": "SORT", "substeps": [ "$92 ASC, $93 DESC, $90 ASC", "LIMIT 100" ] }, { "kind": "WRITE", "substeps": [ "$100, $101, $102, $103", "TO __stage05_output" ] } ], "waitMsAvg": "2", "waitMsMax": "2", "waitRatioAvg": 0.014705882352941176, "waitRatioMax": 0.014705882352941176, "writeMsAvg": "29", "writeMsMax": "29", "writeRatioAvg": 0.21323529411764705, "writeRatioMax": 0.21323529411764705 } ], "referencedTables": [ { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "date_dim" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "item" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "store_sales" } ], "statementType": "SELECT", "timeline": [ { "completedUnits": "10", "elapsedMs": "445", "estimatedRunnableUnits": "0", "pendingUnits": "0", "totalSlotMs": "1106" } ], "totalBytesBilled": "92274688", "totalBytesProcessed": "91558261", "totalPartitionsProcessed": "0", "totalSlotMs": "1106", "transferredBytes": "0" }, "startTime": "1665777765503", "totalBytesProcessed": "91558261", "totalSlotMs": "1106" }, "status": { "state": "DONE" }, "user_email": "jesuispotatos@gmail.com" }
{ "configuration": { "jobType": "QUERY", "query": { "defaultDataset": { "datasetId": "call_center", "projectId": "test-project-364309" }, "destinationTable": { "datasetId": "_a0aa936c5cea243efb3c6dc011c66cfad39bfcb7", "projectId": "test-project-364309", "tableId": "anonb8bf4027_227a_4fd9_84eb_94c6fc2876fd" }, "priority": "INTERACTIVE", "query": "select dt.d_year\n \t,item.i_brand_id brand_id\n \t,item.i_brand brand\n \t,sum(ss_ext_sales_price) ext_price\n from date_dim dt\n ,store_sales\n ,item\n where dt.d_date_sk = store_sales.ss_sold_date_sk\n and store_sales.ss_item_sk = item.i_item_sk\n and item.i_manager_id = 1\n and dt.d_moy=12\n and dt.d_year=2000\n group by dt.d_year\n \t,item.i_brand\n \t,item.i_brand_id\n order by dt.d_year\n \t,ext_price desc\n \t,brand_id\nlimit 100 ;\n", "useLegacySql": false, "useQueryCache": false, "writeDisposition": "WRITE_TRUNCATE" } }, "etag": "Br0PPWzkVLqE+MFEZvfqfQ==", "id": "test-project-364309:europe-west1.query52_1665777767", "jobReference": { "jobId": "query52_1665777767", "location": "europe-west1", "projectId": "test-project-364309" }, "kind": "bigquery#job", "principal_subject": "user:jesuispotatos@gmail.com", "selfLink": "https://bigquery.googleapis.com/bigquery/v2/projects/test-project-364309/jobs/query52_1665777767?location=europe-west1", "statistics": { "creationTime": "1665777768371", "endTime": "1665777768902", "finalExecutionDurationMs": "285", "query": { "billingTier": 1, "cacheHit": false, "estimatedBytesProcessed": "91558261", "performanceInsights": { "avgPreviousExecutionMs": "317" }, "queryPlan": [ { "completedParallelInputs": "1", "computeMsAvg": "18", "computeMsMax": "18", "computeRatioAvg": 0.16071428571428573, "computeRatioMax": 0.16071428571428573, "endMs": "1665777768542", "id": "0", "name": "S00: Input", "parallelInputs": "1", "readMsAvg": "11", "readMsMax": "11", "readRatioAvg": 0.09821428571428571, "readRatioMax": 0.09821428571428571, "recordsRead": "18000", "recordsWritten": "321", "shuffleOutputBytes": "12628", "shuffleOutputBytesSpilled": "0", "slotMs": "44", "startMs": "1665777768506", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$10:i_item_sk, $11:i_brand_id, $12:i_brand, $13:i_manager_id", "FROM item", "WHERE equal($13, 1)" ] }, { "kind": "WRITE", "substeps": [ "$10, $11, $12", "TO __stage00_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.008928571428571428, "waitRatioMax": 0.008928571428571428, "writeMsAvg": "10", "writeMsMax": "10", "writeRatioAvg": 0.08928571428571429, "writeRatioMax": 0.08928571428571429 }, { "completedParallelInputs": "1", "computeMsAvg": "13", "computeMsMax": "13", "computeRatioAvg": 0.11607142857142858, "computeRatioMax": 0.11607142857142858, "endMs": "1665777768582", "id": "2", "name": "S02: Input", "parallelInputs": "1", "readMsAvg": "7", "readMsMax": "7", "readRatioAvg": 0.0625, "readRatioMax": 0.0625, "recordsRead": "73049", "recordsWritten": "31", "shuffleOutputBytes": "558", "shuffleOutputBytesSpilled": "0", "slotMs": "43", "startMs": "1665777768537", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$20:d_date_sk, $21:d_year, $22:d_moy", "FROM date_dim", "WHERE and(equal($22, 12), equal($21, 2000))" ] }, { "kind": "WRITE", "substeps": [ "$20, $21", "TO __stage02_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.008928571428571428, "waitRatioMax": 0.008928571428571428, "writeMsAvg": "14", "writeMsMax": "14", "writeRatioAvg": 0.125, "writeRatioMax": 0.125 }, { "completedParallelInputs": "6", "computeMsAvg": "102", "computeMsMax": "112", "computeRatioAvg": 0.9107142857142857, "computeRatioMax": 1, "endMs": "1665777768688", "id": "3", "inputStages": [ "0", "2" ], "name": "S03: Join+", "parallelInputs": "6", "readMsAvg": "15", "readMsMax": "18", "readRatioAvg": 0.13392857142857142, "readRatioMax": 0.16071428571428573, "recordsRead": "2882516", "recordsWritten": "561", "shuffleOutputBytes": "31675", "shuffleOutputBytesSpilled": "0", "slotMs": "657", "startMs": "1665777768596", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$1:ss_sold_date_sk, $2:ss_item_sk, $3:ss_ext_sales_price", "FROM store_sales" ] }, { "kind": "READ", "substeps": [ "$20, $21", "FROM __stage02_output" ] }, { "kind": "READ", "substeps": [ "$10, $11, $12", "FROM __stage00_output" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $70 := $61, $71 := $63, $72 := $62", "$40 := SUM($60)" ] }, { "kind": "JOIN", "substeps": [ "$60 := $52, $61 := $50, $62 := $11, $63 := $12", "INNER HASH JOIN EACH WITH ALL ON $51 = $10" ] }, { "kind": "JOIN", "substeps": [ "$51 := $2, $52 := $3, $50 := $21", "INNER HASH JOIN EACH WITH ALL ON $1 = $20" ] }, { "kind": "WRITE", "substeps": [ "$72, $71, $70, $40", "TO __stage03_output", "BY HASH($70, $71, $72)" ] } ], "waitMsAvg": "2", "waitMsMax": "3", "waitRatioAvg": 0.017857142857142856, "waitRatioMax": 0.026785714285714284, "writeMsAvg": "6", "writeMsMax": "11", "writeRatioAvg": 0.05357142857142857, "writeRatioMax": 0.09821428571428571 }, { "completedParallelInputs": "1", "computeMsAvg": "5", "computeMsMax": "5", "computeRatioAvg": 0.044642857142857144, "computeRatioMax": 0.044642857142857144, "endMs": "1665777768704", "id": "4", "inputStages": [ "3" ], "name": "S04: Sort+", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "561", "recordsWritten": "100", "shuffleOutputBytes": "5664", "shuffleOutputBytesSpilled": "0", "slotMs": "9", "startMs": "1665777768692", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$72, $71, $70, $40", "FROM __stage03_output" ] }, { "kind": "SORT", "substeps": [ "$80 ASC, $30 DESC, $82 ASC", "LIMIT 100" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $80 := $70, $81 := $71, $82 := $72", "$30 := SUM($40)" ] }, { "kind": "WRITE", "substeps": [ "$90, $91, $92, $93", "TO __stage04_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.008928571428571428, "waitRatioMax": 0.008928571428571428, "writeMsAvg": "0", "writeMsMax": "0", "writeRatioAvg": 0, "writeRatioMax": 0 }, { "completedParallelInputs": "1", "computeMsAvg": "12", "computeMsMax": "12", "computeRatioAvg": 0.10714285714285714, "computeRatioMax": 0.10714285714285714, "endMs": "1665777768746", "id": "5", "inputStages": [ "4" ], "name": "S05: Output", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "100", "recordsWritten": "100", "shuffleOutputBytes": "5664", "shuffleOutputBytesSpilled": "0", "slotMs": "39", "startMs": "1665777768707", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$90, $91, $92, $93", "FROM __stage04_output" ] }, { "kind": "SORT", "substeps": [ "$92 ASC, $93 DESC, $90 ASC", "LIMIT 100" ] }, { "kind": "WRITE", "substeps": [ "$100, $101, $102, $103", "TO __stage05_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.008928571428571428, "waitRatioMax": 0.008928571428571428, "writeMsAvg": "29", "writeMsMax": "29", "writeRatioAvg": 0.25892857142857145, "writeRatioMax": 0.25892857142857145 } ], "referencedTables": [ { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "item" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "store_sales" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "date_dim" } ], "statementType": "SELECT", "timeline": [ { "completedUnits": "10", "elapsedMs": "434", "estimatedRunnableUnits": "0", "pendingUnits": "0", "totalSlotMs": "795" } ], "totalBytesBilled": "92274688", "totalBytesProcessed": "91558261", "totalPartitionsProcessed": "0", "totalSlotMs": "795", "transferredBytes": "0" }, "startTime": "1665777768416", "totalBytesProcessed": "91558261", "totalSlotMs": "795" }, "status": { "state": "DONE" }, "user_email": "jesuispotatos@gmail.com" }
