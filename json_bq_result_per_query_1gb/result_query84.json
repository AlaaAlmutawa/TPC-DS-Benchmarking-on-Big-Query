{ "configuration": { "jobType": "QUERY", "query": { "defaultDataset": { "datasetId": "call_center", "projectId": "test-project-364309" }, "destinationTable": { "datasetId": "_a0aa936c5cea243efb3c6dc011c66cfad39bfcb7", "projectId": "test-project-364309", "tableId": "anon54f96f5c_f696_4b64_a62c_fe9c893ec95f" }, "priority": "INTERACTIVE", "query": "select c_customer_id as customer_id\n , coalesce(c_last_name,'') || ', ' || coalesce(c_first_name,'') as customername\n from customer\n ,customer_address\n ,customer_demographics\n ,household_demographics\n ,income_band\n ,store_returns\n where ca_city\t = 'Woodland'\n and c_current_addr_sk = ca_address_sk\n and ib_lower_bound >= 60306\n and ib_upper_bound <= 60306 + 50000\n and ib_income_band_sk = hd_income_band_sk\n and cd_demo_sk = c_current_cdemo_sk\n and hd_demo_sk = c_current_hdemo_sk\n and sr_cdemo_sk = cd_demo_sk\n order by c_customer_id\n limit 100;", "useLegacySql": false, "useQueryCache": false, "writeDisposition": "WRITE_TRUNCATE" } }, "etag": "OPl0sLiOmeTwPkf4XZ/drw==", "id": "test-project-364309:europe-west1.query84_1665768493", "jobReference": { "jobId": "query84_1665768493", "location": "europe-west1", "projectId": "test-project-364309" }, "kind": "bigquery#job", "principal_subject": "user:jesuispotatos@gmail.com", "selfLink": "https://bigquery.googleapis.com/bigquery/v2/projects/test-project-364309/jobs/query84_1665768493?location=europe-west1", "statistics": { "creationTime": "1665768494402", "endTime": "1665768495170", "finalExecutionDurationMs": "544", "query": { "billingTier": 1, "cacheHit": false, "estimatedBytesProcessed": "24319342", "performanceInsights": { "avgPreviousExecutionMs": "595" }, "queryPlan": [ { "completedParallelInputs": "1", "computeMsAvg": "102", "computeMsMax": "102", "computeRatioAvg": 0.2905982905982906, "computeRatioMax": 0.2905982905982906, "endMs": "1665768494675", "id": "0", "name": "S00: Input", "parallelInputs": "1", "readMsAvg": "10", "readMsMax": "10", "readRatioAvg": 0.02849002849002849, "readRatioMax": 0.02849002849002849, "recordsRead": "287514", "recordsWritten": "277631", "shuffleOutputBytes": "2498679", "shuffleOutputBytesSpilled": "0", "slotMs": "108", "startMs": "1665768494577", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$1:sr_cdemo_sk", "FROM store_returns" ] }, { "kind": "WRITE", "substeps": [ "$1", "TO __stage00_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.002849002849002849, "waitRatioMax": 0.002849002849002849, "writeMsAvg": "27", "writeMsMax": "27", "writeRatioAvg": 0.07692307692307693, "writeRatioMax": 0.07692307692307693 }, { "completedParallelInputs": "1", "computeMsAvg": "6", "computeMsMax": "6", "computeRatioAvg": 0.017094017094017096, "computeRatioMax": 0.017094017094017096, "endMs": "1665768494619", "id": "1", "name": "S01: Input", "parallelInputs": "1", "readMsAvg": "4", "readMsMax": "4", "readRatioAvg": 0.011396011396011397, "readRatioMax": 0.011396011396011397, "recordsRead": "20", "recordsWritten": "4", "shuffleOutputBytes": "36", "shuffleOutputBytesSpilled": "0", "slotMs": "24", "startMs": "1665768494590", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$20:ib_income_band_sk, $21:ib_lower_bound, $22:ib_upper_bound", "FROM income_band", "WHERE and(greater_or_equal($21, 60306), less_or_equal($22, 110306))" ] }, { "kind": "WRITE", "substeps": [ "$20", "TO __stage01_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.002849002849002849, "waitRatioMax": 0.002849002849002849, "writeMsAvg": "18", "writeMsMax": "18", "writeRatioAvg": 0.05128205128205128, "writeRatioMax": 0.05128205128205128 }, { "completedParallelInputs": "1", "computeMsAvg": "13", "computeMsMax": "13", "computeRatioAvg": 0.037037037037037035, "computeRatioMax": 0.037037037037037035, "endMs": "1665768494636", "id": "2", "name": "S02: Input", "parallelInputs": "1", "readMsAvg": "5", "readMsMax": "5", "readRatioAvg": 0.014245014245014245, "readRatioMax": 0.014245014245014245, "recordsRead": "7200", "recordsWritten": "7200", "shuffleOutputBytes": "129600", "shuffleOutputBytesSpilled": "0", "slotMs": "32", "startMs": "1665768494603", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$10:hd_demo_sk, $11:hd_income_band_sk", "FROM household_demographics" ] }, { "kind": "WRITE", "substeps": [ "$10, $11", "TO __stage02_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.002849002849002849, "waitRatioMax": 0.002849002849002849, "writeMsAvg": "19", "writeMsMax": "19", "writeRatioAvg": 0.05413105413105413, "writeRatioMax": 0.05413105413105413 }, { "completedParallelInputs": "1", "computeMsAvg": "15", "computeMsMax": "15", "computeRatioAvg": 0.042735042735042736, "computeRatioMax": 0.042735042735042736, "endMs": "1665768494667", "id": "4", "name": "S04: Input", "parallelInputs": "1", "readMsAvg": "10", "readMsMax": "10", "readRatioAvg": 0.02849002849002849, "readRatioMax": 0.02849002849002849, "recordsRead": "50000", "recordsWritten": "429", "shuffleOutputBytes": "3861", "shuffleOutputBytesSpilled": "0", "slotMs": "37", "startMs": "1665768494630", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$50:ca_address_sk, $51:ca_city", "FROM customer_address", "WHERE equal($51, 'Woodland')" ] }, { "kind": "WRITE", "substeps": [ "$50", "TO __stage04_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.002849002849002849, "waitRatioMax": 0.002849002849002849, "writeMsAvg": "16", "writeMsMax": "16", "writeRatioAvg": 0.045584045584045586, "writeRatioMax": 0.045584045584045586 }, { "completedParallelInputs": "1", "computeMsAvg": "55", "computeMsMax": "55", "computeRatioAvg": 0.15669515669515668, "computeRatioMax": 0.15669515669515668, "endMs": "1665768494742", "id": "6", "inputStages": [ "4" ], "name": "S06: Join", "parallelInputs": "1", "readMsAvg": "8", "readMsMax": "8", "readRatioAvg": 0.022792022792022793, "readRatioMax": 0.022792022792022793, "recordsRead": "100429", "recordsWritten": "800", "shuffleOutputBytes": "48351", "shuffleOutputBytesSpilled": "0", "slotMs": "62", "startMs": "1665768494694", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$40:c_customer_id, $41:c_current_cdemo_sk, $42:c_current_hdemo_sk, $43:c_current_addr_sk, $44:c_first_name, $45:c_last_name", "FROM customer" ] }, { "kind": "READ", "substeps": [ "$50", "FROM __stage04_output" ] }, { "kind": "JOIN", "substeps": [ "$70 := $40, $71 := $41, $72 := $42, $73 := $44, $74 := $45", "INNER HASH JOIN EACH WITH ALL ON $43 = $50" ] }, { "kind": "WRITE", "substeps": [ "$70, $71, $72, $73, $74", "TO __stage06_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.002849002849002849, "waitRatioMax": 0.002849002849002849, "writeMsAvg": "10", "writeMsMax": "10", "writeRatioAvg": 0.02849002849002849, "writeRatioMax": 0.02849002849002849 }, { "completedParallelInputs": "100", "computeMsAvg": "8", "computeMsMax": "15", "computeRatioAvg": 0.022792022792022793, "computeRatioMax": 0.042735042735042736, "endMs": "1665768494806", "id": "7", "inputStages": [ "6" ], "name": "S07: Coalesce", "parallelInputs": "100", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "800", "recordsWritten": "800", "shuffleOutputBytes": "48351", "shuffleOutputBytesSpilled": "0", "slotMs": "3179", "startMs": "1665768494757", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "FROM __stage06_output" ] } ], "waitMsAvg": "1", "waitMsMax": "11", "waitRatioAvg": 0.002849002849002849, "waitRatioMax": 0.03133903133903134, "writeMsAvg": "13", "writeMsMax": "18", "writeRatioAvg": 0.037037037037037035, "writeRatioMax": 0.05128205128205128 }, { "completedParallelInputs": "1", "computeMsAvg": "351", "computeMsMax": "351", "computeRatioAvg": 1, "computeRatioMax": 1, "endMs": "1665768495043", "id": "8", "inputStages": [ "2", "0", "1", "7" ], "name": "S08: Join+", "parallelInputs": "1", "readMsAvg": "12", "readMsMax": "12", "readRatioAvg": 0.03418803418803419, "readRatioMax": 0.03418803418803419, "recordsRead": "2206435", "recordsWritten": "18", "shuffleOutputBytes": "718", "shuffleOutputBytesSpilled": "0", "slotMs": "390", "startMs": "1665768494767", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$30:cd_demo_sk", "FROM customer_demographics" ] }, { "kind": "READ", "substeps": [ "$70, $71, $72, $73, $74", "FROM __stage07_output" ] }, { "kind": "READ", "substeps": [ "$10, $11", "FROM __stage02_output" ] }, { "kind": "READ", "substeps": [ "$20", "FROM __stage01_output" ] }, { "kind": "READ", "substeps": [ "$1", "FROM __stage00_output" ] }, { "kind": "COMPUTE", "substeps": [ "$60 := concat(concat(coalesce($122, ''), ', '), coalesce($121, ''))" ] }, { "kind": "SORT", "substeps": [ "$110 ASC", "LIMIT 100" ] }, { "kind": "JOIN", "substeps": [ "$110 := $101, $111 := $102, $112 := $103", "INNER HASH JOIN EACH WITH ALL ON $100 = $1" ] }, { "kind": "JOIN", "substeps": [ "$100 := $90, $101 := $91, $102 := $92, $103 := $93", "INNER HASH JOIN EACH WITH ALL ON $94 = $20" ] }, { "kind": "JOIN", "substeps": [ "$90 := $84, $91 := $80, $92 := $82, $93 := $83, $94 := $11", "INNER HASH JOIN EACH WITH ALL ON $81 = $10" ] }, { "kind": "JOIN", "substeps": [ "$84 := $30, $80 := $70, $81 := $72, $82 := $73, $83 := $74", "INNER HASH JOIN EACH WITH ALL ON $30 = $71" ] }, { "kind": "WRITE", "substeps": [ "$120, $60", "TO __stage08_output" ] } ], "waitMsAvg": "10", "waitMsMax": "10", "waitRatioAvg": 0.02849002849002849, "waitRatioMax": 0.02849002849002849, "writeMsAvg": "1", "writeMsMax": "1", "writeRatioAvg": 0.002849002849002849, "writeRatioMax": 0.002849002849002849 }, { "completedParallelInputs": "1", "computeMsAvg": "11", "computeMsMax": "11", "computeRatioAvg": 0.03133903133903134, "computeRatioMax": 0.03133903133903134, "endMs": "1665768495053", "id": "9", "inputStages": [ "8" ], "name": "S09: Output", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "18", "recordsWritten": "18", "shuffleOutputBytes": "718", "shuffleOutputBytesSpilled": "0", "slotMs": "214", "startMs": "1665768494791", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$120, $60", "FROM __stage08_output" ] }, { "kind": "SORT", "substeps": [ "$120 ASC", "LIMIT 100" ] }, { "kind": "WRITE", "substeps": [ "$130, $131", "TO __stage09_output" ] } ], "waitMsAvg": "31", "waitMsMax": "31", "waitRatioAvg": 0.08831908831908832, "waitRatioMax": 0.08831908831908832, "writeMsAvg": "6", "writeMsMax": "6", "writeRatioAvg": 0.017094017094017096, "writeRatioMax": 0.017094017094017096 } ], "referencedTables": [ { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "store_returns" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "household_demographics" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "customer_demographics" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "customer_address" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "customer" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "income_band" } ], "statementType": "SELECT", "timeline": [ { "activeUnits": "0", "completedUnits": "107", "elapsedMs": "619", "estimatedRunnableUnits": "0", "pendingUnits": "0", "totalSlotMs": "4188" }, { "activeUnits": "0", "completedUnits": "107", "elapsedMs": "657", "estimatedRunnableUnits": "0", "pendingUnits": "0", "totalSlotMs": "4188" } ], "totalBytesBilled": "62914560", "totalBytesProcessed": "24319342", "totalPartitionsProcessed": "0", "totalSlotMs": "4188", "transferredBytes": "0" }, "startTime": "1665768494459", "totalBytesProcessed": "24319342", "totalSlotMs": "4188" }, "status": { "state": "DONE" }, "user_email": "jesuispotatos@gmail.com" }
{ "configuration": { "jobType": "QUERY", "query": { "defaultDataset": { "datasetId": "call_center", "projectId": "test-project-364309" }, "destinationTable": { "datasetId": "_a0aa936c5cea243efb3c6dc011c66cfad39bfcb7", "projectId": "test-project-364309", "tableId": "anonced698b8_cf1f_4b0b_8e23_cfcd62a89ae9" }, "priority": "INTERACTIVE", "query": "select c_customer_id as customer_id\n , coalesce(c_last_name,'') || ', ' || coalesce(c_first_name,'') as customername\n from customer\n ,customer_address\n ,customer_demographics\n ,household_demographics\n ,income_band\n ,store_returns\n where ca_city\t = 'Woodland'\n and c_current_addr_sk = ca_address_sk\n and ib_lower_bound >= 60306\n and ib_upper_bound <= 60306 + 50000\n and ib_income_band_sk = hd_income_band_sk\n and cd_demo_sk = c_current_cdemo_sk\n and hd_demo_sk = c_current_hdemo_sk\n and sr_cdemo_sk = cd_demo_sk\n order by c_customer_id\n limit 100;", "useLegacySql": false, "useQueryCache": false, "writeDisposition": "WRITE_TRUNCATE" } }, "etag": "87PNOH9vHh2XXCXPgUNLjQ==", "id": "test-project-364309:europe-west1.query84_1665778696", "jobReference": { "jobId": "query84_1665778696", "location": "europe-west1", "projectId": "test-project-364309" }, "kind": "bigquery#job", "principal_subject": "user:jesuispotatos@gmail.com", "selfLink": "https://bigquery.googleapis.com/bigquery/v2/projects/test-project-364309/jobs/query84_1665778696?location=europe-west1", "statistics": { "creationTime": "1665778697000", "endTime": "1665778697700", "finalExecutionDurationMs": "465", "query": { "billingTier": 1, "cacheHit": false, "estimatedBytesProcessed": "24319342", "performanceInsights": { "avgPreviousExecutionMs": "587" }, "queryPlan": [ { "completedParallelInputs": "1", "computeMsAvg": "87", "computeMsMax": "87", "computeRatioAvg": 0.28431372549019607, "computeRatioMax": 0.28431372549019607, "endMs": "1665778697273", "id": "0", "name": "S00: Input", "parallelInputs": "1", "readMsAvg": "8", "readMsMax": "8", "readRatioAvg": 0.026143790849673203, "readRatioMax": 0.026143790849673203, "recordsRead": "287514", "recordsWritten": "277631", "shuffleOutputBytes": "2498679", "shuffleOutputBytesSpilled": "0", "slotMs": "107", "startMs": "1665778697170", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$1:sr_cdemo_sk", "FROM store_returns" ] }, { "kind": "WRITE", "substeps": [ "$1", "TO __stage00_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0032679738562091504, "waitRatioMax": 0.0032679738562091504, "writeMsAvg": "19", "writeMsMax": "19", "writeRatioAvg": 0.06209150326797386, "writeRatioMax": 0.06209150326797386 }, { "completedParallelInputs": "1", "computeMsAvg": "10", "computeMsMax": "10", "computeRatioAvg": 0.032679738562091505, "computeRatioMax": 0.032679738562091505, "endMs": "1665778697211", "id": "1", "name": "S01: Input", "parallelInputs": "1", "readMsAvg": "5", "readMsMax": "5", "readRatioAvg": 0.016339869281045753, "readRatioMax": 0.016339869281045753, "recordsRead": "20", "recordsWritten": "4", "shuffleOutputBytes": "36", "shuffleOutputBytesSpilled": "0", "slotMs": "30", "startMs": "1665778697183", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$20:ib_income_band_sk, $21:ib_lower_bound, $22:ib_upper_bound", "FROM income_band", "WHERE and(greater_or_equal($21, 60306), less_or_equal($22, 110306))" ] }, { "kind": "WRITE", "substeps": [ "$20", "TO __stage01_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0032679738562091504, "waitRatioMax": 0.0032679738562091504, "writeMsAvg": "16", "writeMsMax": "16", "writeRatioAvg": 0.05228758169934641, "writeRatioMax": 0.05228758169934641 }, { "completedParallelInputs": "1", "computeMsAvg": "7", "computeMsMax": "7", "computeRatioAvg": 0.02287581699346405, "computeRatioMax": 0.02287581699346405, "endMs": "1665778697221", "id": "2", "name": "S02: Input", "parallelInputs": "1", "readMsAvg": "3", "readMsMax": "3", "readRatioAvg": 0.00980392156862745, "readRatioMax": 0.00980392156862745, "recordsRead": "7200", "recordsWritten": "7200", "shuffleOutputBytes": "129600", "shuffleOutputBytesSpilled": "0", "slotMs": "22", "startMs": "1665778697196", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$10:hd_demo_sk, $11:hd_income_band_sk", "FROM household_demographics" ] }, { "kind": "WRITE", "substeps": [ "$10, $11", "TO __stage02_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0032679738562091504, "waitRatioMax": 0.0032679738562091504, "writeMsAvg": "15", "writeMsMax": "15", "writeRatioAvg": 0.049019607843137254, "writeRatioMax": 0.049019607843137254 }, { "completedParallelInputs": "1", "computeMsAvg": "10", "computeMsMax": "10", "computeRatioAvg": 0.032679738562091505, "computeRatioMax": 0.032679738562091505, "endMs": "1665778697273", "id": "4", "name": "S04: Input", "parallelInputs": "1", "readMsAvg": "6", "readMsMax": "6", "readRatioAvg": 0.0196078431372549, "readRatioMax": 0.0196078431372549, "recordsRead": "50000", "recordsWritten": "429", "shuffleOutputBytes": "3861", "shuffleOutputBytesSpilled": "0", "slotMs": "27", "startMs": "1665778697235", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$50:ca_address_sk, $51:ca_city", "FROM customer_address", "WHERE equal($51, 'Woodland')" ] }, { "kind": "WRITE", "substeps": [ "$50", "TO __stage04_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0032679738562091504, "waitRatioMax": 0.0032679738562091504, "writeMsAvg": "12", "writeMsMax": "12", "writeRatioAvg": 0.0392156862745098, "writeRatioMax": 0.0392156862745098 }, { "completedParallelInputs": "1", "computeMsAvg": "87", "computeMsMax": "87", "computeRatioAvg": 0.28431372549019607, "computeRatioMax": 0.28431372549019607, "endMs": "1665778697369", "id": "6", "inputStages": [ "4" ], "name": "S06: Join", "parallelInputs": "1", "readMsAvg": "15", "readMsMax": "15", "readRatioAvg": 0.049019607843137254, "readRatioMax": 0.049019607843137254, "recordsRead": "100429", "recordsWritten": "800", "shuffleOutputBytes": "48351", "shuffleOutputBytesSpilled": "0", "slotMs": "99", "startMs": "1665778697290", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$40:c_customer_id, $41:c_current_cdemo_sk, $42:c_current_hdemo_sk, $43:c_current_addr_sk, $44:c_first_name, $45:c_last_name", "FROM customer" ] }, { "kind": "READ", "substeps": [ "$50", "FROM __stage04_output" ] }, { "kind": "JOIN", "substeps": [ "$70 := $40, $71 := $41, $72 := $42, $73 := $44, $74 := $45", "INNER HASH JOIN EACH WITH ALL ON $43 = $50" ] }, { "kind": "WRITE", "substeps": [ "$70, $71, $72, $73, $74", "TO __stage06_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0032679738562091504, "waitRatioMax": 0.0032679738562091504, "writeMsAvg": "11", "writeMsMax": "11", "writeRatioAvg": 0.03594771241830065, "writeRatioMax": 0.03594771241830065 }, { "completedParallelInputs": "100", "computeMsAvg": "8", "computeMsMax": "18", "computeRatioAvg": 0.026143790849673203, "computeRatioMax": 0.058823529411764705, "endMs": "1665778697424", "id": "7", "inputStages": [ "6" ], "name": "S07: Coalesce", "parallelInputs": "100", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "800", "recordsWritten": "800", "shuffleOutputBytes": "48351", "shuffleOutputBytesSpilled": "0", "slotMs": "2630", "startMs": "1665778697372", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "FROM __stage06_output" ] } ], "waitMsAvg": "1", "waitMsMax": "2", "waitRatioAvg": 0.0032679738562091504, "waitRatioMax": 0.006535947712418301, "writeMsAvg": "15", "writeMsMax": "22", "writeRatioAvg": 0.049019607843137254, "writeRatioMax": 0.0718954248366013 }, { "completedParallelInputs": "1", "computeMsAvg": "306", "computeMsMax": "306", "computeRatioAvg": 1, "computeRatioMax": 1, "endMs": "1665778697583", "id": "8", "inputStages": [ "1", "7", "2", "0" ], "name": "S08: Join+", "parallelInputs": "1", "readMsAvg": "11", "readMsMax": "11", "readRatioAvg": 0.03594771241830065, "readRatioMax": 0.03594771241830065, "recordsRead": "2206435", "recordsWritten": "18", "shuffleOutputBytes": "718", "shuffleOutputBytesSpilled": "0", "slotMs": "284", "startMs": "1665778697376", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$30:cd_demo_sk", "FROM customer_demographics" ] }, { "kind": "READ", "substeps": [ "$70, $71, $72, $73, $74", "FROM __stage07_output" ] }, { "kind": "READ", "substeps": [ "$10, $11", "FROM __stage02_output" ] }, { "kind": "READ", "substeps": [ "$20", "FROM __stage01_output" ] }, { "kind": "READ", "substeps": [ "$1", "FROM __stage00_output" ] }, { "kind": "COMPUTE", "substeps": [ "$60 := concat(concat(coalesce($122, ''), ', '), coalesce($121, ''))" ] }, { "kind": "SORT", "substeps": [ "$110 ASC", "LIMIT 100" ] }, { "kind": "JOIN", "substeps": [ "$110 := $101, $111 := $102, $112 := $103", "INNER HASH JOIN EACH WITH ALL ON $100 = $1" ] }, { "kind": "JOIN", "substeps": [ "$100 := $90, $101 := $91, $102 := $92, $103 := $93", "INNER HASH JOIN EACH WITH ALL ON $94 = $20" ] }, { "kind": "JOIN", "substeps": [ "$90 := $84, $91 := $80, $92 := $82, $93 := $83, $94 := $11", "INNER HASH JOIN EACH WITH ALL ON $81 = $10" ] }, { "kind": "JOIN", "substeps": [ "$84 := $30, $80 := $70, $81 := $72, $82 := $73, $83 := $74", "INNER HASH JOIN EACH WITH ALL ON $30 = $71" ] }, { "kind": "WRITE", "substeps": [ "$120, $60", "TO __stage08_output" ] } ], "waitMsAvg": "3", "waitMsMax": "3", "waitRatioAvg": 0.00980392156862745, "waitRatioMax": 0.00980392156862745, "writeMsAvg": "1", "writeMsMax": "1", "writeRatioAvg": 0.0032679738562091504, "writeRatioMax": 0.0032679738562091504 }, { "completedParallelInputs": "1", "computeMsAvg": "9", "computeMsMax": "9", "computeRatioAvg": 0.029411764705882353, "computeRatioMax": 0.029411764705882353, "endMs": "1665778697604", "id": "9", "inputStages": [ "8" ], "name": "S09: Output", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "18", "recordsWritten": "18", "shuffleOutputBytes": "718", "shuffleOutputBytesSpilled": "0", "slotMs": "155", "startMs": "1665778697377", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$120, $60", "FROM __stage08_output" ] }, { "kind": "SORT", "substeps": [ "$120 ASC", "LIMIT 100" ] }, { "kind": "WRITE", "substeps": [ "$130, $131", "TO __stage09_output" ] } ], "waitMsAvg": "3", "waitMsMax": "3", "waitRatioAvg": 0.00980392156862745, "waitRatioMax": 0.00980392156862745, "writeMsAvg": "10", "writeMsMax": "10", "writeRatioAvg": 0.032679738562091505, "writeRatioMax": 0.032679738562091505 } ], "referencedTables": [ { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "income_band" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "store_returns" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "customer_demographics" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "household_demographics" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "customer_address" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "customer" } ], "statementType": "SELECT", "timeline": [ { "completedUnits": "107", "elapsedMs": "575", "estimatedRunnableUnits": "0", "pendingUnits": "0", "totalSlotMs": "3361" } ], "totalBytesBilled": "62914560", "totalBytesProcessed": "24319342", "totalPartitionsProcessed": "0", "totalSlotMs": "3361", "transferredBytes": "0" }, "startTime": "1665778697060", "totalBytesProcessed": "24319342", "totalSlotMs": "3361" }, "status": { "state": "DONE" }, "user_email": "jesuispotatos@gmail.com" }
{ "configuration": { "jobType": "QUERY", "query": { "defaultDataset": { "datasetId": "call_center", "projectId": "test-project-364309" }, "destinationTable": { "datasetId": "_a0aa936c5cea243efb3c6dc011c66cfad39bfcb7", "projectId": "test-project-364309", "tableId": "anon6aa875e8_cec1_4306_8658_fca43ee9a827" }, "priority": "INTERACTIVE", "query": "select c_customer_id as customer_id\n , coalesce(c_last_name,'') || ', ' || coalesce(c_first_name,'') as customername\n from customer\n ,customer_address\n ,customer_demographics\n ,household_demographics\n ,income_band\n ,store_returns\n where ca_city\t = 'Woodland'\n and c_current_addr_sk = ca_address_sk\n and ib_lower_bound >= 60306\n and ib_upper_bound <= 60306 + 50000\n and ib_income_band_sk = hd_income_band_sk\n and cd_demo_sk = c_current_cdemo_sk\n and hd_demo_sk = c_current_hdemo_sk\n and sr_cdemo_sk = cd_demo_sk\n order by c_customer_id\n limit 100;", "useLegacySql": false, "useQueryCache": false, "writeDisposition": "WRITE_TRUNCATE" } }, "etag": "bgr/iazqOuTblnmNp764rA==", "id": "test-project-364309:europe-west1.query84_1665778698", "jobReference": { "jobId": "query84_1665778698", "location": "europe-west1", "projectId": "test-project-364309" }, "kind": "bigquery#job", "principal_subject": "user:jesuispotatos@gmail.com", "selfLink": "https://bigquery.googleapis.com/bigquery/v2/projects/test-project-364309/jobs/query84_1665778698?location=europe-west1", "statistics": { "creationTime": "1665778699241", "endTime": "1665778700007", "finalExecutionDurationMs": "538", "query": { "billingTier": 1, "cacheHit": false, "estimatedBytesProcessed": "24319342", "performanceInsights": { "avgPreviousExecutionMs": "569" }, "queryPlan": [ { "completedParallelInputs": "1", "computeMsAvg": "129", "computeMsMax": "129", "computeRatioAvg": 0.30424528301886794, "computeRatioMax": 0.30424528301886794, "endMs": "1665778699517", "id": "0", "name": "S00: Input", "parallelInputs": "1", "readMsAvg": "7", "readMsMax": "7", "readRatioAvg": 0.01650943396226415, "readRatioMax": 0.01650943396226415, "recordsRead": "287514", "recordsWritten": "277631", "shuffleOutputBytes": "2498679", "shuffleOutputBytesSpilled": "0", "slotMs": "129", "startMs": "1665778699421", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$1:sr_cdemo_sk", "FROM store_returns" ] }, { "kind": "WRITE", "substeps": [ "$1", "TO __stage00_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0023584905660377358, "waitRatioMax": 0.0023584905660377358, "writeMsAvg": "18", "writeMsMax": "18", "writeRatioAvg": 0.04245283018867924, "writeRatioMax": 0.04245283018867924 }, { "completedParallelInputs": "1", "computeMsAvg": "8", "computeMsMax": "8", "computeRatioAvg": 0.018867924528301886, "computeRatioMax": 0.018867924528301886, "endMs": "1665778699473", "id": "1", "name": "S01: Input", "parallelInputs": "1", "readMsAvg": "4", "readMsMax": "4", "readRatioAvg": 0.009433962264150943, "readRatioMax": 0.009433962264150943, "recordsRead": "20", "recordsWritten": "4", "shuffleOutputBytes": "36", "shuffleOutputBytesSpilled": "0", "slotMs": "31", "startMs": "1665778699436", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$20:ib_income_band_sk, $21:ib_lower_bound, $22:ib_upper_bound", "FROM income_band", "WHERE and(greater_or_equal($21, 60306), less_or_equal($22, 110306))" ] }, { "kind": "WRITE", "substeps": [ "$20", "TO __stage01_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0023584905660377358, "waitRatioMax": 0.0023584905660377358, "writeMsAvg": "25", "writeMsMax": "25", "writeRatioAvg": 0.0589622641509434, "writeRatioMax": 0.0589622641509434 }, { "completedParallelInputs": "1", "computeMsAvg": "14", "computeMsMax": "14", "computeRatioAvg": 0.0330188679245283, "computeRatioMax": 0.0330188679245283, "endMs": "1665778699496", "id": "2", "name": "S02: Input", "parallelInputs": "1", "readMsAvg": "7", "readMsMax": "7", "readRatioAvg": 0.01650943396226415, "readRatioMax": 0.01650943396226415, "recordsRead": "7200", "recordsWritten": "7200", "shuffleOutputBytes": "129600", "shuffleOutputBytesSpilled": "0", "slotMs": "40", "startMs": "1665778699450", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$10:hd_demo_sk, $11:hd_income_band_sk", "FROM household_demographics" ] }, { "kind": "WRITE", "substeps": [ "$10, $11", "TO __stage02_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0023584905660377358, "waitRatioMax": 0.0023584905660377358, "writeMsAvg": "15", "writeMsMax": "15", "writeRatioAvg": 0.03537735849056604, "writeRatioMax": 0.03537735849056604 }, { "completedParallelInputs": "1", "computeMsAvg": "11", "computeMsMax": "11", "computeRatioAvg": 0.025943396226415096, "computeRatioMax": 0.025943396226415096, "endMs": "1665778699534", "id": "4", "name": "S04: Input", "parallelInputs": "1", "readMsAvg": "10", "readMsMax": "10", "readRatioAvg": 0.02358490566037736, "readRatioMax": 0.02358490566037736, "recordsRead": "50000", "recordsWritten": "429", "shuffleOutputBytes": "3861", "shuffleOutputBytesSpilled": "0", "slotMs": "34", "startMs": "1665778699497", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$50:ca_address_sk, $51:ca_city", "FROM customer_address", "WHERE equal($51, 'Woodland')" ] }, { "kind": "WRITE", "substeps": [ "$50", "TO __stage04_output" ] } ], "waitMsAvg": "19", "waitMsMax": "19", "waitRatioAvg": 0.04481132075471698, "waitRatioMax": 0.04481132075471698, "writeMsAvg": "7", "writeMsMax": "7", "writeRatioAvg": 0.01650943396226415, "writeRatioMax": 0.01650943396226415 }, { "completedParallelInputs": "1", "computeMsAvg": "36", "computeMsMax": "36", "computeRatioAvg": 0.08490566037735849, "computeRatioMax": 0.08490566037735849, "endMs": "1665778699615", "id": "6", "inputStages": [ "4" ], "name": "S06: Join", "parallelInputs": "1", "readMsAvg": "6", "readMsMax": "6", "readRatioAvg": 0.014150943396226415, "readRatioMax": 0.014150943396226415, "recordsRead": "100429", "recordsWritten": "800", "shuffleOutputBytes": "48351", "shuffleOutputBytesSpilled": "0", "slotMs": "61", "startMs": "1665778699557", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$40:c_customer_id, $41:c_current_cdemo_sk, $42:c_current_hdemo_sk, $43:c_current_addr_sk, $44:c_first_name, $45:c_last_name", "FROM customer" ] }, { "kind": "READ", "substeps": [ "$50", "FROM __stage04_output" ] }, { "kind": "JOIN", "substeps": [ "$70 := $40, $71 := $41, $72 := $42, $73 := $44, $74 := $45", "INNER HASH JOIN EACH WITH ALL ON $43 = $50" ] }, { "kind": "WRITE", "substeps": [ "$70, $71, $72, $73, $74", "TO __stage06_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0023584905660377358, "waitRatioMax": 0.0023584905660377358, "writeMsAvg": "6", "writeMsMax": "6", "writeRatioAvg": 0.014150943396226415, "writeRatioMax": 0.014150943396226415 }, { "completedParallelInputs": "100", "computeMsAvg": "8", "computeMsMax": "19", "computeRatioAvg": 0.018867924528301886, "computeRatioMax": 0.04481132075471698, "endMs": "1665778699679", "id": "7", "inputStages": [ "6" ], "name": "S07: Coalesce", "parallelInputs": "100", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "800", "recordsWritten": "800", "shuffleOutputBytes": "48351", "shuffleOutputBytesSpilled": "0", "slotMs": "3796", "startMs": "1665778699623", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "FROM __stage06_output" ] } ], "waitMsAvg": "1", "waitMsMax": "11", "waitRatioAvg": 0.0023584905660377358, "waitRatioMax": 0.025943396226415096, "writeMsAvg": "22", "writeMsMax": "31", "writeRatioAvg": 0.05188679245283019, "writeRatioMax": 0.07311320754716981 }, { "completedParallelInputs": "1", "computeMsAvg": "424", "computeMsMax": "424", "computeRatioAvg": 1, "computeRatioMax": 1, "endMs": "1665778699904", "id": "8", "inputStages": [ "7", "1", "0", "2" ], "name": "S08: Join+", "parallelInputs": "1", "readMsAvg": "14", "readMsMax": "14", "readRatioAvg": 0.0330188679245283, "readRatioMax": 0.0330188679245283, "recordsRead": "2206435", "recordsWritten": "18", "shuffleOutputBytes": "718", "shuffleOutputBytesSpilled": "0", "slotMs": "390", "startMs": "1665778699634", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$30:cd_demo_sk", "FROM customer_demographics" ] }, { "kind": "READ", "substeps": [ "$70, $71, $72, $73, $74", "FROM __stage07_output" ] }, { "kind": "READ", "substeps": [ "$10, $11", "FROM __stage02_output" ] }, { "kind": "READ", "substeps": [ "$20", "FROM __stage01_output" ] }, { "kind": "READ", "substeps": [ "$1", "FROM __stage00_output" ] }, { "kind": "COMPUTE", "substeps": [ "$60 := concat(concat(coalesce($122, ''), ', '), coalesce($121, ''))" ] }, { "kind": "SORT", "substeps": [ "$110 ASC", "LIMIT 100" ] }, { "kind": "JOIN", "substeps": [ "$110 := $101, $111 := $102, $112 := $103", "INNER HASH JOIN EACH WITH ALL ON $100 = $1" ] }, { "kind": "JOIN", "substeps": [ "$100 := $90, $101 := $91, $102 := $92, $103 := $93", "INNER HASH JOIN EACH WITH ALL ON $94 = $20" ] }, { "kind": "JOIN", "substeps": [ "$90 := $84, $91 := $80, $92 := $82, $93 := $83, $94 := $11", "INNER HASH JOIN EACH WITH ALL ON $81 = $10" ] }, { "kind": "JOIN", "substeps": [ "$84 := $30, $80 := $70, $81 := $72, $82 := $73, $83 := $74", "INNER HASH JOIN EACH WITH ALL ON $30 = $71" ] }, { "kind": "WRITE", "substeps": [ "$120, $60", "TO __stage08_output" ] } ], "waitMsAvg": "11", "waitMsMax": "11", "waitRatioAvg": 0.025943396226415096, "waitRatioMax": 0.025943396226415096, "writeMsAvg": "1", "writeMsMax": "1", "writeRatioAvg": 0.0023584905660377358, "writeRatioMax": 0.0023584905660377358 }, { "completedParallelInputs": "1", "computeMsAvg": "9", "computeMsMax": "9", "computeRatioAvg": 0.02122641509433962, "computeRatioMax": 0.02122641509433962, "endMs": "1665778699913", "id": "9", "inputStages": [ "8" ], "name": "S09: Output", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "18", "recordsWritten": "18", "shuffleOutputBytes": "718", "shuffleOutputBytesSpilled": "0", "slotMs": "209", "startMs": "1665778699635", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$120, $60", "FROM __stage08_output" ] }, { "kind": "SORT", "substeps": [ "$120 ASC", "LIMIT 100" ] }, { "kind": "WRITE", "substeps": [ "$130, $131", "TO __stage09_output" ] } ], "waitMsAvg": "4", "waitMsMax": "4", "waitRatioAvg": 0.009433962264150943, "waitRatioMax": 0.009433962264150943, "writeMsAvg": "5", "writeMsMax": "5", "writeRatioAvg": 0.01179245283018868, "writeRatioMax": 0.01179245283018868 } ], "referencedTables": [ { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "income_band" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "customer_demographics" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "store_returns" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "customer_address" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "customer" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "household_demographics" } ], "statementType": "SELECT", "timeline": [ { "activeUnits": "0", "completedUnits": "107", "elapsedMs": "631", "estimatedRunnableUnits": "0", "pendingUnits": "0", "totalSlotMs": "4731" }, { "activeUnits": "0", "completedUnits": "107", "elapsedMs": "663", "estimatedRunnableUnits": "0", "pendingUnits": "0", "totalSlotMs": "4731" } ], "totalBytesBilled": "62914560", "totalBytesProcessed": "24319342", "totalPartitionsProcessed": "0", "totalSlotMs": "4731", "transferredBytes": "0" }, "startTime": "1665778699291", "totalBytesProcessed": "24319342", "totalSlotMs": "4731" }, "status": { "state": "DONE" }, "user_email": "jesuispotatos@gmail.com" }
{ "configuration": { "jobType": "QUERY", "query": { "defaultDataset": { "datasetId": "call_center", "projectId": "test-project-364309" }, "destinationTable": { "datasetId": "_a0aa936c5cea243efb3c6dc011c66cfad39bfcb7", "projectId": "test-project-364309", "tableId": "anonbdee2375_695c_497f_897b_868821391033" }, "priority": "INTERACTIVE", "query": "select c_customer_id as customer_id\n , coalesce(c_last_name,'') || ', ' || coalesce(c_first_name,'') as customername\n from customer\n ,customer_address\n ,customer_demographics\n ,household_demographics\n ,income_band\n ,store_returns\n where ca_city\t = 'Woodland'\n and c_current_addr_sk = ca_address_sk\n and ib_lower_bound >= 60306\n and ib_upper_bound <= 60306 + 50000\n and ib_income_band_sk = hd_income_band_sk\n and cd_demo_sk = c_current_cdemo_sk\n and hd_demo_sk = c_current_hdemo_sk\n and sr_cdemo_sk = cd_demo_sk\n order by c_customer_id\n limit 100;", "useLegacySql": false, "useQueryCache": false, "writeDisposition": "WRITE_TRUNCATE" } }, "etag": "nZXN9XP7v1H/joOU8KO29g==", "id": "test-project-364309:europe-west1.query84_1665778700", "jobReference": { "jobId": "query84_1665778700", "location": "europe-west1", "projectId": "test-project-364309" }, "kind": "bigquery#job", "principal_subject": "user:jesuispotatos@gmail.com", "selfLink": "https://bigquery.googleapis.com/bigquery/v2/projects/test-project-364309/jobs/query84_1665778700?location=europe-west1", "statistics": { "creationTime": "1665778701532", "endTime": "1665778702212", "finalExecutionDurationMs": "436", "query": { "billingTier": 1, "cacheHit": false, "estimatedBytesProcessed": "24319342", "performanceInsights": { "avgPreviousExecutionMs": "565" }, "queryPlan": [ { "completedParallelInputs": "1", "computeMsAvg": "106", "computeMsMax": "106", "computeRatioAvg": 0.41568627450980394, "computeRatioMax": 0.41568627450980394, "endMs": "1665778701821", "id": "0", "name": "S00: Input", "parallelInputs": "1", "readMsAvg": "6", "readMsMax": "6", "readRatioAvg": 0.023529411764705882, "readRatioMax": 0.023529411764705882, "recordsRead": "287514", "recordsWritten": "277631", "shuffleOutputBytes": "2498679", "shuffleOutputBytesSpilled": "0", "slotMs": "116", "startMs": "1665778701727", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$1:sr_cdemo_sk", "FROM store_returns" ] }, { "kind": "WRITE", "substeps": [ "$1", "TO __stage00_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.00392156862745098, "waitRatioMax": 0.00392156862745098, "writeMsAvg": "16", "writeMsMax": "16", "writeRatioAvg": 0.06274509803921569, "writeRatioMax": 0.06274509803921569 }, { "completedParallelInputs": "1", "computeMsAvg": "16", "computeMsMax": "16", "computeRatioAvg": 0.06274509803921569, "computeRatioMax": 0.06274509803921569, "endMs": "1665778701775", "id": "1", "name": "S01: Input", "parallelInputs": "1", "readMsAvg": "8", "readMsMax": "8", "readRatioAvg": 0.03137254901960784, "readRatioMax": 0.03137254901960784, "recordsRead": "20", "recordsWritten": "4", "shuffleOutputBytes": "36", "shuffleOutputBytesSpilled": "0", "slotMs": "38", "startMs": "1665778701740", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$20:ib_income_band_sk, $21:ib_lower_bound, $22:ib_upper_bound", "FROM income_band", "WHERE and(greater_or_equal($21, 60306), less_or_equal($22, 110306))" ] }, { "kind": "WRITE", "substeps": [ "$20", "TO __stage01_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.00392156862745098, "waitRatioMax": 0.00392156862745098, "writeMsAvg": "17", "writeMsMax": "17", "writeRatioAvg": 0.06666666666666667, "writeRatioMax": 0.06666666666666667 }, { "completedParallelInputs": "1", "computeMsAvg": "10", "computeMsMax": "10", "computeRatioAvg": 0.0392156862745098, "computeRatioMax": 0.0392156862745098, "endMs": "1665778701782", "id": "2", "name": "S02: Input", "parallelInputs": "1", "readMsAvg": "4", "readMsMax": "4", "readRatioAvg": 0.01568627450980392, "readRatioMax": 0.01568627450980392, "recordsRead": "7200", "recordsWritten": "7200", "shuffleOutputBytes": "129600", "shuffleOutputBytesSpilled": "0", "slotMs": "22", "startMs": "1665778701755", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$10:hd_demo_sk, $11:hd_income_band_sk", "FROM household_demographics" ] }, { "kind": "WRITE", "substeps": [ "$10, $11", "TO __stage02_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.00392156862745098, "waitRatioMax": 0.00392156862745098, "writeMsAvg": "15", "writeMsMax": "15", "writeRatioAvg": 0.058823529411764705, "writeRatioMax": 0.058823529411764705 }, { "completedParallelInputs": "1", "computeMsAvg": "9", "computeMsMax": "9", "computeRatioAvg": 0.03529411764705882, "computeRatioMax": 0.03529411764705882, "endMs": "1665778701819", "id": "4", "name": "S04: Input", "parallelInputs": "1", "readMsAvg": "5", "readMsMax": "5", "readRatioAvg": 0.0196078431372549, "readRatioMax": 0.0196078431372549, "recordsRead": "50000", "recordsWritten": "429", "shuffleOutputBytes": "3861", "shuffleOutputBytesSpilled": "0", "slotMs": "28", "startMs": "1665778701783", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$50:ca_address_sk, $51:ca_city", "FROM customer_address", "WHERE equal($51, 'Woodland')" ] }, { "kind": "WRITE", "substeps": [ "$50", "TO __stage04_output" ] } ], "waitMsAvg": "3", "waitMsMax": "3", "waitRatioAvg": 0.011764705882352941, "waitRatioMax": 0.011764705882352941, "writeMsAvg": "15", "writeMsMax": "15", "writeRatioAvg": 0.058823529411764705, "writeRatioMax": 0.058823529411764705 }, { "completedParallelInputs": "1", "computeMsAvg": "47", "computeMsMax": "47", "computeRatioAvg": 0.1843137254901961, "computeRatioMax": 0.1843137254901961, "endMs": "1665778701884", "id": "6", "inputStages": [ "4" ], "name": "S06: Join", "parallelInputs": "1", "readMsAvg": "10", "readMsMax": "10", "readRatioAvg": 0.0392156862745098, "readRatioMax": 0.0392156862745098, "recordsRead": "100429", "recordsWritten": "800", "shuffleOutputBytes": "48351", "shuffleOutputBytesSpilled": "0", "slotMs": "59", "startMs": "1665778701839", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$40:c_customer_id, $41:c_current_cdemo_sk, $42:c_current_hdemo_sk, $43:c_current_addr_sk, $44:c_first_name, $45:c_last_name", "FROM customer" ] }, { "kind": "READ", "substeps": [ "$50", "FROM __stage04_output" ] }, { "kind": "JOIN", "substeps": [ "$70 := $40, $71 := $41, $72 := $42, $73 := $44, $74 := $45", "INNER HASH JOIN EACH WITH ALL ON $43 = $50" ] }, { "kind": "WRITE", "substeps": [ "$70, $71, $72, $73, $74", "TO __stage06_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.00392156862745098, "waitRatioMax": 0.00392156862745098, "writeMsAvg": "7", "writeMsMax": "7", "writeRatioAvg": 0.027450980392156862, "writeRatioMax": 0.027450980392156862 }, { "completedParallelInputs": "100", "computeMsAvg": "8", "computeMsMax": "16", "computeRatioAvg": 0.03137254901960784, "computeRatioMax": 0.06274509803921569, "endMs": "1665778701947", "id": "7", "inputStages": [ "6" ], "name": "S07: Coalesce", "parallelInputs": "100", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "800", "recordsWritten": "800", "shuffleOutputBytes": "48351", "shuffleOutputBytesSpilled": "0", "slotMs": "3801", "startMs": "1665778701898", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "FROM __stage06_output" ] } ], "waitMsAvg": "2", "waitMsMax": "3", "waitRatioAvg": 0.00784313725490196, "waitRatioMax": 0.011764705882352941, "writeMsAvg": "15", "writeMsMax": "19", "writeRatioAvg": 0.058823529411764705, "writeRatioMax": 0.07450980392156863 }, { "completedParallelInputs": "1", "computeMsAvg": "255", "computeMsMax": "255", "computeRatioAvg": 1, "computeRatioMax": 1, "endMs": "1665778702116", "id": "8", "inputStages": [ "2", "1", "0", "7" ], "name": "S08: Join+", "parallelInputs": "1", "readMsAvg": "16", "readMsMax": "16", "readRatioAvg": 0.06274509803921569, "readRatioMax": 0.06274509803921569, "recordsRead": "2206435", "recordsWritten": "18", "shuffleOutputBytes": "718", "shuffleOutputBytesSpilled": "0", "slotMs": "338", "startMs": "1665778701902", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$30:cd_demo_sk", "FROM customer_demographics" ] }, { "kind": "READ", "substeps": [ "$70, $71, $72, $73, $74", "FROM __stage07_output" ] }, { "kind": "READ", "substeps": [ "$10, $11", "FROM __stage02_output" ] }, { "kind": "READ", "substeps": [ "$20", "FROM __stage01_output" ] }, { "kind": "READ", "substeps": [ "$1", "FROM __stage00_output" ] }, { "kind": "COMPUTE", "substeps": [ "$60 := concat(concat(coalesce($122, ''), ', '), coalesce($121, ''))" ] }, { "kind": "SORT", "substeps": [ "$110 ASC", "LIMIT 100" ] }, { "kind": "JOIN", "substeps": [ "$110 := $101, $111 := $102, $112 := $103", "INNER HASH JOIN EACH WITH ALL ON $100 = $1" ] }, { "kind": "JOIN", "substeps": [ "$100 := $90, $101 := $91, $102 := $92, $103 := $93", "INNER HASH JOIN EACH WITH ALL ON $94 = $20" ] }, { "kind": "JOIN", "substeps": [ "$90 := $84, $91 := $80, $92 := $82, $93 := $83, $94 := $11", "INNER HASH JOIN EACH WITH ALL ON $81 = $10" ] }, { "kind": "JOIN", "substeps": [ "$84 := $30, $80 := $70, $81 := $72, $82 := $73, $83 := $74", "INNER HASH JOIN EACH WITH ALL ON $30 = $71" ] }, { "kind": "WRITE", "substeps": [ "$120, $60", "TO __stage08_output" ] } ], "waitMsAvg": "3", "waitMsMax": "3", "waitRatioAvg": 0.011764705882352941, "waitRatioMax": 0.011764705882352941, "writeMsAvg": "1", "writeMsMax": "1", "writeRatioAvg": 0.00392156862745098, "writeRatioMax": 0.00392156862745098 }, { "completedParallelInputs": "1", "computeMsAvg": "10", "computeMsMax": "10", "computeRatioAvg": 0.0392156862745098, "computeRatioMax": 0.0392156862745098, "endMs": "1665778702137", "id": "9", "inputStages": [ "8" ], "name": "S09: Output", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "18", "recordsWritten": "18", "shuffleOutputBytes": "718", "shuffleOutputBytesSpilled": "0", "slotMs": "213", "startMs": "1665778701905", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$120, $60", "FROM __stage08_output" ] }, { "kind": "SORT", "substeps": [ "$120 ASC", "LIMIT 100" ] }, { "kind": "WRITE", "substeps": [ "$130, $131", "TO __stage09_output" ] } ], "waitMsAvg": "2", "waitMsMax": "2", "waitRatioAvg": 0.00784313725490196, "waitRatioMax": 0.00784313725490196, "writeMsAvg": "4", "writeMsMax": "4", "writeRatioAvg": 0.01568627450980392, "writeRatioMax": 0.01568627450980392 } ], "referencedTables": [ { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "customer_demographics" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "customer_address" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "household_demographics" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "store_returns" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "customer" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "income_band" } ], "statementType": "SELECT", "timeline": [ { "completedUnits": "107", "elapsedMs": "559", "estimatedRunnableUnits": "0", "pendingUnits": "0", "totalSlotMs": "4567" } ], "totalBytesBilled": "62914560", "totalBytesProcessed": "24319342", "totalPartitionsProcessed": "0", "totalSlotMs": "4567", "transferredBytes": "0" }, "startTime": "1665778701600", "totalBytesProcessed": "24319342", "totalSlotMs": "4567" }, "status": { "state": "DONE" }, "user_email": "jesuispotatos@gmail.com" }
{ "configuration": { "jobType": "QUERY", "query": { "defaultDataset": { "datasetId": "call_center", "projectId": "test-project-364309" }, "destinationTable": { "datasetId": "_a0aa936c5cea243efb3c6dc011c66cfad39bfcb7", "projectId": "test-project-364309", "tableId": "anon0b953605_78bd_42ee_991c_adff875dbdd6" }, "priority": "INTERACTIVE", "query": "select c_customer_id as customer_id\n , coalesce(c_last_name,'') || ', ' || coalesce(c_first_name,'') as customername\n from customer\n ,customer_address\n ,customer_demographics\n ,household_demographics\n ,income_band\n ,store_returns\n where ca_city\t = 'Woodland'\n and c_current_addr_sk = ca_address_sk\n and ib_lower_bound >= 60306\n and ib_upper_bound <= 60306 + 50000\n and ib_income_band_sk = hd_income_band_sk\n and cd_demo_sk = c_current_cdemo_sk\n and hd_demo_sk = c_current_hdemo_sk\n and sr_cdemo_sk = cd_demo_sk\n order by c_customer_id\n limit 100;", "useLegacySql": false, "useQueryCache": false, "writeDisposition": "WRITE_TRUNCATE" } }, "etag": "zsY++MZic6tbx1CgHmNQsQ==", "id": "test-project-364309:europe-west1.query84_1665778703", "jobReference": { "jobId": "query84_1665778703", "location": "europe-west1", "projectId": "test-project-364309" }, "kind": "bigquery#job", "principal_subject": "user:jesuispotatos@gmail.com", "selfLink": "https://bigquery.googleapis.com/bigquery/v2/projects/test-project-364309/jobs/query84_1665778703?location=europe-west1", "statistics": { "creationTime": "1665778703874", "endTime": "1665778704661", "finalExecutionDurationMs": "516", "query": { "billingTier": 1, "cacheHit": false, "estimatedBytesProcessed": "24319342", "performanceInsights": { "avgPreviousExecutionMs": "551" }, "queryPlan": [ { "completedParallelInputs": "1", "computeMsAvg": "113", "computeMsMax": "113", "computeRatioAvg": 0.4124087591240876, "computeRatioMax": 0.4124087591240876, "endMs": "1665778704169", "id": "0", "name": "S00: Input", "parallelInputs": "1", "readMsAvg": "8", "readMsMax": "8", "readRatioAvg": 0.029197080291970802, "readRatioMax": 0.029197080291970802, "recordsRead": "287514", "recordsWritten": "277631", "shuffleOutputBytes": "2498679", "shuffleOutputBytesSpilled": "0", "slotMs": "132", "startMs": "1665778704045", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$1:sr_cdemo_sk", "FROM store_returns" ] }, { "kind": "WRITE", "substeps": [ "$1", "TO __stage00_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0036496350364963502, "waitRatioMax": 0.0036496350364963502, "writeMsAvg": "20", "writeMsMax": "20", "writeRatioAvg": 0.072992700729927, "writeRatioMax": 0.072992700729927 }, { "completedParallelInputs": "1", "computeMsAvg": "7", "computeMsMax": "7", "computeRatioAvg": 0.025547445255474453, "computeRatioMax": 0.025547445255474453, "endMs": "1665778704105", "id": "1", "name": "S01: Input", "parallelInputs": "1", "readMsAvg": "3", "readMsMax": "3", "readRatioAvg": 0.010948905109489052, "readRatioMax": 0.010948905109489052, "recordsRead": "20", "recordsWritten": "4", "shuffleOutputBytes": "36", "shuffleOutputBytesSpilled": "0", "slotMs": "27", "startMs": "1665778704060", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$20:ib_income_band_sk, $21:ib_lower_bound, $22:ib_upper_bound", "FROM income_band", "WHERE and(greater_or_equal($21, 60306), less_or_equal($22, 110306))" ] }, { "kind": "WRITE", "substeps": [ "$20", "TO __stage01_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0036496350364963502, "waitRatioMax": 0.0036496350364963502, "writeMsAvg": "24", "writeMsMax": "24", "writeRatioAvg": 0.08759124087591241, "writeRatioMax": 0.08759124087591241 }, { "completedParallelInputs": "1", "computeMsAvg": "10", "computeMsMax": "10", "computeRatioAvg": 0.0364963503649635, "computeRatioMax": 0.0364963503649635, "endMs": "1665778704110", "id": "2", "name": "S02: Input", "parallelInputs": "1", "readMsAvg": "3", "readMsMax": "3", "readRatioAvg": 0.010948905109489052, "readRatioMax": 0.010948905109489052, "recordsRead": "7200", "recordsWritten": "7200", "shuffleOutputBytes": "129600", "shuffleOutputBytesSpilled": "0", "slotMs": "23", "startMs": "1665778704073", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$10:hd_demo_sk, $11:hd_income_band_sk", "FROM household_demographics" ] }, { "kind": "WRITE", "substeps": [ "$10, $11", "TO __stage02_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0036496350364963502, "waitRatioMax": 0.0036496350364963502, "writeMsAvg": "15", "writeMsMax": "15", "writeRatioAvg": 0.05474452554744526, "writeRatioMax": 0.05474452554744526 }, { "completedParallelInputs": "1", "computeMsAvg": "14", "computeMsMax": "14", "computeRatioAvg": 0.051094890510948905, "computeRatioMax": 0.051094890510948905, "endMs": "1665778704144", "id": "4", "name": "S04: Input", "parallelInputs": "1", "readMsAvg": "7", "readMsMax": "7", "readRatioAvg": 0.025547445255474453, "readRatioMax": 0.025547445255474453, "recordsRead": "50000", "recordsWritten": "429", "shuffleOutputBytes": "3861", "shuffleOutputBytesSpilled": "0", "slotMs": "32", "startMs": "1665778704100", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$50:ca_address_sk, $51:ca_city", "FROM customer_address", "WHERE equal($51, 'Woodland')" ] }, { "kind": "WRITE", "substeps": [ "$50", "TO __stage04_output" ] } ], "waitMsAvg": "2", "waitMsMax": "2", "waitRatioAvg": 0.0072992700729927005, "waitRatioMax": 0.0072992700729927005, "writeMsAvg": "14", "writeMsMax": "14", "writeRatioAvg": 0.051094890510948905, "writeRatioMax": 0.051094890510948905 }, { "completedParallelInputs": "1", "computeMsAvg": "56", "computeMsMax": "56", "computeRatioAvg": 0.20437956204379562, "computeRatioMax": 0.20437956204379562, "endMs": "1665778704218", "id": "6", "inputStages": [ "4" ], "name": "S06: Join", "parallelInputs": "1", "readMsAvg": "9", "readMsMax": "9", "readRatioAvg": 0.032846715328467155, "readRatioMax": 0.032846715328467155, "recordsRead": "100429", "recordsWritten": "800", "shuffleOutputBytes": "48351", "shuffleOutputBytesSpilled": "0", "slotMs": "68", "startMs": "1665778704161", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$40:c_customer_id, $41:c_current_cdemo_sk, $42:c_current_hdemo_sk, $43:c_current_addr_sk, $44:c_first_name, $45:c_last_name", "FROM customer" ] }, { "kind": "READ", "substeps": [ "$50", "FROM __stage04_output" ] }, { "kind": "JOIN", "substeps": [ "$70 := $40, $71 := $41, $72 := $42, $73 := $44, $74 := $45", "INNER HASH JOIN EACH WITH ALL ON $43 = $50" ] }, { "kind": "WRITE", "substeps": [ "$70, $71, $72, $73, $74", "TO __stage06_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0036496350364963502, "waitRatioMax": 0.0036496350364963502, "writeMsAvg": "8", "writeMsMax": "8", "writeRatioAvg": 0.029197080291970802, "writeRatioMax": 0.029197080291970802 }, { "completedParallelInputs": "100", "computeMsAvg": "7", "computeMsMax": "16", "computeRatioAvg": 0.025547445255474453, "computeRatioMax": 0.058394160583941604, "endMs": "1665778704284", "id": "7", "inputStages": [ "6" ], "name": "S07: Coalesce", "parallelInputs": "100", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "800", "recordsWritten": "800", "shuffleOutputBytes": "48351", "shuffleOutputBytesSpilled": "0", "slotMs": "2687", "startMs": "1665778704230", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "FROM __stage06_output" ] } ], "waitMsAvg": "2", "waitMsMax": "5", "waitRatioAvg": 0.0072992700729927005, "waitRatioMax": 0.01824817518248175, "writeMsAvg": "14", "writeMsMax": "23", "writeRatioAvg": 0.051094890510948905, "writeRatioMax": 0.08394160583941605 }, { "completedParallelInputs": "1", "computeMsAvg": "274", "computeMsMax": "274", "computeRatioAvg": 1, "computeRatioMax": 1, "endMs": "1665778704432", "id": "8", "inputStages": [ "1", "2", "7", "0" ], "name": "S08: Join+", "parallelInputs": "1", "readMsAvg": "8", "readMsMax": "8", "readRatioAvg": 0.029197080291970802, "readRatioMax": 0.029197080291970802, "recordsRead": "2206435", "recordsWritten": "18", "shuffleOutputBytes": "718", "shuffleOutputBytesSpilled": "0", "slotMs": "224", "startMs": "1665778704234", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$30:cd_demo_sk", "FROM customer_demographics" ] }, { "kind": "READ", "substeps": [ "$70, $71, $72, $73, $74", "FROM __stage07_output" ] }, { "kind": "READ", "substeps": [ "$10, $11", "FROM __stage02_output" ] }, { "kind": "READ", "substeps": [ "$20", "FROM __stage01_output" ] }, { "kind": "READ", "substeps": [ "$1", "FROM __stage00_output" ] }, { "kind": "COMPUTE", "substeps": [ "$60 := concat(concat(coalesce($122, ''), ', '), coalesce($121, ''))" ] }, { "kind": "SORT", "substeps": [ "$110 ASC", "LIMIT 100" ] }, { "kind": "JOIN", "substeps": [ "$110 := $101, $111 := $102, $112 := $103", "INNER HASH JOIN EACH WITH ALL ON $100 = $1" ] }, { "kind": "JOIN", "substeps": [ "$100 := $90, $101 := $91, $102 := $92, $103 := $93", "INNER HASH JOIN EACH WITH ALL ON $94 = $20" ] }, { "kind": "JOIN", "substeps": [ "$90 := $84, $91 := $80, $92 := $82, $93 := $83, $94 := $11", "INNER HASH JOIN EACH WITH ALL ON $81 = $10" ] }, { "kind": "JOIN", "substeps": [ "$84 := $30, $80 := $70, $81 := $72, $82 := $73, $83 := $74", "INNER HASH JOIN EACH WITH ALL ON $30 = $71" ] }, { "kind": "WRITE", "substeps": [ "$120, $60", "TO __stage08_output" ] } ], "waitMsAvg": "5", "waitMsMax": "5", "waitRatioAvg": 0.01824817518248175, "waitRatioMax": 0.01824817518248175, "writeMsAvg": "1", "writeMsMax": "1", "writeRatioAvg": 0.0036496350364963502, "writeRatioMax": 0.0036496350364963502 }, { "completedParallelInputs": "1", "computeMsAvg": "7", "computeMsMax": "7", "computeRatioAvg": 0.025547445255474453, "computeRatioMax": 0.025547445255474453, "endMs": "1665778704465", "id": "9", "inputStages": [ "8" ], "name": "S09: Output", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "18", "recordsWritten": "18", "shuffleOutputBytes": "718", "shuffleOutputBytesSpilled": "0", "slotMs": "93", "startMs": "1665778704237", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$120, $60", "FROM __stage08_output" ] }, { "kind": "SORT", "substeps": [ "$120 ASC", "LIMIT 100" ] }, { "kind": "WRITE", "substeps": [ "$130, $131", "TO __stage09_output" ] } ], "waitMsAvg": "2", "waitMsMax": "2", "waitRatioAvg": 0.0072992700729927005, "waitRatioMax": 0.0072992700729927005, "writeMsAvg": "5", "writeMsMax": "5", "writeRatioAvg": 0.01824817518248175, "writeRatioMax": 0.01824817518248175 } ], "referencedTables": [ { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "customer_demographics" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "household_demographics" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "income_band" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "customer_address" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "store_returns" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "customer" } ], "statementType": "SELECT", "timeline": [ { "completedUnits": "107", "elapsedMs": "676", "estimatedRunnableUnits": "0", "pendingUnits": "0", "totalSlotMs": "3290" } ], "totalBytesBilled": "62914560", "totalBytesProcessed": "24319342", "totalPartitionsProcessed": "0", "totalSlotMs": "3290", "transferredBytes": "0" }, "startTime": "1665778703932", "totalBytesProcessed": "24319342", "totalSlotMs": "3290" }, "status": { "state": "DONE" }, "user_email": "jesuispotatos@gmail.com" }
{ "configuration": { "jobType": "QUERY", "query": { "defaultDataset": { "datasetId": "call_center", "projectId": "test-project-364309" }, "destinationTable": { "datasetId": "_a0aa936c5cea243efb3c6dc011c66cfad39bfcb7", "projectId": "test-project-364309", "tableId": "anon998959e7_dfb4_492e_b6fe_bc755b6d8a03" }, "priority": "INTERACTIVE", "query": "select c_customer_id as customer_id\n , coalesce(c_last_name,'') || ', ' || coalesce(c_first_name,'') as customername\n from customer\n ,customer_address\n ,customer_demographics\n ,household_demographics\n ,income_band\n ,store_returns\n where ca_city\t = 'Woodland'\n and c_current_addr_sk = ca_address_sk\n and ib_lower_bound >= 60306\n and ib_upper_bound <= 60306 + 50000\n and ib_income_band_sk = hd_income_band_sk\n and cd_demo_sk = c_current_cdemo_sk\n and hd_demo_sk = c_current_hdemo_sk\n and sr_cdemo_sk = cd_demo_sk\n order by c_customer_id\n limit 100;", "useLegacySql": false, "useQueryCache": false, "writeDisposition": "WRITE_TRUNCATE" } }, "etag": "uDER7ay8E640EFSWjbM9xA==", "id": "test-project-364309:europe-west1.query84_1665778705", "jobReference": { "jobId": "query84_1665778705", "location": "europe-west1", "projectId": "test-project-364309" }, "kind": "bigquery#job", "principal_subject": "user:jesuispotatos@gmail.com", "selfLink": "https://bigquery.googleapis.com/bigquery/v2/projects/test-project-364309/jobs/query84_1665778705?location=europe-west1", "statistics": { "creationTime": "1665778706316", "endTime": "1665778707071", "finalExecutionDurationMs": "473", "query": { "billingTier": 1, "cacheHit": false, "estimatedBytesProcessed": "24319342", "performanceInsights": { "avgPreviousExecutionMs": "548" }, "queryPlan": [ { "completedParallelInputs": "1", "computeMsAvg": "101", "computeMsMax": "101", "computeRatioAvg": 0.3268608414239482, "computeRatioMax": 0.3268608414239482, "endMs": "1665778706650", "id": "0", "name": "S00: Input", "parallelInputs": "1", "readMsAvg": "9", "readMsMax": "9", "readRatioAvg": 0.02912621359223301, "readRatioMax": 0.02912621359223301, "recordsRead": "287514", "recordsWritten": "277631", "shuffleOutputBytes": "2498679", "shuffleOutputBytesSpilled": "0", "slotMs": "158", "startMs": "1665778706531", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$1:sr_cdemo_sk", "FROM store_returns" ] }, { "kind": "WRITE", "substeps": [ "$1", "TO __stage00_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.003236245954692557, "waitRatioMax": 0.003236245954692557, "writeMsAvg": "21", "writeMsMax": "21", "writeRatioAvg": 0.06796116504854369, "writeRatioMax": 0.06796116504854369 }, { "completedParallelInputs": "1", "computeMsAvg": "7", "computeMsMax": "7", "computeRatioAvg": 0.022653721682847898, "computeRatioMax": 0.022653721682847898, "endMs": "1665778706596", "id": "1", "name": "S01: Input", "parallelInputs": "1", "readMsAvg": "3", "readMsMax": "3", "readRatioAvg": 0.009708737864077669, "readRatioMax": 0.009708737864077669, "recordsRead": "20", "recordsWritten": "4", "shuffleOutputBytes": "36", "shuffleOutputBytesSpilled": "0", "slotMs": "45", "startMs": "1665778706550", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$20:ib_income_band_sk, $21:ib_lower_bound, $22:ib_upper_bound", "FROM income_band", "WHERE and(greater_or_equal($21, 60306), less_or_equal($22, 110306))" ] }, { "kind": "WRITE", "substeps": [ "$20", "TO __stage01_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.003236245954692557, "waitRatioMax": 0.003236245954692557, "writeMsAvg": "37", "writeMsMax": "37", "writeRatioAvg": 0.11974110032362459, "writeRatioMax": 0.11974110032362459 }, { "completedParallelInputs": "1", "computeMsAvg": "9", "computeMsMax": "9", "computeRatioAvg": 0.02912621359223301, "computeRatioMax": 0.02912621359223301, "endMs": "1665778706608", "id": "2", "name": "S02: Input", "parallelInputs": "1", "readMsAvg": "3", "readMsMax": "3", "readRatioAvg": 0.009708737864077669, "readRatioMax": 0.009708737864077669, "recordsRead": "7200", "recordsWritten": "7200", "shuffleOutputBytes": "129600", "shuffleOutputBytesSpilled": "0", "slotMs": "34", "startMs": "1665778706563", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$10:hd_demo_sk, $11:hd_income_band_sk", "FROM household_demographics" ] }, { "kind": "WRITE", "substeps": [ "$10, $11", "TO __stage02_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.003236245954692557, "waitRatioMax": 0.003236245954692557, "writeMsAvg": "13", "writeMsMax": "13", "writeRatioAvg": 0.042071197411003236, "writeRatioMax": 0.042071197411003236 }, { "completedParallelInputs": "1", "computeMsAvg": "11", "computeMsMax": "11", "computeRatioAvg": 0.03559870550161812, "computeRatioMax": 0.03559870550161812, "endMs": "1665778706643", "id": "4", "name": "S04: Input", "parallelInputs": "1", "readMsAvg": "7", "readMsMax": "7", "readRatioAvg": 0.022653721682847898, "readRatioMax": 0.022653721682847898, "recordsRead": "50000", "recordsWritten": "429", "shuffleOutputBytes": "3861", "shuffleOutputBytesSpilled": "0", "slotMs": "39", "startMs": "1665778706602", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$50:ca_address_sk, $51:ca_city", "FROM customer_address", "WHERE equal($51, 'Woodland')" ] }, { "kind": "WRITE", "substeps": [ "$50", "TO __stage04_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.003236245954692557, "waitRatioMax": 0.003236245954692557, "writeMsAvg": "9", "writeMsMax": "9", "writeRatioAvg": 0.02912621359223301, "writeRatioMax": 0.02912621359223301 }, { "completedParallelInputs": "1", "computeMsAvg": "54", "computeMsMax": "54", "computeRatioAvg": 0.17475728155339806, "computeRatioMax": 0.17475728155339806, "endMs": "1665778706712", "id": "6", "inputStages": [ "4" ], "name": "S06: Join", "parallelInputs": "1", "readMsAvg": "8", "readMsMax": "8", "readRatioAvg": 0.025889967637540454, "readRatioMax": 0.025889967637540454, "recordsRead": "100429", "recordsWritten": "800", "shuffleOutputBytes": "48351", "shuffleOutputBytesSpilled": "0", "slotMs": "51", "startMs": "1665778706663", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$40:c_customer_id, $41:c_current_cdemo_sk, $42:c_current_hdemo_sk, $43:c_current_addr_sk, $44:c_first_name, $45:c_last_name", "FROM customer" ] }, { "kind": "READ", "substeps": [ "$50", "FROM __stage04_output" ] }, { "kind": "JOIN", "substeps": [ "$70 := $40, $71 := $41, $72 := $42, $73 := $44, $74 := $45", "INNER HASH JOIN EACH WITH ALL ON $43 = $50" ] }, { "kind": "WRITE", "substeps": [ "$70, $71, $72, $73, $74", "TO __stage06_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.003236245954692557, "waitRatioMax": 0.003236245954692557, "writeMsAvg": "8", "writeMsMax": "8", "writeRatioAvg": 0.025889967637540454, "writeRatioMax": 0.025889967637540454 }, { "completedParallelInputs": "100", "computeMsAvg": "8", "computeMsMax": "18", "computeRatioAvg": 0.025889967637540454, "computeRatioMax": 0.05825242718446602, "endMs": "1665778706785", "id": "7", "inputStages": [ "6" ], "name": "S07: Coalesce", "parallelInputs": "100", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "800", "recordsWritten": "800", "shuffleOutputBytes": "48351", "shuffleOutputBytesSpilled": "0", "slotMs": "3805", "startMs": "1665778706729", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "FROM __stage06_output" ] } ], "waitMsAvg": "2", "waitMsMax": "4", "waitRatioAvg": 0.006472491909385114, "waitRatioMax": 0.012944983818770227, "writeMsAvg": "15", "writeMsMax": "25", "writeRatioAvg": 0.04854368932038835, "writeRatioMax": 0.08090614886731391 }, { "completedParallelInputs": "1", "computeMsAvg": "309", "computeMsMax": "309", "computeRatioAvg": 1, "computeRatioMax": 1, "endMs": "1665778706950", "id": "8", "inputStages": [ "7", "2", "0", "1" ], "name": "S08: Join+", "parallelInputs": "1", "readMsAvg": "10", "readMsMax": "10", "readRatioAvg": 0.032362459546925564, "readRatioMax": 0.032362459546925564, "recordsRead": "2206435", "recordsWritten": "18", "shuffleOutputBytes": "718", "shuffleOutputBytesSpilled": "0", "slotMs": "299", "startMs": "1665778706734", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$30:cd_demo_sk", "FROM customer_demographics" ] }, { "kind": "READ", "substeps": [ "$70, $71, $72, $73, $74", "FROM __stage07_output" ] }, { "kind": "READ", "substeps": [ "$10, $11", "FROM __stage02_output" ] }, { "kind": "READ", "substeps": [ "$20", "FROM __stage01_output" ] }, { "kind": "READ", "substeps": [ "$1", "FROM __stage00_output" ] }, { "kind": "COMPUTE", "substeps": [ "$60 := concat(concat(coalesce($122, ''), ', '), coalesce($121, ''))" ] }, { "kind": "SORT", "substeps": [ "$110 ASC", "LIMIT 100" ] }, { "kind": "JOIN", "substeps": [ "$110 := $101, $111 := $102, $112 := $103", "INNER HASH JOIN EACH WITH ALL ON $100 = $1" ] }, { "kind": "JOIN", "substeps": [ "$100 := $90, $101 := $91, $102 := $92, $103 := $93", "INNER HASH JOIN EACH WITH ALL ON $94 = $20" ] }, { "kind": "JOIN", "substeps": [ "$90 := $84, $91 := $80, $92 := $82, $93 := $83, $94 := $11", "INNER HASH JOIN EACH WITH ALL ON $81 = $10" ] }, { "kind": "JOIN", "substeps": [ "$84 := $30, $80 := $70, $81 := $72, $82 := $73, $83 := $74", "INNER HASH JOIN EACH WITH ALL ON $30 = $71" ] }, { "kind": "WRITE", "substeps": [ "$120, $60", "TO __stage08_output" ] } ], "waitMsAvg": "4", "waitMsMax": "4", "waitRatioAvg": 0.012944983818770227, "waitRatioMax": 0.012944983818770227, "writeMsAvg": "1", "writeMsMax": "1", "writeRatioAvg": 0.003236245954692557, "writeRatioMax": 0.003236245954692557 }, { "completedParallelInputs": "1", "computeMsAvg": "10", "computeMsMax": "10", "computeRatioAvg": 0.032362459546925564, "computeRatioMax": 0.032362459546925564, "endMs": "1665778706959", "id": "9", "inputStages": [ "8" ], "name": "S09: Output", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "18", "recordsWritten": "18", "shuffleOutputBytes": "718", "shuffleOutputBytesSpilled": "0", "slotMs": "211", "startMs": "1665778706737", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$120, $60", "FROM __stage08_output" ] }, { "kind": "SORT", "substeps": [ "$120 ASC", "LIMIT 100" ] }, { "kind": "WRITE", "substeps": [ "$130, $131", "TO __stage09_output" ] } ], "waitMsAvg": "2", "waitMsMax": "2", "waitRatioAvg": 0.006472491909385114, "waitRatioMax": 0.006472491909385114, "writeMsAvg": "5", "writeMsMax": "5", "writeRatioAvg": 0.016181229773462782, "writeRatioMax": 0.016181229773462782 } ], "referencedTables": [ { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "customer_demographics" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "store_returns" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "household_demographics" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "customer_address" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "customer" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "income_band" } ], "statementType": "SELECT", "timeline": [ { "completedUnits": "107", "elapsedMs": "600", "estimatedRunnableUnits": "0", "pendingUnits": "0", "totalSlotMs": "4645" } ], "totalBytesBilled": "62914560", "totalBytesProcessed": "24319342", "totalPartitionsProcessed": "0", "totalSlotMs": "4645", "transferredBytes": "0" }, "startTime": "1665778706403", "totalBytesProcessed": "24319342", "totalSlotMs": "4645" }, "status": { "state": "DONE" }, "user_email": "jesuispotatos@gmail.com" }
