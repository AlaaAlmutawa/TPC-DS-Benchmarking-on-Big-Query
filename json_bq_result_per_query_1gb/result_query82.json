{ "configuration": { "jobType": "QUERY", "query": { "defaultDataset": { "datasetId": "call_center", "projectId": "test-project-364309" }, "destinationTable": { "datasetId": "_a0aa936c5cea243efb3c6dc011c66cfad39bfcb7", "projectId": "test-project-364309", "tableId": "anonbcff6e2c_66f1_4249_bdf3_ac6ac8f90342" }, "priority": "INTERACTIVE", "query": "-- start query 82 in stream 0 using template query82.tpl\nselect i_item_id\n ,i_item_desc\n ,i_current_price\n from item, inventory, date_dim, store_sales\n where i_current_price between 62 and 62+30\n and inv_item_sk = i_item_sk\n and d_date_sk=inv_date_sk\n and d_date between cast('2000-05-25' as date) and (cast('2000-05-25' +60 as date)) --+60 days \n and i_manufact_id in (129,270,821,423)\n and inv_quantity_on_hand between 100 and 500\n and ss_item_sk = i_item_sk\n group by i_item_id,i_item_desc,i_current_price\n order by i_item_id\n limit 100\n ;\n\n-- end query 82 in stream 0 using template query82.tpl", "useLegacySql": false, "useQueryCache": false, "writeDisposition": "WRITE_TRUNCATE" } }, "etag": "TjiqAWTDOFpcaOO4VR39dA==", "id": "test-project-364309:europe-west1.query82_1665768488", "jobReference": { "jobId": "query82_1665768488", "location": "europe-west1", "projectId": "test-project-364309" }, "kind": "bigquery#job", "principal_subject": "user:jesuispotatos@gmail.com", "selfLink": "https://bigquery.googleapis.com/bigquery/v2/projects/test-project-364309/jobs/query82_1665768488?location=europe-west1", "statistics": { "creationTime": "1665768488928", "endTime": "1665768490206", "finalExecutionDurationMs": "1081", "query": { "billingTier": 1, "cacheHit": false, "estimatedBytesProcessed": "304134292", "performanceInsights": { "avgPreviousExecutionMs": "970" }, "queryPlan": [ { "completedParallelInputs": "6", "computeMsAvg": "196", "computeMsMax": "235", "computeRatioAvg": 0.17834394904458598, "computeRatioMax": 0.21383075523202913, "endMs": "1665768489228", "id": "0", "name": "S00: Input", "parallelInputs": "6", "readMsAvg": "8", "readMsMax": "9", "readRatioAvg": 0.007279344858962694, "readRatioMax": 0.00818926296633303, "recordsRead": "2880404", "recordsWritten": "2880404", "shuffleOutputBytes": "25923636", "shuffleOutputBytesSpilled": "0", "slotMs": "968", "startMs": "1665768489077", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$1:ss_item_sk", "FROM store_sales" ] }, { "kind": "WRITE", "substeps": [ "$1", "TO __stage00_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0009099181073703367, "waitRatioMax": 0.0009099181073703367, "writeMsAvg": "26", "writeMsMax": "29", "writeRatioAvg": 0.023657870791628753, "writeRatioMax": 0.026387625113739762 }, { "completedParallelInputs": "1", "computeMsAvg": "15", "computeMsMax": "15", "computeRatioAvg": 0.01364877161055505, "computeRatioMax": 0.01364877161055505, "endMs": "1665768489132", "id": "1", "name": "S01: Input", "parallelInputs": "1", "readMsAvg": "6", "readMsMax": "6", "readRatioAvg": 0.00545950864422202, "readRatioMax": 0.00545950864422202, "recordsRead": "73049", "recordsWritten": "61", "shuffleOutputBytes": "549", "shuffleOutputBytesSpilled": "0", "slotMs": "37", "startMs": "1665768489092", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$10:d_date_sk, $11:d_date", "FROM date_dim", "WHERE between($11, 11102, 11162)" ] }, { "kind": "WRITE", "substeps": [ "$10", "TO __stage01_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0009099181073703367, "waitRatioMax": 0.0009099181073703367, "writeMsAvg": "9", "writeMsMax": "9", "writeRatioAvg": 0.00818926296633303, "writeRatioMax": 0.00818926296633303 }, { "completedParallelInputs": "1", "computeMsAvg": "31", "computeMsMax": "31", "computeRatioAvg": 0.028207461328480437, "computeRatioMax": 0.028207461328480437, "endMs": "1665768489163", "id": "3", "name": "S03: Input", "parallelInputs": "1", "readMsAvg": "11", "readMsMax": "11", "readRatioAvg": 0.010009099181073703, "readRatioMax": 0.010009099181073703, "recordsRead": "18000", "recordsWritten": "4", "shuffleOutputBytes": "638", "shuffleOutputBytesSpilled": "0", "slotMs": "42", "startMs": "1665768489127", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$20:i_item_sk, $21:i_item_id, $22:i_item_desc, $23:i_current_price, $24:i_manufact_id", "FROM item", "WHERE and(between($23, NUMERIC<...>, NUMERIC<...>), in($24, 129, 270, 821, 423))" ] }, { "kind": "WRITE", "substeps": [ "$20, $21, $22, $23", "TO __stage03_output" ] } ], "waitMsAvg": "2", "waitMsMax": "2", "waitRatioAvg": 0.0018198362147406734, "waitRatioMax": 0.0018198362147406734, "writeMsAvg": "7", "writeMsMax": "7", "writeRatioAvg": 0.006369426751592357, "writeRatioMax": 0.006369426751592357 }, { "completedParallelInputs": "1", "computeMsAvg": "1099", "computeMsMax": "1099", "computeRatioAvg": 1, "computeRatioMax": 1, "endMs": "1665768489941", "id": "5", "inputStages": [ "3", "1", "0" ], "name": "S05: Join+", "parallelInputs": "1", "readMsAvg": "29", "readMsMax": "29", "readRatioAvg": 0.026387625113739762, "readRatioMax": 0.026387625113739762, "recordsRead": "14625469", "recordsWritten": "2", "shuffleOutputBytes": "388", "shuffleOutputBytesSpilled": "0", "slotMs": "958", "startMs": "1665768489243", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$30:inv_date_sk, $31:inv_item_sk, $32:inv_quantity_on_hand", "FROM inventory", "WHERE between($32, 100, 500)" ] }, { "kind": "READ", "substeps": [ "$20, $21, $22, $23", "FROM __stage03_output" ] }, { "kind": "READ", "substeps": [ "$10", "FROM __stage01_output" ] }, { "kind": "READ", "substeps": [ "$1", "FROM __stage00_output" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $80 := $70, $81 := $71, $82 := $72" ] }, { "kind": "JOIN", "substeps": [ "$70 := $61, $71 := $62, $72 := $63", "INNER HASH JOIN EACH WITH ALL ON $60 = $1" ] }, { "kind": "JOIN", "substeps": [ "$60 := $50, $61 := $51, $62 := $52, $63 := $53", "INNER HASH JOIN EACH WITH ALL ON $54 = $10" ] }, { "kind": "JOIN", "substeps": [ "$54 := $30, $50 := $20, $51 := $21, $52 := $22, $53 := $23", "INNER HASH JOIN EACH WITH ALL ON $31 = $20" ] }, { "kind": "WRITE", "substeps": [ "$80, $81, $82", "TO __stage05_output", "BY HASH($80, $81, $82)" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0009099181073703367, "waitRatioMax": 0.0009099181073703367, "writeMsAvg": "5", "writeMsMax": "5", "writeRatioAvg": 0.004549590536851683, "writeRatioMax": 0.004549590536851683 }, { "completedParallelInputs": "1", "computeMsAvg": "6", "computeMsMax": "6", "computeRatioAvg": 0.00545950864422202, "computeRatioMax": 0.00545950864422202, "endMs": "1665768490089", "id": "6", "inputStages": [ "5" ], "name": "S06: Sort+", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "2", "recordsWritten": "2", "shuffleOutputBytes": "388", "shuffleOutputBytesSpilled": "0", "slotMs": "10", "startMs": "1665768490078", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$80, $81, $82", "FROM __stage05_output" ] }, { "kind": "SORT", "substeps": [ "$90 ASC", "LIMIT 100" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $90 := $80, $91 := $81, $92 := $82" ] }, { "kind": "WRITE", "substeps": [ "$100, $101, $102", "TO __stage06_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0009099181073703367, "waitRatioMax": 0.0009099181073703367, "writeMsAvg": "1", "writeMsMax": "1", "writeRatioAvg": 0.0009099181073703367, "writeRatioMax": 0.0009099181073703367 }, { "completedParallelInputs": "1", "computeMsAvg": "11", "computeMsMax": "11", "computeRatioAvg": 0.010009099181073703, "computeRatioMax": 0.010009099181073703, "endMs": "1665768490130", "id": "7", "inputStages": [ "6" ], "name": "S07: Output", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "2", "recordsWritten": "2", "shuffleOutputBytes": "388", "shuffleOutputBytesSpilled": "0", "slotMs": "36", "startMs": "1665768490092", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$100, $101, $102", "FROM __stage06_output" ] }, { "kind": "SORT", "substeps": [ "$100 ASC", "LIMIT 100" ] }, { "kind": "WRITE", "substeps": [ "$110, $111, $112", "TO __stage07_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0009099181073703367, "waitRatioMax": 0.0009099181073703367, "writeMsAvg": "29", "writeMsMax": "29", "writeRatioAvg": 0.026387625113739762, "writeRatioMax": 0.026387625113739762 } ], "referencedTables": [ { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "store_sales" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "item" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "date_dim" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "inventory" } ], "statementType": "SELECT", "timeline": [ { "activeUnits": "1", "completedUnits": "8", "elapsedMs": "594", "estimatedRunnableUnits": "0", "pendingUnits": "1", "totalSlotMs": "1050" }, { "activeUnits": "1", "completedUnits": "11", "elapsedMs": "1169", "estimatedRunnableUnits": "0", "pendingUnits": "0", "totalSlotMs": "2056" } ], "totalBytesBilled": "305135616", "totalBytesProcessed": "304134292", "totalPartitionsProcessed": "0", "totalSlotMs": "2056", "transferredBytes": "0" }, "startTime": "1665768488984", "totalBytesProcessed": "304134292", "totalSlotMs": "2056" }, "status": { "state": "DONE" }, "user_email": "jesuispotatos@gmail.com" }
{ "configuration": { "jobType": "QUERY", "query": { "defaultDataset": { "datasetId": "call_center", "projectId": "test-project-364309" }, "destinationTable": { "datasetId": "_a0aa936c5cea243efb3c6dc011c66cfad39bfcb7", "projectId": "test-project-364309", "tableId": "anonca8d6a9e_df33_4f23_84d2_1986e77fc8b4" }, "priority": "INTERACTIVE", "query": "-- start query 82 in stream 0 using template query82.tpl\nselect i_item_id\n ,i_item_desc\n ,i_current_price\n from item, inventory, date_dim, store_sales\n where i_current_price between 62 and 62+30\n and inv_item_sk = i_item_sk\n and d_date_sk=inv_date_sk\n and d_date between cast('2000-05-25' as date) and (cast('2000-05-25' +60 as date)) --+60 days \n and i_manufact_id in (129,270,821,423)\n and inv_quantity_on_hand between 100 and 500\n and ss_item_sk = i_item_sk\n group by i_item_id,i_item_desc,i_current_price\n order by i_item_id\n limit 100\n ;\n\n-- end query 82 in stream 0 using template query82.tpl", "useLegacySql": false, "useQueryCache": false, "writeDisposition": "WRITE_TRUNCATE" } }, "etag": "+A5v7yKXhOl7W/UF9e8bkw==", "id": "test-project-364309:europe-west1.query82_1665778664", "jobReference": { "jobId": "query82_1665778664", "location": "europe-west1", "projectId": "test-project-364309" }, "kind": "bigquery#job", "principal_subject": "user:jesuispotatos@gmail.com", "selfLink": "https://bigquery.googleapis.com/bigquery/v2/projects/test-project-364309/jobs/query82_1665778664?location=europe-west1", "statistics": { "creationTime": "1665778664654", "endTime": "1665778666001", "finalExecutionDurationMs": "1149", "query": { "billingTier": 1, "cacheHit": false, "estimatedBytesProcessed": "304134292", "performanceInsights": { "avgPreviousExecutionMs": "989" }, "queryPlan": [ { "completedParallelInputs": "6", "computeMsAvg": "173", "computeMsMax": "201", "computeRatioAvg": 0.14203612479474548, "computeRatioMax": 0.16502463054187191, "endMs": "1665778664960", "id": "0", "name": "S00: Input", "parallelInputs": "6", "readMsAvg": "9", "readMsMax": "14", "readRatioAvg": 0.007389162561576354, "readRatioMax": 0.011494252873563218, "recordsRead": "2880404", "recordsWritten": "2880404", "shuffleOutputBytes": "25923636", "shuffleOutputBytesSpilled": "0", "slotMs": "1030", "startMs": "1665778664805", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$1:ss_item_sk", "FROM store_sales" ] }, { "kind": "WRITE", "substeps": [ "$1", "TO __stage00_output" ] } ], "waitMsAvg": "1", "waitMsMax": "2", "waitRatioAvg": 0.0008210180623973727, "waitRatioMax": 0.0016420361247947454, "writeMsAvg": "28", "writeMsMax": "33", "writeRatioAvg": 0.022988505747126436, "writeRatioMax": 0.027093596059113302 }, { "completedParallelInputs": "1", "computeMsAvg": "9", "computeMsMax": "9", "computeRatioAvg": 0.007389162561576354, "computeRatioMax": 0.007389162561576354, "endMs": "1665778664863", "id": "1", "name": "S01: Input", "parallelInputs": "1", "readMsAvg": "4", "readMsMax": "4", "readRatioAvg": 0.003284072249589491, "readRatioMax": 0.003284072249589491, "recordsRead": "73049", "recordsWritten": "61", "shuffleOutputBytes": "549", "shuffleOutputBytesSpilled": "0", "slotMs": "33", "startMs": "1665778664824", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$10:d_date_sk, $11:d_date", "FROM date_dim", "WHERE between($11, 11102, 11162)" ] }, { "kind": "WRITE", "substeps": [ "$10", "TO __stage01_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0008210180623973727, "waitRatioMax": 0.0008210180623973727, "writeMsAvg": "14", "writeMsMax": "14", "writeRatioAvg": 0.011494252873563218, "writeRatioMax": 0.011494252873563218 }, { "completedParallelInputs": "1", "computeMsAvg": "20", "computeMsMax": "20", "computeRatioAvg": 0.016420361247947456, "computeRatioMax": 0.016420361247947456, "endMs": "1665778664905", "id": "3", "name": "S03: Input", "parallelInputs": "1", "readMsAvg": "10", "readMsMax": "10", "readRatioAvg": 0.008210180623973728, "readRatioMax": 0.008210180623973728, "recordsRead": "18000", "recordsWritten": "4", "shuffleOutputBytes": "638", "shuffleOutputBytesSpilled": "0", "slotMs": "42", "startMs": "1665778664863", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$20:i_item_sk, $21:i_item_id, $22:i_item_desc, $23:i_current_price, $24:i_manufact_id", "FROM item", "WHERE and(between($23, NUMERIC<...>, NUMERIC<...>), in($24, 129, 270, 821, 423))" ] }, { "kind": "WRITE", "substeps": [ "$20, $21, $22, $23", "TO __stage03_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0008210180623973727, "waitRatioMax": 0.0008210180623973727, "writeMsAvg": "7", "writeMsMax": "7", "writeRatioAvg": 0.005747126436781609, "writeRatioMax": 0.005747126436781609 }, { "completedParallelInputs": "1", "computeMsAvg": "1218", "computeMsMax": "1218", "computeRatioAvg": 1, "computeRatioMax": 1, "endMs": "1665778665775", "id": "5", "inputStages": [ "3", "1", "0" ], "name": "S05: Join+", "parallelInputs": "1", "readMsAvg": "39", "readMsMax": "39", "readRatioAvg": 0.03201970443349754, "readRatioMax": 0.03201970443349754, "recordsRead": "14625469", "recordsWritten": "2", "shuffleOutputBytes": "388", "shuffleOutputBytesSpilled": "0", "slotMs": "1123", "startMs": "1665778664969", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$30:inv_date_sk, $31:inv_item_sk, $32:inv_quantity_on_hand", "FROM inventory", "WHERE between($32, 100, 500)" ] }, { "kind": "READ", "substeps": [ "$20, $21, $22, $23", "FROM __stage03_output" ] }, { "kind": "READ", "substeps": [ "$10", "FROM __stage01_output" ] }, { "kind": "READ", "substeps": [ "$1", "FROM __stage00_output" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $80 := $70, $81 := $71, $82 := $72" ] }, { "kind": "JOIN", "substeps": [ "$70 := $61, $71 := $62, $72 := $63", "INNER HASH JOIN EACH WITH ALL ON $60 = $1" ] }, { "kind": "JOIN", "substeps": [ "$60 := $50, $61 := $51, $62 := $52, $63 := $53", "INNER HASH JOIN EACH WITH ALL ON $54 = $10" ] }, { "kind": "JOIN", "substeps": [ "$54 := $30, $50 := $20, $51 := $21, $52 := $22, $53 := $23", "INNER HASH JOIN EACH WITH ALL ON $31 = $20" ] }, { "kind": "WRITE", "substeps": [ "$80, $81, $82", "TO __stage05_output", "BY HASH($80, $81, $82)" ] } ], "waitMsAvg": "2", "waitMsMax": "2", "waitRatioAvg": 0.0016420361247947454, "waitRatioMax": 0.0016420361247947454, "writeMsAvg": "7", "writeMsMax": "7", "writeRatioAvg": 0.005747126436781609, "writeRatioMax": 0.005747126436781609 }, { "completedParallelInputs": "1", "computeMsAvg": "6", "computeMsMax": "6", "computeRatioAvg": 0.0049261083743842365, "computeRatioMax": 0.0049261083743842365, "endMs": "1665778665875", "id": "6", "inputStages": [ "5" ], "name": "S06: Sort+", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "2", "recordsWritten": "2", "shuffleOutputBytes": "388", "shuffleOutputBytesSpilled": "0", "slotMs": "8", "startMs": "1665778665866", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$80, $81, $82", "FROM __stage05_output" ] }, { "kind": "SORT", "substeps": [ "$90 ASC", "LIMIT 100" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $90 := $80, $91 := $81, $92 := $82" ] }, { "kind": "WRITE", "substeps": [ "$100, $101, $102", "TO __stage06_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0008210180623973727, "waitRatioMax": 0.0008210180623973727, "writeMsAvg": "1", "writeMsMax": "1", "writeRatioAvg": 0.0008210180623973727, "writeRatioMax": 0.0008210180623973727 }, { "completedParallelInputs": "1", "computeMsAvg": "13", "computeMsMax": "13", "computeRatioAvg": 0.010673234811165846, "computeRatioMax": 0.010673234811165846, "endMs": "1665778665922", "id": "7", "inputStages": [ "6" ], "name": "S07: Output", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "2", "recordsWritten": "2", "shuffleOutputBytes": "388", "shuffleOutputBytesSpilled": "0", "slotMs": "35", "startMs": "1665778665885", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$100, $101, $102", "FROM __stage06_output" ] }, { "kind": "SORT", "substeps": [ "$100 ASC", "LIMIT 100" ] }, { "kind": "WRITE", "substeps": [ "$110, $111, $112", "TO __stage07_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0008210180623973727, "waitRatioMax": 0.0008210180623973727, "writeMsAvg": "27", "writeMsMax": "27", "writeRatioAvg": 0.022167487684729065, "writeRatioMax": 0.022167487684729065 } ], "referencedTables": [ { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "inventory" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "store_sales" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "item" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "date_dim" } ], "statementType": "SELECT", "timeline": [ { "activeUnits": "1", "completedUnits": "8", "elapsedMs": "595", "estimatedRunnableUnits": "0", "pendingUnits": "1", "totalSlotMs": "1286" }, { "activeUnits": "1", "completedUnits": "11", "elapsedMs": "1239", "estimatedRunnableUnits": "0", "pendingUnits": "0", "totalSlotMs": "2273" } ], "totalBytesBilled": "305135616", "totalBytesProcessed": "304134292", "totalPartitionsProcessed": "0", "totalSlotMs": "2273", "transferredBytes": "0" }, "startTime": "1665778664712", "totalBytesProcessed": "304134292", "totalSlotMs": "2273" }, "status": { "state": "DONE" }, "user_email": "jesuispotatos@gmail.com" }
{ "configuration": { "jobType": "QUERY", "query": { "defaultDataset": { "datasetId": "call_center", "projectId": "test-project-364309" }, "destinationTable": { "datasetId": "_a0aa936c5cea243efb3c6dc011c66cfad39bfcb7", "projectId": "test-project-364309", "tableId": "anon6b9dba66_3fe8_49b8_8667_0134323cdf2c" }, "priority": "INTERACTIVE", "query": "-- start query 82 in stream 0 using template query82.tpl\nselect i_item_id\n ,i_item_desc\n ,i_current_price\n from item, inventory, date_dim, store_sales\n where i_current_price between 62 and 62+30\n and inv_item_sk = i_item_sk\n and d_date_sk=inv_date_sk\n and d_date between cast('2000-05-25' as date) and (cast('2000-05-25' +60 as date)) --+60 days \n and i_manufact_id in (129,270,821,423)\n and inv_quantity_on_hand between 100 and 500\n and ss_item_sk = i_item_sk\n group by i_item_id,i_item_desc,i_current_price\n order by i_item_id\n limit 100\n ;\n\n-- end query 82 in stream 0 using template query82.tpl", "useLegacySql": false, "useQueryCache": false, "writeDisposition": "WRITE_TRUNCATE" } }, "etag": "Hkz+3w0svGxAErUkxLdvYA==", "id": "test-project-364309:europe-west1.query82_1665778667", "jobReference": { "jobId": "query82_1665778667", "location": "europe-west1", "projectId": "test-project-364309" }, "kind": "bigquery#job", "principal_subject": "user:jesuispotatos@gmail.com", "selfLink": "https://bigquery.googleapis.com/bigquery/v2/projects/test-project-364309/jobs/query82_1665778667?location=europe-west1", "statistics": { "creationTime": "1665778668590", "endTime": "1665778669840", "finalExecutionDurationMs": "1067", "query": { "billingTier": 1, "cacheHit": false, "estimatedBytesProcessed": "304134292", "performanceInsights": { "avgPreviousExecutionMs": "1012" }, "queryPlan": [ { "completedParallelInputs": "6", "computeMsAvg": "189", "computeMsMax": "274", "computeRatioAvg": 0.1829622458857696, "computeRatioMax": 0.26524685382381413, "endMs": "1665778668913", "id": "0", "name": "S00: Input", "parallelInputs": "6", "readMsAvg": "7", "readMsMax": "8", "readRatioAvg": 0.006776379477250726, "readRatioMax": 0.007744433688286544, "recordsRead": "2880404", "recordsWritten": "2880404", "shuffleOutputBytes": "25923636", "shuffleOutputBytesSpilled": "0", "slotMs": "1219", "startMs": "1665778668734", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$1:ss_item_sk", "FROM store_sales" ] }, { "kind": "WRITE", "substeps": [ "$1", "TO __stage00_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.000968054211035818, "waitRatioMax": 0.000968054211035818, "writeMsAvg": "27", "writeMsMax": "31", "writeRatioAvg": 0.026137463697967087, "writeRatioMax": 0.030009680542110357 }, { "completedParallelInputs": "1", "computeMsAvg": "17", "computeMsMax": "17", "computeRatioAvg": 0.016456921587608905, "computeRatioMax": 0.016456921587608905, "endMs": "1665778668778", "id": "1", "name": "S01: Input", "parallelInputs": "1", "readMsAvg": "7", "readMsMax": "7", "readRatioAvg": 0.006776379477250726, "readRatioMax": 0.006776379477250726, "recordsRead": "73049", "recordsWritten": "61", "shuffleOutputBytes": "549", "shuffleOutputBytesSpilled": "0", "slotMs": "40", "startMs": "1665778668749", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$10:d_date_sk, $11:d_date", "FROM date_dim", "WHERE between($11, 11102, 11162)" ] }, { "kind": "WRITE", "substeps": [ "$10", "TO __stage01_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.000968054211035818, "waitRatioMax": 0.000968054211035818, "writeMsAvg": "13", "writeMsMax": "13", "writeRatioAvg": 0.012584704743465635, "writeRatioMax": 0.012584704743465635 }, { "completedParallelInputs": "1", "computeMsAvg": "24", "computeMsMax": "24", "computeRatioAvg": 0.023233301064859633, "computeRatioMax": 0.023233301064859633, "endMs": "1665778668816", "id": "3", "name": "S03: Input", "parallelInputs": "1", "readMsAvg": "10", "readMsMax": "10", "readRatioAvg": 0.00968054211035818, "readRatioMax": 0.00968054211035818, "recordsRead": "18000", "recordsWritten": "4", "shuffleOutputBytes": "638", "shuffleOutputBytesSpilled": "0", "slotMs": "42", "startMs": "1665778668777", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$20:i_item_sk, $21:i_item_id, $22:i_item_desc, $23:i_current_price, $24:i_manufact_id", "FROM item", "WHERE and(between($23, NUMERIC<...>, NUMERIC<...>), in($24, 129, 270, 821, 423))" ] }, { "kind": "WRITE", "substeps": [ "$20, $21, $22, $23", "TO __stage03_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.000968054211035818, "waitRatioMax": 0.000968054211035818, "writeMsAvg": "12", "writeMsMax": "12", "writeRatioAvg": 0.011616650532429816, "writeRatioMax": 0.011616650532429816 }, { "completedParallelInputs": "1", "computeMsAvg": "1033", "computeMsMax": "1033", "computeRatioAvg": 1, "computeRatioMax": 1, "endMs": "1665778669614", "id": "5", "inputStages": [ "0", "3", "1" ], "name": "S05: Join+", "parallelInputs": "1", "readMsAvg": "36", "readMsMax": "36", "readRatioAvg": 0.03484995159728945, "readRatioMax": 0.03484995159728945, "recordsRead": "14625469", "recordsWritten": "2", "shuffleOutputBytes": "388", "shuffleOutputBytesSpilled": "0", "slotMs": "894", "startMs": "1665778668931", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$30:inv_date_sk, $31:inv_item_sk, $32:inv_quantity_on_hand", "FROM inventory", "WHERE between($32, 100, 500)" ] }, { "kind": "READ", "substeps": [ "$20, $21, $22, $23", "FROM __stage03_output" ] }, { "kind": "READ", "substeps": [ "$10", "FROM __stage01_output" ] }, { "kind": "READ", "substeps": [ "$1", "FROM __stage00_output" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $80 := $70, $81 := $71, $82 := $72" ] }, { "kind": "JOIN", "substeps": [ "$70 := $61, $71 := $62, $72 := $63", "INNER HASH JOIN EACH WITH ALL ON $60 = $1" ] }, { "kind": "JOIN", "substeps": [ "$60 := $50, $61 := $51, $62 := $52, $63 := $53", "INNER HASH JOIN EACH WITH ALL ON $54 = $10" ] }, { "kind": "JOIN", "substeps": [ "$54 := $30, $50 := $20, $51 := $21, $52 := $22, $53 := $23", "INNER HASH JOIN EACH WITH ALL ON $31 = $20" ] }, { "kind": "WRITE", "substeps": [ "$80, $81, $82", "TO __stage05_output", "BY HASH($80, $81, $82)" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.000968054211035818, "waitRatioMax": 0.000968054211035818, "writeMsAvg": "5", "writeMsMax": "5", "writeRatioAvg": 0.00484027105517909, "writeRatioMax": 0.00484027105517909 }, { "completedParallelInputs": "1", "computeMsAvg": "9", "computeMsMax": "9", "computeRatioAvg": 0.008712487899322363, "computeRatioMax": 0.008712487899322363, "endMs": "1665778669726", "id": "6", "inputStages": [ "5" ], "name": "S06: Sort+", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "2", "recordsWritten": "2", "shuffleOutputBytes": "388", "shuffleOutputBytesSpilled": "0", "slotMs": "11", "startMs": "1665778669714", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$80, $81, $82", "FROM __stage05_output" ] }, { "kind": "SORT", "substeps": [ "$90 ASC", "LIMIT 100" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $90 := $80, $91 := $81, $92 := $82" ] }, { "kind": "WRITE", "substeps": [ "$100, $101, $102", "TO __stage06_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.000968054211035818, "waitRatioMax": 0.000968054211035818, "writeMsAvg": "1", "writeMsMax": "1", "writeRatioAvg": 0.000968054211035818, "writeRatioMax": 0.000968054211035818 }, { "completedParallelInputs": "1", "computeMsAvg": "9", "computeMsMax": "9", "computeRatioAvg": 0.008712487899322363, "computeRatioMax": 0.008712487899322363, "endMs": "1665778669767", "id": "7", "inputStages": [ "6" ], "name": "S07: Output", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "2", "recordsWritten": "2", "shuffleOutputBytes": "388", "shuffleOutputBytesSpilled": "0", "slotMs": "35", "startMs": "1665778669729", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$100, $101, $102", "FROM __stage06_output" ] }, { "kind": "SORT", "substeps": [ "$100 ASC", "LIMIT 100" ] }, { "kind": "WRITE", "substeps": [ "$110, $111, $112", "TO __stage07_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.000968054211035818, "waitRatioMax": 0.000968054211035818, "writeMsAvg": "18", "writeMsMax": "18", "writeRatioAvg": 0.017424975798644726, "writeRatioMax": 0.017424975798644726 } ], "referencedTables": [ { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "item" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "inventory" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "date_dim" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "store_sales" } ], "statementType": "SELECT", "timeline": [ { "activeUnits": "1", "completedUnits": "8", "elapsedMs": "595", "estimatedRunnableUnits": "0", "pendingUnits": "1", "totalSlotMs": "1391" }, { "activeUnits": "1", "completedUnits": "11", "elapsedMs": "1154", "estimatedRunnableUnits": "0", "pendingUnits": "0", "totalSlotMs": "2243" } ], "totalBytesBilled": "305135616", "totalBytesProcessed": "304134292", "totalPartitionsProcessed": "0", "totalSlotMs": "2243", "transferredBytes": "0" }, "startTime": "1665778668640", "totalBytesProcessed": "304134292", "totalSlotMs": "2243" }, "status": { "state": "DONE" }, "user_email": "jesuispotatos@gmail.com" }
{ "configuration": { "jobType": "QUERY", "query": { "defaultDataset": { "datasetId": "call_center", "projectId": "test-project-364309" }, "destinationTable": { "datasetId": "_a0aa936c5cea243efb3c6dc011c66cfad39bfcb7", "projectId": "test-project-364309", "tableId": "anon4255f7c5_35fd_4ece_9517_9e1ea2cae6df" }, "priority": "INTERACTIVE", "query": "-- start query 82 in stream 0 using template query82.tpl\nselect i_item_id\n ,i_item_desc\n ,i_current_price\n from item, inventory, date_dim, store_sales\n where i_current_price between 62 and 62+30\n and inv_item_sk = i_item_sk\n and d_date_sk=inv_date_sk\n and d_date between cast('2000-05-25' as date) and (cast('2000-05-25' +60 as date)) --+60 days \n and i_manufact_id in (129,270,821,423)\n and inv_quantity_on_hand between 100 and 500\n and ss_item_sk = i_item_sk\n group by i_item_id,i_item_desc,i_current_price\n order by i_item_id\n limit 100\n ;\n\n-- end query 82 in stream 0 using template query82.tpl", "useLegacySql": false, "useQueryCache": false, "writeDisposition": "WRITE_TRUNCATE" } }, "etag": "WzCKyaLGHYrQTKTlqEwOdw==", "id": "test-project-364309:europe-west1.query82_1665778670", "jobReference": { "jobId": "query82_1665778670", "location": "europe-west1", "projectId": "test-project-364309" }, "kind": "bigquery#job", "principal_subject": "user:jesuispotatos@gmail.com", "selfLink": "https://bigquery.googleapis.com/bigquery/v2/projects/test-project-364309/jobs/query82_1665778670?location=europe-west1", "statistics": { "creationTime": "1665778671439", "endTime": "1665778672532", "finalExecutionDurationMs": "918", "query": { "billingTier": 1, "cacheHit": false, "estimatedBytesProcessed": "304134292", "performanceInsights": { "avgPreviousExecutionMs": "1019" }, "queryPlan": [ { "completedParallelInputs": "6", "computeMsAvg": "146", "computeMsMax": "174", "computeRatioAvg": 0.13556174558960074, "computeRatioMax": 0.1615598885793872, "endMs": "1665778671736", "id": "0", "name": "S00: Input", "parallelInputs": "6", "readMsAvg": "9", "readMsMax": "16", "readRatioAvg": 0.008356545961002786, "readRatioMax": 0.014856081708449397, "recordsRead": "2880404", "recordsWritten": "2880404", "shuffleOutputBytes": "25923636", "shuffleOutputBytesSpilled": "0", "slotMs": "932", "startMs": "1665778671572", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$1:ss_item_sk", "FROM store_sales" ] }, { "kind": "WRITE", "substeps": [ "$1", "TO __stage00_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0009285051067780873, "waitRatioMax": 0.0009285051067780873, "writeMsAvg": "27", "writeMsMax": "35", "writeRatioAvg": 0.025069637883008356, "writeRatioMax": 0.032497678737233054 }, { "completedParallelInputs": "1", "computeMsAvg": "10", "computeMsMax": "10", "computeRatioAvg": 0.009285051067780872, "computeRatioMax": 0.009285051067780872, "endMs": "1665778671620", "id": "1", "name": "S01: Input", "parallelInputs": "1", "readMsAvg": "6", "readMsMax": "6", "readRatioAvg": 0.005571030640668524, "readRatioMax": 0.005571030640668524, "recordsRead": "73049", "recordsWritten": "61", "shuffleOutputBytes": "549", "shuffleOutputBytesSpilled": "0", "slotMs": "33", "startMs": "1665778671587", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$10:d_date_sk, $11:d_date", "FROM date_dim", "WHERE between($11, 11102, 11162)" ] }, { "kind": "WRITE", "substeps": [ "$10", "TO __stage01_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0009285051067780873, "waitRatioMax": 0.0009285051067780873, "writeMsAvg": "6", "writeMsMax": "6", "writeRatioAvg": 0.005571030640668524, "writeRatioMax": 0.005571030640668524 }, { "completedParallelInputs": "1", "computeMsAvg": "14", "computeMsMax": "14", "computeRatioAvg": 0.012999071494893221, "computeRatioMax": 0.012999071494893221, "endMs": "1665778671654", "id": "3", "name": "S03: Input", "parallelInputs": "1", "readMsAvg": "6", "readMsMax": "6", "readRatioAvg": 0.005571030640668524, "readRatioMax": 0.005571030640668524, "recordsRead": "18000", "recordsWritten": "4", "shuffleOutputBytes": "638", "shuffleOutputBytesSpilled": "0", "slotMs": "33", "startMs": "1665778671617", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$20:i_item_sk, $21:i_item_id, $22:i_item_desc, $23:i_current_price, $24:i_manufact_id", "FROM item", "WHERE and(between($23, NUMERIC<...>, NUMERIC<...>), in($24, 129, 270, 821, 423))" ] }, { "kind": "WRITE", "substeps": [ "$20, $21, $22, $23", "TO __stage03_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0009285051067780873, "waitRatioMax": 0.0009285051067780873, "writeMsAvg": "9", "writeMsMax": "9", "writeRatioAvg": 0.008356545961002786, "writeRatioMax": 0.008356545961002786 }, { "completedParallelInputs": "1", "computeMsAvg": "1077", "computeMsMax": "1077", "computeRatioAvg": 1, "computeRatioMax": 1, "endMs": "1665778672367", "id": "5", "inputStages": [ "0", "1", "3" ], "name": "S05: Join+", "parallelInputs": "1", "readMsAvg": "28", "readMsMax": "28", "readRatioAvg": 0.025998142989786442, "readRatioMax": 0.025998142989786442, "recordsRead": "14625469", "recordsWritten": "2", "shuffleOutputBytes": "388", "shuffleOutputBytesSpilled": "0", "slotMs": "890", "startMs": "1665778671751", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$30:inv_date_sk, $31:inv_item_sk, $32:inv_quantity_on_hand", "FROM inventory", "WHERE between($32, 100, 500)" ] }, { "kind": "READ", "substeps": [ "$20, $21, $22, $23", "FROM __stage03_output" ] }, { "kind": "READ", "substeps": [ "$10", "FROM __stage01_output" ] }, { "kind": "READ", "substeps": [ "$1", "FROM __stage00_output" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $80 := $70, $81 := $71, $82 := $72" ] }, { "kind": "JOIN", "substeps": [ "$70 := $61, $71 := $62, $72 := $63", "INNER HASH JOIN EACH WITH ALL ON $60 = $1" ] }, { "kind": "JOIN", "substeps": [ "$60 := $50, $61 := $51, $62 := $52, $63 := $53", "INNER HASH JOIN EACH WITH ALL ON $54 = $10" ] }, { "kind": "JOIN", "substeps": [ "$54 := $30, $50 := $20, $51 := $21, $52 := $22, $53 := $23", "INNER HASH JOIN EACH WITH ALL ON $31 = $20" ] }, { "kind": "WRITE", "substeps": [ "$80, $81, $82", "TO __stage05_output", "BY HASH($80, $81, $82)" ] } ], "waitMsAvg": "2", "waitMsMax": "2", "waitRatioAvg": 0.0018570102135561746, "waitRatioMax": 0.0018570102135561746, "writeMsAvg": "4", "writeMsMax": "4", "writeRatioAvg": 0.003714020427112349, "writeRatioMax": 0.003714020427112349 }, { "completedParallelInputs": "1", "computeMsAvg": "5", "computeMsMax": "5", "computeRatioAvg": 0.004642525533890436, "computeRatioMax": 0.004642525533890436, "endMs": "1665778672419", "id": "6", "inputStages": [ "5" ], "name": "S06: Sort+", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "2", "recordsWritten": "2", "shuffleOutputBytes": "388", "shuffleOutputBytesSpilled": "0", "slotMs": "8", "startMs": "1665778672409", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$80, $81, $82", "FROM __stage05_output" ] }, { "kind": "SORT", "substeps": [ "$90 ASC", "LIMIT 100" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $90 := $80, $91 := $81, $92 := $82" ] }, { "kind": "WRITE", "substeps": [ "$100, $101, $102", "TO __stage06_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0009285051067780873, "waitRatioMax": 0.0009285051067780873, "writeMsAvg": "1", "writeMsMax": "1", "writeRatioAvg": 0.0009285051067780873, "writeRatioMax": 0.0009285051067780873 }, { "completedParallelInputs": "1", "computeMsAvg": "9", "computeMsMax": "9", "computeRatioAvg": 0.008356545961002786, "computeRatioMax": 0.008356545961002786, "endMs": "1665778672459", "id": "7", "inputStages": [ "6" ], "name": "S07: Output", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "2", "recordsWritten": "2", "shuffleOutputBytes": "388", "shuffleOutputBytesSpilled": "0", "slotMs": "33", "startMs": "1665778672423", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$100, $101, $102", "FROM __stage06_output" ] }, { "kind": "SORT", "substeps": [ "$100 ASC", "LIMIT 100" ] }, { "kind": "WRITE", "substeps": [ "$110, $111, $112", "TO __stage07_output" ] } ], "waitMsAvg": "2", "waitMsMax": "2", "waitRatioAvg": 0.0018570102135561746, "waitRatioMax": 0.0018570102135561746, "writeMsAvg": "25", "writeMsMax": "25", "writeRatioAvg": 0.02321262766945218, "writeRatioMax": 0.02321262766945218 } ], "referencedTables": [ { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "store_sales" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "item" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "date_dim" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "inventory" } ], "statementType": "SELECT", "timeline": [ { "activeUnits": "1", "completedUnits": "8", "elapsedMs": "590", "estimatedRunnableUnits": "0", "pendingUnits": "1", "totalSlotMs": "1038" }, { "activeUnits": "1", "completedUnits": "11", "elapsedMs": "1009", "estimatedRunnableUnits": "0", "pendingUnits": "0", "totalSlotMs": "1971" } ], "totalBytesBilled": "305135616", "totalBytesProcessed": "304134292", "totalPartitionsProcessed": "0", "totalSlotMs": "1971", "transferredBytes": "0" }, "startTime": "1665778671483", "totalBytesProcessed": "304134292", "totalSlotMs": "1971" }, "status": { "state": "DONE" }, "user_email": "jesuispotatos@gmail.com" }
{ "configuration": { "jobType": "QUERY", "query": { "defaultDataset": { "datasetId": "call_center", "projectId": "test-project-364309" }, "destinationTable": { "datasetId": "_a0aa936c5cea243efb3c6dc011c66cfad39bfcb7", "projectId": "test-project-364309", "tableId": "anon7821d656_f061_42c4_8e58_370db05c91f5" }, "priority": "INTERACTIVE", "query": "-- start query 82 in stream 0 using template query82.tpl\nselect i_item_id\n ,i_item_desc\n ,i_current_price\n from item, inventory, date_dim, store_sales\n where i_current_price between 62 and 62+30\n and inv_item_sk = i_item_sk\n and d_date_sk=inv_date_sk\n and d_date between cast('2000-05-25' as date) and (cast('2000-05-25' +60 as date)) --+60 days \n and i_manufact_id in (129,270,821,423)\n and inv_quantity_on_hand between 100 and 500\n and ss_item_sk = i_item_sk\n group by i_item_id,i_item_desc,i_current_price\n order by i_item_id\n limit 100\n ;\n\n-- end query 82 in stream 0 using template query82.tpl", "useLegacySql": false, "useQueryCache": false, "writeDisposition": "WRITE_TRUNCATE" } }, "etag": "T4P07soyyPM5tiRgs5lAGQ==", "id": "test-project-364309:europe-west1.query82_1665778673", "jobReference": { "jobId": "query82_1665778673", "location": "europe-west1", "projectId": "test-project-364309" }, "kind": "bigquery#job", "principal_subject": "user:jesuispotatos@gmail.com", "selfLink": "https://bigquery.googleapis.com/bigquery/v2/projects/test-project-364309/jobs/query82_1665778673?location=europe-west1", "statistics": { "creationTime": "1665778674086", "endTime": "1665778675678", "finalExecutionDurationMs": "1379", "query": { "billingTier": 1, "cacheHit": false, "estimatedBytesProcessed": "304134292", "performanceInsights": { "avgPreviousExecutionMs": "1007" }, "queryPlan": [ { "completedParallelInputs": "6", "computeMsAvg": "190", "computeMsMax": "265", "computeRatioAvg": 0.11649294911097487, "computeRatioMax": 0.16247700797057021, "endMs": "1665778674417", "id": "0", "name": "S00: Input", "parallelInputs": "6", "readMsAvg": "10", "readMsMax": "15", "readRatioAvg": 0.0061312078479460455, "readRatioMax": 0.009196811771919068, "recordsRead": "2880404", "recordsWritten": "2880404", "shuffleOutputBytes": "25923636", "shuffleOutputBytesSpilled": "0", "slotMs": "1122", "startMs": "1665778674238", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$1:ss_item_sk", "FROM store_sales" ] }, { "kind": "WRITE", "substeps": [ "$1", "TO __stage00_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0006131207847946045, "waitRatioMax": 0.0006131207847946045, "writeMsAvg": "30", "writeMsMax": "39", "writeRatioAvg": 0.018393623543838136, "writeRatioMax": 0.023911710606989576 }, { "completedParallelInputs": "1", "computeMsAvg": "14", "computeMsMax": "14", "computeRatioAvg": 0.008583690987124463, "computeRatioMax": 0.008583690987124463, "endMs": "1665778674296", "id": "1", "name": "S01: Input", "parallelInputs": "1", "readMsAvg": "8", "readMsMax": "8", "readRatioAvg": 0.004904966278356836, "readRatioMax": 0.004904966278356836, "recordsRead": "73049", "recordsWritten": "61", "shuffleOutputBytes": "549", "shuffleOutputBytesSpilled": "0", "slotMs": "40", "startMs": "1665778674255", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$10:d_date_sk, $11:d_date", "FROM date_dim", "WHERE between($11, 11102, 11162)" ] }, { "kind": "WRITE", "substeps": [ "$10", "TO __stage01_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0006131207847946045, "waitRatioMax": 0.0006131207847946045, "writeMsAvg": "10", "writeMsMax": "10", "writeRatioAvg": 0.0061312078479460455, "writeRatioMax": 0.0061312078479460455 }, { "completedParallelInputs": "1", "computeMsAvg": "23", "computeMsMax": "23", "computeRatioAvg": 0.014101778050275904, "computeRatioMax": 0.014101778050275904, "endMs": "1665778674327", "id": "3", "name": "S03: Input", "parallelInputs": "1", "readMsAvg": "12", "readMsMax": "12", "readRatioAvg": 0.007357449417535254, "readRatioMax": 0.007357449417535254, "recordsRead": "18000", "recordsWritten": "4", "shuffleOutputBytes": "638", "shuffleOutputBytesSpilled": "0", "slotMs": "31", "startMs": "1665778674291", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$20:i_item_sk, $21:i_item_id, $22:i_item_desc, $23:i_current_price, $24:i_manufact_id", "FROM item", "WHERE and(between($23, NUMERIC<...>, NUMERIC<...>), in($24, 129, 270, 821, 423))" ] }, { "kind": "WRITE", "substeps": [ "$20, $21, $22, $23", "TO __stage03_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0006131207847946045, "waitRatioMax": 0.0006131207847946045, "writeMsAvg": "9", "writeMsMax": "9", "writeRatioAvg": 0.005518087063151441, "writeRatioMax": 0.005518087063151441 }, { "completedParallelInputs": "1", "computeMsAvg": "1631", "computeMsMax": "1631", "computeRatioAvg": 1, "computeRatioMax": 1, "endMs": "1665778675253", "id": "5", "inputStages": [ "1", "0", "3" ], "name": "S05: Join+", "parallelInputs": "1", "readMsAvg": "34", "readMsMax": "34", "readRatioAvg": 0.020846106683016553, "readRatioMax": 0.020846106683016553, "recordsRead": "14625469", "recordsWritten": "2", "shuffleOutputBytes": "388", "shuffleOutputBytesSpilled": "0", "slotMs": "1279", "startMs": "1665778674428", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$30:inv_date_sk, $31:inv_item_sk, $32:inv_quantity_on_hand", "FROM inventory", "WHERE between($32, 100, 500)" ] }, { "kind": "READ", "substeps": [ "$20, $21, $22, $23", "FROM __stage03_output" ] }, { "kind": "READ", "substeps": [ "$10", "FROM __stage01_output" ] }, { "kind": "READ", "substeps": [ "$1", "FROM __stage00_output" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $80 := $70, $81 := $71, $82 := $72" ] }, { "kind": "JOIN", "substeps": [ "$70 := $61, $71 := $62, $72 := $63", "INNER HASH JOIN EACH WITH ALL ON $60 = $1" ] }, { "kind": "JOIN", "substeps": [ "$60 := $50, $61 := $51, $62 := $52, $63 := $53", "INNER HASH JOIN EACH WITH ALL ON $54 = $10" ] }, { "kind": "JOIN", "substeps": [ "$54 := $30, $50 := $20, $51 := $21, $52 := $22, $53 := $23", "INNER HASH JOIN EACH WITH ALL ON $31 = $20" ] }, { "kind": "WRITE", "substeps": [ "$80, $81, $82", "TO __stage05_output", "BY HASH($80, $81, $82)" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0006131207847946045, "waitRatioMax": 0.0006131207847946045, "writeMsAvg": "6", "writeMsMax": "6", "writeRatioAvg": 0.003678724708767627, "writeRatioMax": 0.003678724708767627 }, { "completedParallelInputs": "1", "computeMsAvg": "5", "computeMsMax": "5", "computeRatioAvg": 0.0030656039239730227, "computeRatioMax": 0.0030656039239730227, "endMs": "1665778675538", "id": "6", "inputStages": [ "5" ], "name": "S06: Sort+", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "2", "recordsWritten": "2", "shuffleOutputBytes": "388", "shuffleOutputBytesSpilled": "0", "slotMs": "8", "startMs": "1665778675529", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$80, $81, $82", "FROM __stage05_output" ] }, { "kind": "SORT", "substeps": [ "$90 ASC", "LIMIT 100" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $90 := $80, $91 := $81, $92 := $82" ] }, { "kind": "WRITE", "substeps": [ "$100, $101, $102", "TO __stage06_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0006131207847946045, "waitRatioMax": 0.0006131207847946045, "writeMsAvg": "1", "writeMsMax": "1", "writeRatioAvg": 0.0006131207847946045, "writeRatioMax": 0.0006131207847946045 }, { "completedParallelInputs": "1", "computeMsAvg": "12", "computeMsMax": "12", "computeRatioAvg": 0.007357449417535254, "computeRatioMax": 0.007357449417535254, "endMs": "1665778675587", "id": "7", "inputStages": [ "6" ], "name": "S07: Output", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "2", "recordsWritten": "2", "shuffleOutputBytes": "388", "shuffleOutputBytesSpilled": "0", "slotMs": "41", "startMs": "1665778675545", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$100, $101, $102", "FROM __stage06_output" ] }, { "kind": "SORT", "substeps": [ "$100 ASC", "LIMIT 100" ] }, { "kind": "WRITE", "substeps": [ "$110, $111, $112", "TO __stage07_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0006131207847946045, "waitRatioMax": 0.0006131207847946045, "writeMsAvg": "17", "writeMsMax": "17", "writeRatioAvg": 0.010423053341508276, "writeRatioMax": 0.010423053341508276 } ], "referencedTables": [ { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "item" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "store_sales" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "date_dim" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "inventory" } ], "statementType": "SELECT", "timeline": [ { "activeUnits": "1", "completedUnits": "8", "elapsedMs": "594", "estimatedRunnableUnits": "0", "pendingUnits": "1", "totalSlotMs": "1232" }, { "activeUnits": "1", "completedUnits": "11", "elapsedMs": "1464", "estimatedRunnableUnits": "0", "pendingUnits": "0", "totalSlotMs": "2562" } ], "totalBytesBilled": "305135616", "totalBytesProcessed": "304134292", "totalPartitionsProcessed": "0", "totalSlotMs": "2562", "transferredBytes": "0" }, "startTime": "1665778674146", "totalBytesProcessed": "304134292", "totalSlotMs": "2562" }, "status": { "state": "DONE" }, "user_email": "jesuispotatos@gmail.com" }
{ "configuration": { "jobType": "QUERY", "query": { "defaultDataset": { "datasetId": "call_center", "projectId": "test-project-364309" }, "destinationTable": { "datasetId": "_a0aa936c5cea243efb3c6dc011c66cfad39bfcb7", "projectId": "test-project-364309", "tableId": "anon79805350_3488_48e5_bb60_02ab20389e55" }, "priority": "INTERACTIVE", "query": "-- start query 82 in stream 0 using template query82.tpl\nselect i_item_id\n ,i_item_desc\n ,i_current_price\n from item, inventory, date_dim, store_sales\n where i_current_price between 62 and 62+30\n and inv_item_sk = i_item_sk\n and d_date_sk=inv_date_sk\n and d_date between cast('2000-05-25' as date) and (cast('2000-05-25' +60 as date)) --+60 days \n and i_manufact_id in (129,270,821,423)\n and inv_quantity_on_hand between 100 and 500\n and ss_item_sk = i_item_sk\n group by i_item_id,i_item_desc,i_current_price\n order by i_item_id\n limit 100\n ;\n\n-- end query 82 in stream 0 using template query82.tpl", "useLegacySql": false, "useQueryCache": false, "writeDisposition": "WRITE_TRUNCATE" } }, "etag": "tOtd85YuVvjEPnAEPEyu6g==", "id": "test-project-364309:europe-west1.query82_1665778677", "jobReference": { "jobId": "query82_1665778677", "location": "europe-west1", "projectId": "test-project-364309" }, "kind": "bigquery#job", "principal_subject": "user:jesuispotatos@gmail.com", "selfLink": "https://bigquery.googleapis.com/bigquery/v2/projects/test-project-364309/jobs/query82_1665778677?location=europe-west1", "statistics": { "creationTime": "1665778678046", "endTime": "1665778679587", "finalExecutionDurationMs": "1345", "query": { "billingTier": 1, "cacheHit": false, "estimatedBytesProcessed": "304134292", "performanceInsights": { "avgPreviousExecutionMs": "1045" }, "queryPlan": [ { "completedParallelInputs": "6", "computeMsAvg": "160", "computeMsMax": "246", "computeRatioAvg": 0.08781558726673985, "computeRatioMax": 0.1350164654226125, "endMs": "1665778678350", "id": "0", "name": "S00: Input", "parallelInputs": "6", "readMsAvg": "8", "readMsMax": "10", "readRatioAvg": 0.0043907793633369925, "readRatioMax": 0.005488474204171241, "recordsRead": "2880404", "recordsWritten": "2880404", "shuffleOutputBytes": "25923636", "shuffleOutputBytesSpilled": "0", "slotMs": "986", "startMs": "1665778678202", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$1:ss_item_sk", "FROM store_sales" ] }, { "kind": "WRITE", "substeps": [ "$1", "TO __stage00_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0005488474204171241, "waitRatioMax": 0.0005488474204171241, "writeMsAvg": "26", "writeMsMax": "36", "writeRatioAvg": 0.014270032930845226, "writeRatioMax": 0.019758507135016465 }, { "completedParallelInputs": "1", "computeMsAvg": "13", "computeMsMax": "13", "computeRatioAvg": 0.007135016465422613, "computeRatioMax": 0.007135016465422613, "endMs": "1665778678251", "id": "1", "name": "S01: Input", "parallelInputs": "1", "readMsAvg": "7", "readMsMax": "7", "readRatioAvg": 0.0038419319429198683, "readRatioMax": 0.0038419319429198683, "recordsRead": "73049", "recordsWritten": "61", "shuffleOutputBytes": "549", "shuffleOutputBytesSpilled": "0", "slotMs": "43", "startMs": "1665778678220", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$10:d_date_sk, $11:d_date", "FROM date_dim", "WHERE between($11, 11102, 11162)" ] }, { "kind": "WRITE", "substeps": [ "$10", "TO __stage01_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0005488474204171241, "waitRatioMax": 0.0005488474204171241, "writeMsAvg": "14", "writeMsMax": "14", "writeRatioAvg": 0.007683863885839737, "writeRatioMax": 0.007683863885839737 }, { "completedParallelInputs": "1", "computeMsAvg": "23", "computeMsMax": "23", "computeRatioAvg": 0.012623490669593854, "computeRatioMax": 0.012623490669593854, "endMs": "1665778678284", "id": "3", "name": "S03: Input", "parallelInputs": "1", "readMsAvg": "9", "readMsMax": "9", "readRatioAvg": 0.004939626783754116, "readRatioMax": 0.004939626783754116, "recordsRead": "18000", "recordsWritten": "4", "shuffleOutputBytes": "638", "shuffleOutputBytesSpilled": "0", "slotMs": "47", "startMs": "1665778678252", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$20:i_item_sk, $21:i_item_id, $22:i_item_desc, $23:i_current_price, $24:i_manufact_id", "FROM item", "WHERE and(between($23, NUMERIC<...>, NUMERIC<...>), in($24, 129, 270, 821, 423))" ] }, { "kind": "WRITE", "substeps": [ "$20, $21, $22, $23", "TO __stage03_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0005488474204171241, "waitRatioMax": 0.0005488474204171241, "writeMsAvg": "8", "writeMsMax": "8", "writeRatioAvg": 0.0043907793633369925, "writeRatioMax": 0.0043907793633369925 }, { "completedParallelInputs": "1", "computeMsAvg": "1822", "computeMsMax": "1822", "computeRatioAvg": 1, "computeRatioMax": 1, "endMs": "1665778679273", "id": "5", "inputStages": [ "3", "0", "1" ], "name": "S05: Join+", "parallelInputs": "1", "readMsAvg": "29", "readMsMax": "29", "readRatioAvg": 0.015916575192096598, "readRatioMax": 0.015916575192096598, "recordsRead": "14625469", "recordsWritten": "2", "shuffleOutputBytes": "388", "shuffleOutputBytesSpilled": "0", "slotMs": "1404", "startMs": "1665778678361", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$30:inv_date_sk, $31:inv_item_sk, $32:inv_quantity_on_hand", "FROM inventory", "WHERE between($32, 100, 500)" ] }, { "kind": "READ", "substeps": [ "$20, $21, $22, $23", "FROM __stage03_output" ] }, { "kind": "READ", "substeps": [ "$10", "FROM __stage01_output" ] }, { "kind": "READ", "substeps": [ "$1", "FROM __stage00_output" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $80 := $70, $81 := $71, $82 := $72" ] }, { "kind": "JOIN", "substeps": [ "$70 := $61, $71 := $62, $72 := $63", "INNER HASH JOIN EACH WITH ALL ON $60 = $1" ] }, { "kind": "JOIN", "substeps": [ "$60 := $50, $61 := $51, $62 := $52, $63 := $53", "INNER HASH JOIN EACH WITH ALL ON $54 = $10" ] }, { "kind": "JOIN", "substeps": [ "$54 := $30, $50 := $20, $51 := $21, $52 := $22, $53 := $23", "INNER HASH JOIN EACH WITH ALL ON $31 = $20" ] }, { "kind": "WRITE", "substeps": [ "$80, $81, $82", "TO __stage05_output", "BY HASH($80, $81, $82)" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0005488474204171241, "waitRatioMax": 0.0005488474204171241, "writeMsAvg": "4", "writeMsMax": "4", "writeRatioAvg": 0.0021953896816684962, "writeRatioMax": 0.0021953896816684962 }, { "completedParallelInputs": "1", "computeMsAvg": "4", "computeMsMax": "4", "computeRatioAvg": 0.0021953896816684962, "computeRatioMax": 0.0021953896816684962, "endMs": "1665778679465", "id": "6", "inputStages": [ "5" ], "name": "S06: Sort+", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "2", "recordsWritten": "2", "shuffleOutputBytes": "388", "shuffleOutputBytesSpilled": "0", "slotMs": "6", "startMs": "1665778679457", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$80, $81, $82", "FROM __stage05_output" ] }, { "kind": "SORT", "substeps": [ "$90 ASC", "LIMIT 100" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $90 := $80, $91 := $81, $92 := $82" ] }, { "kind": "WRITE", "substeps": [ "$100, $101, $102", "TO __stage06_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0005488474204171241, "waitRatioMax": 0.0005488474204171241, "writeMsAvg": "0", "writeMsMax": "0", "writeRatioAvg": 0, "writeRatioMax": 0 }, { "completedParallelInputs": "1", "computeMsAvg": "10", "computeMsMax": "10", "computeRatioAvg": 0.005488474204171241, "computeRatioMax": 0.005488474204171241, "endMs": "1665778679506", "id": "7", "inputStages": [ "6" ], "name": "S07: Output", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "2", "recordsWritten": "2", "shuffleOutputBytes": "388", "shuffleOutputBytesSpilled": "0", "slotMs": "30", "startMs": "1665778679470", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$100, $101, $102", "FROM __stage06_output" ] }, { "kind": "SORT", "substeps": [ "$100 ASC", "LIMIT 100" ] }, { "kind": "WRITE", "substeps": [ "$110, $111, $112", "TO __stage07_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0005488474204171241, "waitRatioMax": 0.0005488474204171241, "writeMsAvg": "28", "writeMsMax": "28", "writeRatioAvg": 0.015367727771679473, "writeRatioMax": 0.015367727771679473 } ], "referencedTables": [ { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "date_dim" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "store_sales" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "item" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "inventory" } ], "statementType": "SELECT", "timeline": [ { "activeUnits": "1", "completedUnits": "8", "elapsedMs": "598", "estimatedRunnableUnits": "0", "pendingUnits": "1", "totalSlotMs": "1293" }, { "activeUnits": "1", "completedUnits": "11", "elapsedMs": "1433", "estimatedRunnableUnits": "0", "pendingUnits": "0", "totalSlotMs": "2518" } ], "totalBytesBilled": "305135616", "totalBytesProcessed": "304134292", "totalPartitionsProcessed": "0", "totalSlotMs": "2518", "transferredBytes": "0" }, "startTime": "1665778678106", "totalBytesProcessed": "304134292", "totalSlotMs": "2518" }, "status": { "state": "DONE" }, "user_email": "jesuispotatos@gmail.com" }
