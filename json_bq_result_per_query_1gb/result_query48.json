{ "configuration": { "jobType": "QUERY", "query": { "defaultDataset": { "datasetId": "call_center", "projectId": "test-project-364309" }, "destinationTable": { "datasetId": "_a0aa936c5cea243efb3c6dc011c66cfad39bfcb7", "projectId": "test-project-364309", "tableId": "anon9b66400b_5170_4014_bb63_8e350ac579c7" }, "priority": "INTERACTIVE", "query": "select sum (ss_quantity)\n from store_sales, store, customer_demographics, customer_address, date_dim\n where s_store_sk = ss_store_sk\n and ss_sold_date_sk = d_date_sk and d_year = 2001\n and \n (\n (\n cd_demo_sk = ss_cdemo_sk\n and \n cd_marital_status = 'S'\n and \n cd_education_status = 'Secondary'\n and \n ss_sales_price between 100.00 and 150.00 \n )\n or\n (\n cd_demo_sk = ss_cdemo_sk\n and \n cd_marital_status = 'M'\n and \n cd_education_status = '2 yr Degree'\n and \n ss_sales_price between 50.00 and 100.00 \n )\n or \n (\n cd_demo_sk = ss_cdemo_sk\n and \n cd_marital_status = 'D'\n and \n cd_education_status = 'Advanced Degree'\n and \n ss_sales_price between 150.00 and 200.00 \n )\n )\n and\n (\n (\n ss_addr_sk = ca_address_sk\n and\n ca_country = 'United States'\n and\n ca_state in ('ND', 'NY', 'SD')\n and ss_net_profit between 0 and 2000 \n )\n or\n (ss_addr_sk = ca_address_sk\n and\n ca_country = 'United States'\n and\n ca_state in ('MD', 'GA', 'KS')\n and ss_net_profit between 150 and 3000 \n )\n or\n (ss_addr_sk = ca_address_sk\n and\n ca_country = 'United States'\n and\n ca_state in ('CO', 'MN', 'NC')\n and ss_net_profit between 50 and 25000 \n )\n )\n;\n", "useLegacySql": false, "useQueryCache": false, "writeDisposition": "WRITE_TRUNCATE" } }, "etag": "XANV54twsmGEVg5c6AmqTg==", "id": "test-project-364309:europe-west1.query48_1665768368", "jobReference": { "jobId": "query48_1665768368", "location": "europe-west1", "projectId": "test-project-364309" }, "kind": "bigquery#job", "principal_subject": "user:jesuispotatos@gmail.com", "selfLink": "https://bigquery.googleapis.com/bigquery/v2/projects/test-project-364309/jobs/query48_1665768368?location=europe-west1", "statistics": { "creationTime": "1665768369179", "endTime": "1665768370278", "finalExecutionDurationMs": "893", "query": { "billingTier": 1, "cacheHit": false, "estimatedBytesProcessed": "243876781", "performanceInsights": { "avgPreviousExecutionMs": "890" }, "queryPlan": [ { "completedParallelInputs": "1", "computeMsAvg": "18", "computeMsMax": "18", "computeRatioAvg": 0.021791767554479417, "computeRatioMax": 0.021791767554479417, "endMs": "1665768369382", "id": "0", "name": "S00: Input", "parallelInputs": "1", "readMsAvg": "10", "readMsMax": "10", "readRatioAvg": 0.012106537530266344, "readRatioMax": 0.012106537530266344, "recordsRead": "73049", "recordsWritten": "365", "shuffleOutputBytes": "3285", "shuffleOutputBytesSpilled": "0", "slotMs": "70", "startMs": "1665768369331", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$1:d_date_sk, $2:d_year", "FROM date_dim", "WHERE equal($2, 2001)" ] }, { "kind": "WRITE", "substeps": [ "$1", "TO __stage00_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0012106537530266344, "waitRatioMax": 0.0012106537530266344, "writeMsAvg": "15", "writeMsMax": "15", "writeRatioAvg": 0.018159806295399514, "writeRatioMax": 0.018159806295399514 }, { "completedParallelInputs": "1", "computeMsAvg": "17", "computeMsMax": "17", "computeRatioAvg": 0.020581113801452784, "computeRatioMax": 0.020581113801452784, "endMs": "1665768369391", "id": "1", "name": "S01: Input", "parallelInputs": "1", "readMsAvg": "9", "readMsMax": "9", "readRatioAvg": 0.010895883777239709, "readRatioMax": 0.010895883777239709, "recordsRead": "50000", "recordsWritten": "10968", "shuffleOutputBytes": "175488", "shuffleOutputBytesSpilled": "0", "slotMs": "36", "startMs": "1665768369348", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$10:ca_address_sk, $11:ca_state, $12:ca_country", "FROM customer_address", "WHERE and(equal($12, 'United States'), or(in($11, 'ND', 'NY', 'SD'), in($11, 'MD', 'GA', 'KS'), in($11, 'CO', 'MN', 'NC')))" ] }, { "kind": "WRITE", "substeps": [ "$10, $11", "TO __stage01_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0012106537530266344, "waitRatioMax": 0.0012106537530266344, "writeMsAvg": "13", "writeMsMax": "13", "writeRatioAvg": 0.015738498789346248, "writeRatioMax": 0.015738498789346248 }, { "completedParallelInputs": "1", "computeMsAvg": "307", "computeMsMax": "307", "computeRatioAvg": 0.37167070217917675, "computeRatioMax": 0.37167070217917675, "endMs": "1665768369627", "id": "2", "name": "S02: Input", "parallelInputs": "1", "readMsAvg": "15", "readMsMax": "15", "readRatioAvg": 0.018159806295399514, "readRatioMax": 0.018159806295399514, "recordsRead": "1920800", "recordsWritten": "493920", "shuffleOutputBytes": "15640800", "shuffleOutputBytesSpilled": "0", "slotMs": "1464", "startMs": "1665768369365", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$30:cd_demo_sk, $31:cd_marital_status, $32:cd_education_status", "FROM customer_demographics", "WHERE and(or(equal($31, 'S'), equal($31, 'M'), equal($31, 'D')), ...)" ] }, { "kind": "WRITE", "substeps": [ "$30, $31, $32", "TO __stage02_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0012106537530266344, "waitRatioMax": 0.0012106537530266344, "writeMsAvg": "17", "writeMsMax": "17", "writeRatioAvg": 0.020581113801452784, "writeRatioMax": 0.020581113801452784 }, { "completedParallelInputs": "1", "computeMsAvg": "9", "computeMsMax": "9", "computeRatioAvg": 0.010895883777239709, "computeRatioMax": 0.010895883777239709, "endMs": "1665768369419", "id": "3", "name": "S03: Input", "parallelInputs": "1", "readMsAvg": "5", "readMsMax": "5", "readRatioAvg": 0.006053268765133172, "readRatioMax": 0.006053268765133172, "recordsRead": "12", "recordsWritten": "12", "shuffleOutputBytes": "108", "shuffleOutputBytesSpilled": "0", "slotMs": "35", "startMs": "1665768369378", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$20:s_store_sk", "FROM store" ] }, { "kind": "WRITE", "substeps": [ "$20", "TO __stage03_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0012106537530266344, "waitRatioMax": 0.0012106537530266344, "writeMsAvg": "18", "writeMsMax": "18", "writeRatioAvg": 0.021791767554479417, "writeRatioMax": 0.021791767554479417 }, { "completedParallelInputs": "6", "computeMsAvg": "615", "computeMsMax": "826", "computeRatioAvg": 0.7445520581113801, "computeRatioMax": 1, "endMs": "1665768370145", "id": "6", "inputStages": [ "1", "2", "3", "0" ], "name": "S06: Join+", "parallelInputs": "6", "readMsAvg": "23", "readMsMax": "31", "readRatioAvg": 0.02784503631961259, "readRatioMax": 0.03753026634382567, "recordsRead": "5911994", "recordsWritten": "6", "shuffleOutputBytes": "54", "shuffleOutputBytesSpilled": "0", "slotMs": "3179", "startMs": "1665768369679", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$40:ss_sold_date_sk, $41:ss_cdemo_sk, $42:ss_addr_sk, $43:ss_store_sk, $44:ss_quantity, $45:ss_sales_price, $46:ss_net_profit", "FROM store_sales", "WHERE and(...)" ] }, { "kind": "READ", "substeps": [ "$20", "FROM __stage03_output" ] }, { "kind": "READ", "substeps": [ "$30, $31, $32", "FROM __stage02_output" ] }, { "kind": "READ", "substeps": [ "$10, $11", "FROM __stage01_output" ] }, { "kind": "READ", "substeps": [ "$1", "FROM __stage00_output" ] }, { "kind": "AGGREGATE", "substeps": [ "$60 := SUM($120)" ] }, { "kind": "JOIN", "substeps": [ "$120 := $111", "INNER HASH JOIN EACH WITH ALL ON $110 = $1" ] }, { "kind": "FILTER", "substeps": [ "or(and(in($113, 'ND', 'NY', 'SD'), between($112, NUMERIC<...>, NUMERIC<...>)), ...)" ] }, { "kind": "JOIN", "substeps": [ "$110 := $90, $111 := $92, $112 := $94, $113 := $11", "INNER HASH JOIN EACH WITH ALL ON $91 = $10" ] }, { "kind": "FILTER", "substeps": [ "or(and(equal($95, 'S'), equal($96, 'Secondary'), between($93, NUMERIC<...>, NUMERIC<...>)), ...)" ] }, { "kind": "JOIN", "substeps": [ "$90 := $70, $91 := $72, $92 := $73, $93 := $74, $94 := $75, $95 := $31, $96 := $32", "INNER HASH JOIN EACH WITH ALL ON $71 = $30" ] }, { "kind": "JOIN", "substeps": [ "$70 := $40, $71 := $41, $72 := $42, $73 := $44, $74 := $45, $75 := $46", "INNER HASH JOIN EACH WITH ALL ON $43 = $20" ] }, { "kind": "WRITE", "substeps": [ "$60", "TO __stage06_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0012106537530266344, "waitRatioMax": 0.0012106537530266344, "writeMsAvg": "1", "writeMsMax": "2", "writeRatioAvg": 0.0012106537530266344, "writeRatioMax": 0.002421307506053269 }, { "completedParallelInputs": "1", "computeMsAvg": "7", "computeMsMax": "7", "computeRatioAvg": 0.00847457627118644, "computeRatioMax": 0.00847457627118644, "endMs": "1665768370167", "id": "7", "inputStages": [ "6" ], "name": "S07: Output", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "6", "recordsWritten": "1", "shuffleOutputBytes": "9", "shuffleOutputBytesSpilled": "0", "slotMs": "192", "startMs": "1665768369685", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$60", "FROM __stage06_output" ] }, { "kind": "AGGREGATE", "substeps": [ "$50 := SUM($60)" ] }, { "kind": "WRITE", "substeps": [ "$50", "TO __stage07_output" ] } ], "waitMsAvg": "3", "waitMsMax": "3", "waitRatioAvg": 0.0036319612590799033, "waitRatioMax": 0.0036319612590799033, "writeMsAvg": "5", "writeMsMax": "5", "writeRatioAvg": 0.006053268765133172, "writeRatioMax": 0.006053268765133172 } ], "referencedTables": [ { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "store_sales" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "customer_demographics" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "customer_address" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "date_dim" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "store" } ], "statementType": "SELECT", "timeline": [ { "activeUnits": "7", "completedUnits": "4", "elapsedMs": "603", "estimatedRunnableUnits": "0", "pendingUnits": "7", "totalSlotMs": "3505" }, { "activeUnits": "7", "completedUnits": "11", "elapsedMs": "993", "estimatedRunnableUnits": "0", "pendingUnits": "0", "totalSlotMs": "6553" } ], "totalBytesBilled": "244318208", "totalBytesProcessed": "243876781", "totalPartitionsProcessed": "0", "totalSlotMs": "6553", "transferredBytes": "0" }, "startTime": "1665768369229", "totalBytesProcessed": "243876781", "totalSlotMs": "6553" }, "status": { "state": "DONE" }, "user_email": "jesuispotatos@gmail.com" }
{ "configuration": { "jobType": "QUERY", "query": { "defaultDataset": { "datasetId": "call_center", "projectId": "test-project-364309" }, "destinationTable": { "datasetId": "_a0aa936c5cea243efb3c6dc011c66cfad39bfcb7", "projectId": "test-project-364309", "tableId": "anon0ffd2658_c45a_47f8_987a_ab53af5e3166" }, "priority": "INTERACTIVE", "query": "select sum (ss_quantity)\n from store_sales, store, customer_demographics, customer_address, date_dim\n where s_store_sk = ss_store_sk\n and ss_sold_date_sk = d_date_sk and d_year = 2001\n and \n (\n (\n cd_demo_sk = ss_cdemo_sk\n and \n cd_marital_status = 'S'\n and \n cd_education_status = 'Secondary'\n and \n ss_sales_price between 100.00 and 150.00 \n )\n or\n (\n cd_demo_sk = ss_cdemo_sk\n and \n cd_marital_status = 'M'\n and \n cd_education_status = '2 yr Degree'\n and \n ss_sales_price between 50.00 and 100.00 \n )\n or \n (\n cd_demo_sk = ss_cdemo_sk\n and \n cd_marital_status = 'D'\n and \n cd_education_status = 'Advanced Degree'\n and \n ss_sales_price between 150.00 and 200.00 \n )\n )\n and\n (\n (\n ss_addr_sk = ca_address_sk\n and\n ca_country = 'United States'\n and\n ca_state in ('ND', 'NY', 'SD')\n and ss_net_profit between 0 and 2000 \n )\n or\n (ss_addr_sk = ca_address_sk\n and\n ca_country = 'United States'\n and\n ca_state in ('MD', 'GA', 'KS')\n and ss_net_profit between 150 and 3000 \n )\n or\n (ss_addr_sk = ca_address_sk\n and\n ca_country = 'United States'\n and\n ca_state in ('CO', 'MN', 'NC')\n and ss_net_profit between 50 and 25000 \n )\n )\n;\n", "useLegacySql": false, "useQueryCache": false, "writeDisposition": "WRITE_TRUNCATE" } }, "etag": "cIVoyUTo7lBw9upB6tn7mQ==", "id": "test-project-364309:europe-west1.query48_1665777689", "jobReference": { "jobId": "query48_1665777689", "location": "europe-west1", "projectId": "test-project-364309" }, "kind": "bigquery#job", "principal_subject": "user:jesuispotatos@gmail.com", "selfLink": "https://bigquery.googleapis.com/bigquery/v2/projects/test-project-364309/jobs/query48_1665777689?location=europe-west1", "statistics": { "creationTime": "1665777690554", "endTime": "1665777691673", "finalExecutionDurationMs": "916", "query": { "billingTier": 1, "cacheHit": false, "estimatedBytesProcessed": "243876781", "performanceInsights": { "avgPreviousExecutionMs": "890" }, "queryPlan": [ { "completedParallelInputs": "1", "computeMsAvg": "13", "computeMsMax": "13", "computeRatioAvg": 0.015834348355663823, "computeRatioMax": 0.015834348355663823, "endMs": "1665777690744", "id": "0", "name": "S00: Input", "parallelInputs": "1", "readMsAvg": "6", "readMsMax": "6", "readRatioAvg": 0.007308160779537149, "readRatioMax": 0.007308160779537149, "recordsRead": "73049", "recordsWritten": "365", "shuffleOutputBytes": "3285", "shuffleOutputBytesSpilled": "0", "slotMs": "38", "startMs": "1665777690706", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$1:d_date_sk, $2:d_year", "FROM date_dim", "WHERE equal($2, 2001)" ] }, { "kind": "WRITE", "substeps": [ "$1", "TO __stage00_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.001218026796589525, "waitRatioMax": 0.001218026796589525, "writeMsAvg": "11", "writeMsMax": "11", "writeRatioAvg": 0.013398294762484775, "writeRatioMax": 0.013398294762484775 }, { "completedParallelInputs": "1", "computeMsAvg": "21", "computeMsMax": "21", "computeRatioAvg": 0.025578562728380026, "computeRatioMax": 0.025578562728380026, "endMs": "1665777690767", "id": "1", "name": "S01: Input", "parallelInputs": "1", "readMsAvg": "7", "readMsMax": "7", "readRatioAvg": 0.008526187576126675, "readRatioMax": 0.008526187576126675, "recordsRead": "50000", "recordsWritten": "10968", "shuffleOutputBytes": "175488", "shuffleOutputBytesSpilled": "0", "slotMs": "46", "startMs": "1665777690723", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$10:ca_address_sk, $11:ca_state, $12:ca_country", "FROM customer_address", "WHERE and(equal($12, 'United States'), or(in($11, 'ND', 'NY', 'SD'), in($11, 'MD', 'GA', 'KS'), in($11, 'CO', 'MN', 'NC')))" ] }, { "kind": "WRITE", "substeps": [ "$10, $11", "TO __stage01_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.001218026796589525, "waitRatioMax": 0.001218026796589525, "writeMsAvg": "12", "writeMsMax": "12", "writeRatioAvg": 0.014616321559074299, "writeRatioMax": 0.014616321559074299 }, { "completedParallelInputs": "1", "computeMsAvg": "317", "computeMsMax": "317", "computeRatioAvg": 0.3861144945188794, "computeRatioMax": 0.3861144945188794, "endMs": "1665777690955", "id": "2", "name": "S02: Input", "parallelInputs": "1", "readMsAvg": "13", "readMsMax": "13", "readRatioAvg": 0.015834348355663823, "readRatioMax": 0.015834348355663823, "recordsRead": "1920800", "recordsWritten": "493920", "shuffleOutputBytes": "15640800", "shuffleOutputBytesSpilled": "0", "slotMs": "282", "startMs": "1665777690739", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$30:cd_demo_sk, $31:cd_marital_status, $32:cd_education_status", "FROM customer_demographics", "WHERE and(or(equal($31, 'S'), equal($31, 'M'), equal($31, 'D')), ...)" ] }, { "kind": "WRITE", "substeps": [ "$30, $31, $32", "TO __stage02_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.001218026796589525, "waitRatioMax": 0.001218026796589525, "writeMsAvg": "17", "writeMsMax": "17", "writeRatioAvg": 0.020706455542021926, "writeRatioMax": 0.020706455542021926 }, { "completedParallelInputs": "1", "computeMsAvg": "6", "computeMsMax": "6", "computeRatioAvg": 0.007308160779537149, "computeRatioMax": 0.007308160779537149, "endMs": "1665777690795", "id": "3", "name": "S03: Input", "parallelInputs": "1", "readMsAvg": "4", "readMsMax": "4", "readRatioAvg": 0.0048721071863581, "readRatioMax": 0.0048721071863581, "recordsRead": "12", "recordsWritten": "12", "shuffleOutputBytes": "108", "shuffleOutputBytesSpilled": "0", "slotMs": "35", "startMs": "1665777690754", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$20:s_store_sk", "FROM store" ] }, { "kind": "WRITE", "substeps": [ "$20", "TO __stage03_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.001218026796589525, "waitRatioMax": 0.001218026796589525, "writeMsAvg": "20", "writeMsMax": "20", "writeRatioAvg": 0.024360535931790498, "writeRatioMax": 0.024360535931790498 }, { "completedParallelInputs": "6", "computeMsAvg": "685", "computeMsMax": "821", "computeRatioAvg": 0.8343483556638246, "computeRatioMax": 1, "endMs": "1665777691499", "id": "6", "inputStages": [ "2", "1", "3", "0" ], "name": "S06: Join+", "parallelInputs": "6", "readMsAvg": "25", "readMsMax": "34", "readRatioAvg": 0.030450669914738125, "readRatioMax": 0.04141291108404385, "recordsRead": "5911994", "recordsWritten": "6", "shuffleOutputBytes": "54", "shuffleOutputBytesSpilled": "0", "slotMs": "3550", "startMs": "1665777690973", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$40:ss_sold_date_sk, $41:ss_cdemo_sk, $42:ss_addr_sk, $43:ss_store_sk, $44:ss_quantity, $45:ss_sales_price, $46:ss_net_profit", "FROM store_sales", "WHERE and(...)" ] }, { "kind": "READ", "substeps": [ "$20", "FROM __stage03_output" ] }, { "kind": "READ", "substeps": [ "$30, $31, $32", "FROM __stage02_output" ] }, { "kind": "READ", "substeps": [ "$10, $11", "FROM __stage01_output" ] }, { "kind": "READ", "substeps": [ "$1", "FROM __stage00_output" ] }, { "kind": "AGGREGATE", "substeps": [ "$60 := SUM($120)" ] }, { "kind": "JOIN", "substeps": [ "$120 := $111", "INNER HASH JOIN EACH WITH ALL ON $110 = $1" ] }, { "kind": "FILTER", "substeps": [ "or(and(in($113, 'ND', 'NY', 'SD'), between($112, NUMERIC<...>, NUMERIC<...>)), ...)" ] }, { "kind": "JOIN", "substeps": [ "$110 := $90, $111 := $92, $112 := $94, $113 := $11", "INNER HASH JOIN EACH WITH ALL ON $91 = $10" ] }, { "kind": "FILTER", "substeps": [ "or(and(equal($95, 'S'), equal($96, 'Secondary'), between($93, NUMERIC<...>, NUMERIC<...>)), ...)" ] }, { "kind": "JOIN", "substeps": [ "$90 := $70, $91 := $72, $92 := $73, $93 := $74, $94 := $75, $95 := $31, $96 := $32", "INNER HASH JOIN EACH WITH ALL ON $71 = $30" ] }, { "kind": "JOIN", "substeps": [ "$70 := $40, $71 := $41, $72 := $42, $73 := $44, $74 := $45, $75 := $46", "INNER HASH JOIN EACH WITH ALL ON $43 = $20" ] }, { "kind": "WRITE", "substeps": [ "$60", "TO __stage06_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.001218026796589525, "waitRatioMax": 0.001218026796589525, "writeMsAvg": "1", "writeMsMax": "2", "writeRatioAvg": 0.001218026796589525, "writeRatioMax": 0.00243605359317905 }, { "completedParallelInputs": "1", "computeMsAvg": "11", "computeMsMax": "11", "computeRatioAvg": 0.013398294762484775, "computeRatioMax": 0.013398294762484775, "endMs": "1665777691519", "id": "7", "inputStages": [ "6" ], "name": "S07: Output", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "6", "recordsWritten": "1", "shuffleOutputBytes": "9", "shuffleOutputBytesSpilled": "0", "slotMs": "373", "startMs": "1665777690978", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$60", "FROM __stage06_output" ] }, { "kind": "AGGREGATE", "substeps": [ "$50 := SUM($60)" ] }, { "kind": "WRITE", "substeps": [ "$50", "TO __stage07_output" ] } ], "waitMsAvg": "4", "waitMsMax": "4", "waitRatioAvg": 0.0048721071863581, "waitRatioMax": 0.0048721071863581, "writeMsAvg": "4", "writeMsMax": "4", "writeRatioAvg": 0.0048721071863581, "writeRatioMax": 0.0048721071863581 } ], "referencedTables": [ { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "store_sales" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "customer_demographics" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "customer_address" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "date_dim" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "store" } ], "statementType": "SELECT", "timeline": [ { "activeUnits": "7", "completedUnits": "4", "elapsedMs": "602", "estimatedRunnableUnits": "0", "pendingUnits": "7", "totalSlotMs": "1515" }, { "activeUnits": "7", "completedUnits": "11", "elapsedMs": "1019", "estimatedRunnableUnits": "0", "pendingUnits": "0", "totalSlotMs": "4569" } ], "totalBytesBilled": "244318208", "totalBytesProcessed": "243876781", "totalPartitionsProcessed": "0", "totalSlotMs": "4569", "transferredBytes": "0" }, "startTime": "1665777690605", "totalBytesProcessed": "243876781", "totalSlotMs": "4569" }, "status": { "state": "DONE" }, "user_email": "jesuispotatos@gmail.com" }
{ "configuration": { "jobType": "QUERY", "query": { "defaultDataset": { "datasetId": "call_center", "projectId": "test-project-364309" }, "destinationTable": { "datasetId": "_a0aa936c5cea243efb3c6dc011c66cfad39bfcb7", "projectId": "test-project-364309", "tableId": "anon57ac7354_167e_463e_83da_8c8ea281a123" }, "priority": "INTERACTIVE", "query": "select sum (ss_quantity)\n from store_sales, store, customer_demographics, customer_address, date_dim\n where s_store_sk = ss_store_sk\n and ss_sold_date_sk = d_date_sk and d_year = 2001\n and \n (\n (\n cd_demo_sk = ss_cdemo_sk\n and \n cd_marital_status = 'S'\n and \n cd_education_status = 'Secondary'\n and \n ss_sales_price between 100.00 and 150.00 \n )\n or\n (\n cd_demo_sk = ss_cdemo_sk\n and \n cd_marital_status = 'M'\n and \n cd_education_status = '2 yr Degree'\n and \n ss_sales_price between 50.00 and 100.00 \n )\n or \n (\n cd_demo_sk = ss_cdemo_sk\n and \n cd_marital_status = 'D'\n and \n cd_education_status = 'Advanced Degree'\n and \n ss_sales_price between 150.00 and 200.00 \n )\n )\n and\n (\n (\n ss_addr_sk = ca_address_sk\n and\n ca_country = 'United States'\n and\n ca_state in ('ND', 'NY', 'SD')\n and ss_net_profit between 0 and 2000 \n )\n or\n (ss_addr_sk = ca_address_sk\n and\n ca_country = 'United States'\n and\n ca_state in ('MD', 'GA', 'KS')\n and ss_net_profit between 150 and 3000 \n )\n or\n (ss_addr_sk = ca_address_sk\n and\n ca_country = 'United States'\n and\n ca_state in ('CO', 'MN', 'NC')\n and ss_net_profit between 50 and 25000 \n )\n )\n;\n", "useLegacySql": false, "useQueryCache": false, "writeDisposition": "WRITE_TRUNCATE" } }, "etag": "LAu7jKo5gUiYGHAtjrPjwA==", "id": "test-project-364309:europe-west1.query48_1665777692", "jobReference": { "jobId": "query48_1665777692", "location": "europe-west1", "projectId": "test-project-364309" }, "kind": "bigquery#job", "principal_subject": "user:jesuispotatos@gmail.com", "selfLink": "https://bigquery.googleapis.com/bigquery/v2/projects/test-project-364309/jobs/query48_1665777692?location=europe-west1", "statistics": { "creationTime": "1665777693216", "endTime": "1665777694432", "finalExecutionDurationMs": "1033", "query": { "billingTier": 1, "cacheHit": false, "estimatedBytesProcessed": "243876781", "performanceInsights": { "avgPreviousExecutionMs": "894" }, "queryPlan": [ { "completedParallelInputs": "1", "computeMsAvg": "12", "computeMsMax": "12", "computeRatioAvg": 0.012182741116751269, "computeRatioMax": 0.012182741116751269, "endMs": "1665777693405", "id": "0", "name": "S00: Input", "parallelInputs": "1", "readMsAvg": "7", "readMsMax": "7", "readRatioAvg": 0.007106598984771574, "readRatioMax": 0.007106598984771574, "recordsRead": "73049", "recordsWritten": "365", "shuffleOutputBytes": "3285", "shuffleOutputBytesSpilled": "0", "slotMs": "38", "startMs": "1665777693361", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$1:d_date_sk, $2:d_year", "FROM date_dim", "WHERE equal($2, 2001)" ] }, { "kind": "WRITE", "substeps": [ "$1", "TO __stage00_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0010152284263959391, "waitRatioMax": 0.0010152284263959391, "writeMsAvg": "17", "writeMsMax": "17", "writeRatioAvg": 0.017258883248730966, "writeRatioMax": 0.017258883248730966 }, { "completedParallelInputs": "1", "computeMsAvg": "13", "computeMsMax": "13", "computeRatioAvg": 0.013197969543147208, "computeRatioMax": 0.013197969543147208, "endMs": "1665777693416", "id": "1", "name": "S01: Input", "parallelInputs": "1", "readMsAvg": "5", "readMsMax": "5", "readRatioAvg": 0.005076142131979695, "readRatioMax": 0.005076142131979695, "recordsRead": "50000", "recordsWritten": "10968", "shuffleOutputBytes": "175488", "shuffleOutputBytesSpilled": "0", "slotMs": "38", "startMs": "1665777693376", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$10:ca_address_sk, $11:ca_state, $12:ca_country", "FROM customer_address", "WHERE and(equal($12, 'United States'), or(in($11, 'ND', 'NY', 'SD'), in($11, 'MD', 'GA', 'KS'), in($11, 'CO', 'MN', 'NC')))" ] }, { "kind": "WRITE", "substeps": [ "$10, $11", "TO __stage01_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0010152284263959391, "waitRatioMax": 0.0010152284263959391, "writeMsAvg": "14", "writeMsMax": "14", "writeRatioAvg": 0.014213197969543147, "writeRatioMax": 0.014213197969543147 }, { "completedParallelInputs": "1", "computeMsAvg": "349", "computeMsMax": "349", "computeRatioAvg": 0.35431472081218274, "computeRatioMax": 0.35431472081218274, "endMs": "1665777693652", "id": "2", "name": "S02: Input", "parallelInputs": "1", "readMsAvg": "12", "readMsMax": "12", "readRatioAvg": 0.012182741116751269, "readRatioMax": 0.012182741116751269, "recordsRead": "1920800", "recordsWritten": "493920", "shuffleOutputBytes": "15640800", "shuffleOutputBytesSpilled": "0", "slotMs": "327", "startMs": "1665777693394", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$30:cd_demo_sk, $31:cd_marital_status, $32:cd_education_status", "FROM customer_demographics", "WHERE and(or(equal($31, 'S'), equal($31, 'M'), equal($31, 'D')), ...)" ] }, { "kind": "WRITE", "substeps": [ "$30, $31, $32", "TO __stage02_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0010152284263959391, "waitRatioMax": 0.0010152284263959391, "writeMsAvg": "17", "writeMsMax": "17", "writeRatioAvg": 0.017258883248730966, "writeRatioMax": 0.017258883248730966 }, { "completedParallelInputs": "1", "computeMsAvg": "8", "computeMsMax": "8", "computeRatioAvg": 0.008121827411167513, "computeRatioMax": 0.008121827411167513, "endMs": "1665777693445", "id": "3", "name": "S03: Input", "parallelInputs": "1", "readMsAvg": "4", "readMsMax": "4", "readRatioAvg": 0.0040609137055837565, "readRatioMax": 0.0040609137055837565, "recordsRead": "12", "recordsWritten": "12", "shuffleOutputBytes": "108", "shuffleOutputBytesSpilled": "0", "slotMs": "31", "startMs": "1665777693407", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$20:s_store_sk", "FROM store" ] }, { "kind": "WRITE", "substeps": [ "$20", "TO __stage03_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0010152284263959391, "waitRatioMax": 0.0010152284263959391, "writeMsAvg": "17", "writeMsMax": "17", "writeRatioAvg": 0.017258883248730966, "writeRatioMax": 0.017258883248730966 }, { "completedParallelInputs": "6", "computeMsAvg": "795", "computeMsMax": "985", "computeRatioAvg": 0.8071065989847716, "computeRatioMax": 1, "endMs": "1665777694277", "id": "6", "inputStages": [ "2", "3", "1", "0" ], "name": "S06: Join+", "parallelInputs": "6", "readMsAvg": "34", "readMsMax": "40", "readRatioAvg": 0.03451776649746193, "readRatioMax": 0.04060913705583756, "recordsRead": "5911994", "recordsWritten": "6", "shuffleOutputBytes": "54", "shuffleOutputBytesSpilled": "0", "slotMs": "4341", "startMs": "1665777693721", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$40:ss_sold_date_sk, $41:ss_cdemo_sk, $42:ss_addr_sk, $43:ss_store_sk, $44:ss_quantity, $45:ss_sales_price, $46:ss_net_profit", "FROM store_sales", "WHERE and(...)" ] }, { "kind": "READ", "substeps": [ "$20", "FROM __stage03_output" ] }, { "kind": "READ", "substeps": [ "$30, $31, $32", "FROM __stage02_output" ] }, { "kind": "READ", "substeps": [ "$10, $11", "FROM __stage01_output" ] }, { "kind": "READ", "substeps": [ "$1", "FROM __stage00_output" ] }, { "kind": "AGGREGATE", "substeps": [ "$60 := SUM($120)" ] }, { "kind": "JOIN", "substeps": [ "$120 := $111", "INNER HASH JOIN EACH WITH ALL ON $110 = $1" ] }, { "kind": "FILTER", "substeps": [ "or(and(in($113, 'ND', 'NY', 'SD'), between($112, NUMERIC<...>, NUMERIC<...>)), ...)" ] }, { "kind": "JOIN", "substeps": [ "$110 := $90, $111 := $92, $112 := $94, $113 := $11", "INNER HASH JOIN EACH WITH ALL ON $91 = $10" ] }, { "kind": "FILTER", "substeps": [ "or(and(equal($95, 'S'), equal($96, 'Secondary'), between($93, NUMERIC<...>, NUMERIC<...>)), ...)" ] }, { "kind": "JOIN", "substeps": [ "$90 := $70, $91 := $72, $92 := $73, $93 := $74, $94 := $75, $95 := $31, $96 := $32", "INNER HASH JOIN EACH WITH ALL ON $71 = $30" ] }, { "kind": "JOIN", "substeps": [ "$70 := $40, $71 := $41, $72 := $42, $73 := $44, $74 := $45, $75 := $46", "INNER HASH JOIN EACH WITH ALL ON $43 = $20" ] }, { "kind": "WRITE", "substeps": [ "$60", "TO __stage06_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0010152284263959391, "waitRatioMax": 0.0010152284263959391, "writeMsAvg": "2", "writeMsMax": "3", "writeRatioAvg": 0.0020304568527918783, "writeRatioMax": 0.003045685279187817 }, { "completedParallelInputs": "1", "computeMsAvg": "10", "computeMsMax": "10", "computeRatioAvg": 0.01015228426395939, "computeRatioMax": 0.01015228426395939, "endMs": "1665777694282", "id": "7", "inputStages": [ "6" ], "name": "S07: Output", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "6", "recordsWritten": "1", "shuffleOutputBytes": "9", "shuffleOutputBytesSpilled": "0", "slotMs": "168", "startMs": "1665777693725", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$60", "FROM __stage06_output" ] }, { "kind": "AGGREGATE", "substeps": [ "$50 := SUM($60)" ] }, { "kind": "WRITE", "substeps": [ "$50", "TO __stage07_output" ] } ], "waitMsAvg": "4", "waitMsMax": "4", "waitRatioAvg": 0.0040609137055837565, "waitRatioMax": 0.0040609137055837565, "writeMsAvg": "5", "writeMsMax": "5", "writeRatioAvg": 0.005076142131979695, "writeRatioMax": 0.005076142131979695 } ], "referencedTables": [ { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "store" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "store_sales" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "customer_demographics" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "date_dim" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "customer_address" } ], "statementType": "SELECT", "timeline": [ { "activeUnits": "7", "completedUnits": "4", "elapsedMs": "595", "estimatedRunnableUnits": "0", "pendingUnits": "7", "totalSlotMs": "2032" }, { "activeUnits": "7", "completedUnits": "11", "elapsedMs": "1120", "estimatedRunnableUnits": "0", "pendingUnits": "0", "totalSlotMs": "6352" } ], "totalBytesBilled": "244318208", "totalBytesProcessed": "243876781", "totalPartitionsProcessed": "0", "totalSlotMs": "6352", "transferredBytes": "0" }, "startTime": "1665777693267", "totalBytesProcessed": "243876781", "totalSlotMs": "6352" }, "status": { "state": "DONE" }, "user_email": "jesuispotatos@gmail.com" }
{ "configuration": { "jobType": "QUERY", "query": { "defaultDataset": { "datasetId": "call_center", "projectId": "test-project-364309" }, "destinationTable": { "datasetId": "_a0aa936c5cea243efb3c6dc011c66cfad39bfcb7", "projectId": "test-project-364309", "tableId": "anon62873ec5_13f3_4ddb_9bb6_385c618fcf39" }, "priority": "INTERACTIVE", "query": "select sum (ss_quantity)\n from store_sales, store, customer_demographics, customer_address, date_dim\n where s_store_sk = ss_store_sk\n and ss_sold_date_sk = d_date_sk and d_year = 2001\n and \n (\n (\n cd_demo_sk = ss_cdemo_sk\n and \n cd_marital_status = 'S'\n and \n cd_education_status = 'Secondary'\n and \n ss_sales_price between 100.00 and 150.00 \n )\n or\n (\n cd_demo_sk = ss_cdemo_sk\n and \n cd_marital_status = 'M'\n and \n cd_education_status = '2 yr Degree'\n and \n ss_sales_price between 50.00 and 100.00 \n )\n or \n (\n cd_demo_sk = ss_cdemo_sk\n and \n cd_marital_status = 'D'\n and \n cd_education_status = 'Advanced Degree'\n and \n ss_sales_price between 150.00 and 200.00 \n )\n )\n and\n (\n (\n ss_addr_sk = ca_address_sk\n and\n ca_country = 'United States'\n and\n ca_state in ('ND', 'NY', 'SD')\n and ss_net_profit between 0 and 2000 \n )\n or\n (ss_addr_sk = ca_address_sk\n and\n ca_country = 'United States'\n and\n ca_state in ('MD', 'GA', 'KS')\n and ss_net_profit between 150 and 3000 \n )\n or\n (ss_addr_sk = ca_address_sk\n and\n ca_country = 'United States'\n and\n ca_state in ('CO', 'MN', 'NC')\n and ss_net_profit between 50 and 25000 \n )\n )\n;\n", "useLegacySql": false, "useQueryCache": false, "writeDisposition": "WRITE_TRUNCATE" } }, "etag": "D67b3xu4Z7P23oYfK5kkzw==", "id": "test-project-364309:europe-west1.query48_1665777695", "jobReference": { "jobId": "query48_1665777695", "location": "europe-west1", "projectId": "test-project-364309" }, "kind": "bigquery#job", "principal_subject": "user:jesuispotatos@gmail.com", "selfLink": "https://bigquery.googleapis.com/bigquery/v2/projects/test-project-364309/jobs/query48_1665777695?location=europe-west1", "statistics": { "creationTime": "1665777696357", "endTime": "1665777697718", "finalExecutionDurationMs": "1121", "query": { "billingTier": 1, "cacheHit": false, "estimatedBytesProcessed": "243876781", "performanceInsights": { "avgPreviousExecutionMs": "911" }, "queryPlan": [ { "completedParallelInputs": "1", "computeMsAvg": "7", "computeMsMax": "7", "computeRatioAvg": 0.006692160611854685, "computeRatioMax": 0.006692160611854685, "endMs": "1665777696587", "id": "0", "name": "S00: Input", "parallelInputs": "1", "readMsAvg": "5", "readMsMax": "5", "readRatioAvg": 0.004780114722753346, "readRatioMax": 0.004780114722753346, "recordsRead": "73049", "recordsWritten": "365", "shuffleOutputBytes": "3285", "shuffleOutputBytesSpilled": "0", "slotMs": "33", "startMs": "1665777696546", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$1:d_date_sk, $2:d_year", "FROM date_dim", "WHERE equal($2, 2001)" ] }, { "kind": "WRITE", "substeps": [ "$1", "TO __stage00_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0009560229445506692, "waitRatioMax": 0.0009560229445506692, "writeMsAvg": "17", "writeMsMax": "17", "writeRatioAvg": 0.016252390057361378, "writeRatioMax": 0.016252390057361378 }, { "completedParallelInputs": "1", "computeMsAvg": "20", "computeMsMax": "20", "computeRatioAvg": 0.019120458891013385, "computeRatioMax": 0.019120458891013385, "endMs": "1665777696604", "id": "1", "name": "S01: Input", "parallelInputs": "1", "readMsAvg": "7", "readMsMax": "7", "readRatioAvg": 0.006692160611854685, "readRatioMax": 0.006692160611854685, "recordsRead": "50000", "recordsWritten": "10968", "shuffleOutputBytes": "175488", "shuffleOutputBytesSpilled": "0", "slotMs": "41", "startMs": "1665777696564", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$10:ca_address_sk, $11:ca_state, $12:ca_country", "FROM customer_address", "WHERE and(equal($12, 'United States'), or(in($11, 'ND', 'NY', 'SD'), in($11, 'MD', 'GA', 'KS'), in($11, 'CO', 'MN', 'NC')))" ] }, { "kind": "WRITE", "substeps": [ "$10, $11", "TO __stage01_output" ] } ], "waitMsAvg": "2", "waitMsMax": "2", "waitRatioAvg": 0.0019120458891013384, "waitRatioMax": 0.0019120458891013384, "writeMsAvg": "8", "writeMsMax": "8", "writeRatioAvg": 0.0076481835564053535, "writeRatioMax": 0.0076481835564053535 }, { "completedParallelInputs": "1", "computeMsAvg": "298", "computeMsMax": "298", "computeRatioAvg": 0.28489483747609945, "computeRatioMax": 0.28489483747609945, "endMs": "1665777696785", "id": "2", "name": "S02: Input", "parallelInputs": "1", "readMsAvg": "17", "readMsMax": "17", "readRatioAvg": 0.016252390057361378, "readRatioMax": 0.016252390057361378, "recordsRead": "1920800", "recordsWritten": "493920", "shuffleOutputBytes": "15640800", "shuffleOutputBytesSpilled": "0", "slotMs": "280", "startMs": "1665777696581", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$30:cd_demo_sk, $31:cd_marital_status, $32:cd_education_status", "FROM customer_demographics", "WHERE and(or(equal($31, 'S'), equal($31, 'M'), equal($31, 'D')), ...)" ] }, { "kind": "WRITE", "substeps": [ "$30, $31, $32", "TO __stage02_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0009560229445506692, "waitRatioMax": 0.0009560229445506692, "writeMsAvg": "13", "writeMsMax": "13", "writeRatioAvg": 0.0124282982791587, "writeRatioMax": 0.0124282982791587 }, { "completedParallelInputs": "1", "computeMsAvg": "7", "computeMsMax": "7", "computeRatioAvg": 0.006692160611854685, "computeRatioMax": 0.006692160611854685, "endMs": "1665777696638", "id": "3", "name": "S03: Input", "parallelInputs": "1", "readMsAvg": "3", "readMsMax": "3", "readRatioAvg": 0.0028680688336520078, "readRatioMax": 0.0028680688336520078, "recordsRead": "12", "recordsWritten": "12", "shuffleOutputBytes": "108", "shuffleOutputBytesSpilled": "0", "slotMs": "36", "startMs": "1665777696598", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$20:s_store_sk", "FROM store" ] }, { "kind": "WRITE", "substeps": [ "$20", "TO __stage03_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0009560229445506692, "waitRatioMax": 0.0009560229445506692, "writeMsAvg": "18", "writeMsMax": "18", "writeRatioAvg": 0.017208413001912046, "writeRatioMax": 0.017208413001912046 }, { "completedParallelInputs": "6", "computeMsAvg": "812", "computeMsMax": "1046", "computeRatioAvg": 0.7762906309751434, "computeRatioMax": 1, "endMs": "1665777697541", "id": "6", "inputStages": [ "0", "2", "3", "1" ], "name": "S06: Join+", "parallelInputs": "6", "readMsAvg": "26", "readMsMax": "31", "readRatioAvg": 0.0248565965583174, "readRatioMax": 0.029636711281070746, "recordsRead": "5911994", "recordsWritten": "6", "shuffleOutputBytes": "54", "shuffleOutputBytesSpilled": "0", "slotMs": "4417", "startMs": "1665777696832", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$40:ss_sold_date_sk, $41:ss_cdemo_sk, $42:ss_addr_sk, $43:ss_store_sk, $44:ss_quantity, $45:ss_sales_price, $46:ss_net_profit", "FROM store_sales", "WHERE and(...)" ] }, { "kind": "READ", "substeps": [ "$20", "FROM __stage03_output" ] }, { "kind": "READ", "substeps": [ "$30, $31, $32", "FROM __stage02_output" ] }, { "kind": "READ", "substeps": [ "$10, $11", "FROM __stage01_output" ] }, { "kind": "READ", "substeps": [ "$1", "FROM __stage00_output" ] }, { "kind": "AGGREGATE", "substeps": [ "$60 := SUM($120)" ] }, { "kind": "JOIN", "substeps": [ "$120 := $111", "INNER HASH JOIN EACH WITH ALL ON $110 = $1" ] }, { "kind": "FILTER", "substeps": [ "or(and(in($113, 'ND', 'NY', 'SD'), between($112, NUMERIC<...>, NUMERIC<...>)), ...)" ] }, { "kind": "JOIN", "substeps": [ "$110 := $90, $111 := $92, $112 := $94, $113 := $11", "INNER HASH JOIN EACH WITH ALL ON $91 = $10" ] }, { "kind": "FILTER", "substeps": [ "or(and(equal($95, 'S'), equal($96, 'Secondary'), between($93, NUMERIC<...>, NUMERIC<...>)), ...)" ] }, { "kind": "JOIN", "substeps": [ "$90 := $70, $91 := $72, $92 := $73, $93 := $74, $94 := $75, $95 := $31, $96 := $32", "INNER HASH JOIN EACH WITH ALL ON $71 = $30" ] }, { "kind": "JOIN", "substeps": [ "$70 := $40, $71 := $41, $72 := $42, $73 := $44, $74 := $45, $75 := $46", "INNER HASH JOIN EACH WITH ALL ON $43 = $20" ] }, { "kind": "WRITE", "substeps": [ "$60", "TO __stage06_output" ] } ], "waitMsAvg": "1", "waitMsMax": "2", "waitRatioAvg": 0.0009560229445506692, "waitRatioMax": 0.0019120458891013384, "writeMsAvg": "1", "writeMsMax": "2", "writeRatioAvg": 0.0009560229445506692, "writeRatioMax": 0.0019120458891013384 }, { "completedParallelInputs": "1", "computeMsAvg": "8", "computeMsMax": "8", "computeRatioAvg": 0.0076481835564053535, "computeRatioMax": 0.0076481835564053535, "endMs": "1665777697565", "id": "7", "inputStages": [ "6" ], "name": "S07: Output", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "6", "recordsWritten": "1", "shuffleOutputBytes": "9", "shuffleOutputBytesSpilled": "0", "slotMs": "325", "startMs": "1665777696836", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$60", "FROM __stage06_output" ] }, { "kind": "AGGREGATE", "substeps": [ "$50 := SUM($60)" ] }, { "kind": "WRITE", "substeps": [ "$50", "TO __stage07_output" ] } ], "waitMsAvg": "4", "waitMsMax": "4", "waitRatioAvg": 0.0038240917782026767, "waitRatioMax": 0.0038240917782026767, "writeMsAvg": "5", "writeMsMax": "5", "writeRatioAvg": 0.004780114722753346, "writeRatioMax": 0.004780114722753346 } ], "referencedTables": [ { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "store_sales" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "customer_demographics" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "date_dim" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "customer_address" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "store" } ], "statementType": "SELECT", "timeline": [ { "activeUnits": "7", "completedUnits": "4", "elapsedMs": "631", "estimatedRunnableUnits": "0", "pendingUnits": "7", "totalSlotMs": "1263" }, { "activeUnits": "7", "completedUnits": "11", "elapsedMs": "1248", "estimatedRunnableUnits": "0", "pendingUnits": "0", "totalSlotMs": "5687" } ], "totalBytesBilled": "244318208", "totalBytesProcessed": "243876781", "totalPartitionsProcessed": "0", "totalSlotMs": "5687", "transferredBytes": "0" }, "startTime": "1665777696416", "totalBytesProcessed": "243876781", "totalSlotMs": "5687" }, "status": { "state": "DONE" }, "user_email": "jesuispotatos@gmail.com" }
{ "configuration": { "jobType": "QUERY", "query": { "defaultDataset": { "datasetId": "call_center", "projectId": "test-project-364309" }, "destinationTable": { "datasetId": "_a0aa936c5cea243efb3c6dc011c66cfad39bfcb7", "projectId": "test-project-364309", "tableId": "anonab1eb3b7_7c66_41b0_91ed_69a862778326" }, "priority": "INTERACTIVE", "query": "select sum (ss_quantity)\n from store_sales, store, customer_demographics, customer_address, date_dim\n where s_store_sk = ss_store_sk\n and ss_sold_date_sk = d_date_sk and d_year = 2001\n and \n (\n (\n cd_demo_sk = ss_cdemo_sk\n and \n cd_marital_status = 'S'\n and \n cd_education_status = 'Secondary'\n and \n ss_sales_price between 100.00 and 150.00 \n )\n or\n (\n cd_demo_sk = ss_cdemo_sk\n and \n cd_marital_status = 'M'\n and \n cd_education_status = '2 yr Degree'\n and \n ss_sales_price between 50.00 and 100.00 \n )\n or \n (\n cd_demo_sk = ss_cdemo_sk\n and \n cd_marital_status = 'D'\n and \n cd_education_status = 'Advanced Degree'\n and \n ss_sales_price between 150.00 and 200.00 \n )\n )\n and\n (\n (\n ss_addr_sk = ca_address_sk\n and\n ca_country = 'United States'\n and\n ca_state in ('ND', 'NY', 'SD')\n and ss_net_profit between 0 and 2000 \n )\n or\n (ss_addr_sk = ca_address_sk\n and\n ca_country = 'United States'\n and\n ca_state in ('MD', 'GA', 'KS')\n and ss_net_profit between 150 and 3000 \n )\n or\n (ss_addr_sk = ca_address_sk\n and\n ca_country = 'United States'\n and\n ca_state in ('CO', 'MN', 'NC')\n and ss_net_profit between 50 and 25000 \n )\n )\n;\n", "useLegacySql": false, "useQueryCache": false, "writeDisposition": "WRITE_TRUNCATE" } }, "etag": "f8PotipCKvdue/3byajX1Q==", "id": "test-project-364309:europe-west1.query48_1665777699", "jobReference": { "jobId": "query48_1665777699", "location": "europe-west1", "projectId": "test-project-364309" }, "kind": "bigquery#job", "principal_subject": "user:jesuispotatos@gmail.com", "selfLink": "https://bigquery.googleapis.com/bigquery/v2/projects/test-project-364309/jobs/query48_1665777699?location=europe-west1", "statistics": { "creationTime": "1665777700295", "endTime": "1665777701282", "finalExecutionDurationMs": "768", "query": { "billingTier": 1, "cacheHit": false, "estimatedBytesProcessed": "243876781", "performanceInsights": { "avgPreviousExecutionMs": "935" }, "queryPlan": [ { "completedParallelInputs": "1", "computeMsAvg": "11", "computeMsMax": "11", "computeRatioAvg": 0.011494252873563218, "computeRatioMax": 0.011494252873563218, "endMs": "1665777700506", "id": "0", "name": "S00: Input", "parallelInputs": "1", "readMsAvg": "7", "readMsMax": "7", "readRatioAvg": 0.0073145245559038665, "readRatioMax": 0.0073145245559038665, "recordsRead": "73049", "recordsWritten": "365", "shuffleOutputBytes": "3285", "shuffleOutputBytesSpilled": "0", "slotMs": "40", "startMs": "1665777700462", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$1:d_date_sk, $2:d_year", "FROM date_dim", "WHERE equal($2, 2001)" ] }, { "kind": "WRITE", "substeps": [ "$1", "TO __stage00_output" ] } ], "waitMsAvg": "2", "waitMsMax": "2", "waitRatioAvg": 0.0020898641588296763, "waitRatioMax": 0.0020898641588296763, "writeMsAvg": "17", "writeMsMax": "17", "writeRatioAvg": 0.017763845350052248, "writeRatioMax": 0.017763845350052248 }, { "completedParallelInputs": "1", "computeMsAvg": "13", "computeMsMax": "13", "computeRatioAvg": 0.013584117032392894, "computeRatioMax": 0.013584117032392894, "endMs": "1665777700521", "id": "1", "name": "S01: Input", "parallelInputs": "1", "readMsAvg": "6", "readMsMax": "6", "readRatioAvg": 0.006269592476489028, "readRatioMax": 0.006269592476489028, "recordsRead": "50000", "recordsWritten": "10968", "shuffleOutputBytes": "175488", "shuffleOutputBytesSpilled": "0", "slotMs": "39", "startMs": "1665777700480", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$10:ca_address_sk, $11:ca_state, $12:ca_country", "FROM customer_address", "WHERE and(equal($12, 'United States'), or(in($11, 'ND', 'NY', 'SD'), in($11, 'MD', 'GA', 'KS'), in($11, 'CO', 'MN', 'NC')))" ] }, { "kind": "WRITE", "substeps": [ "$10, $11", "TO __stage01_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0010449320794148381, "waitRatioMax": 0.0010449320794148381, "writeMsAvg": "11", "writeMsMax": "11", "writeRatioAvg": 0.011494252873563218, "writeRatioMax": 0.011494252873563218 }, { "completedParallelInputs": "1", "computeMsAvg": "217", "computeMsMax": "217", "computeRatioAvg": 0.22675026123301986, "computeRatioMax": 0.22675026123301986, "endMs": "1665777700652", "id": "2", "name": "S02: Input", "parallelInputs": "1", "readMsAvg": "9", "readMsMax": "9", "readRatioAvg": 0.009404388714733543, "readRatioMax": 0.009404388714733543, "recordsRead": "1920800", "recordsWritten": "493920", "shuffleOutputBytes": "15640800", "shuffleOutputBytesSpilled": "0", "slotMs": "196", "startMs": "1665777700497", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$30:cd_demo_sk, $31:cd_marital_status, $32:cd_education_status", "FROM customer_demographics", "WHERE and(or(equal($31, 'S'), equal($31, 'M'), equal($31, 'D')), ...)" ] }, { "kind": "WRITE", "substeps": [ "$30, $31, $32", "TO __stage02_output" ] } ], "waitMsAvg": "2", "waitMsMax": "2", "waitRatioAvg": 0.0020898641588296763, "waitRatioMax": 0.0020898641588296763, "writeMsAvg": "10", "writeMsMax": "10", "writeRatioAvg": 0.01044932079414838, "writeRatioMax": 0.01044932079414838 }, { "completedParallelInputs": "1", "computeMsAvg": "11", "computeMsMax": "11", "computeRatioAvg": 0.011494252873563218, "computeRatioMax": 0.011494252873563218, "endMs": "1665777700541", "id": "3", "name": "S03: Input", "parallelInputs": "1", "readMsAvg": "5", "readMsMax": "5", "readRatioAvg": 0.00522466039707419, "readRatioMax": 0.00522466039707419, "recordsRead": "12", "recordsWritten": "12", "shuffleOutputBytes": "108", "shuffleOutputBytesSpilled": "0", "slotMs": "27", "startMs": "1665777700511", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$20:s_store_sk", "FROM store" ] }, { "kind": "WRITE", "substeps": [ "$20", "TO __stage03_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0010449320794148381, "waitRatioMax": 0.0010449320794148381, "writeMsAvg": "15", "writeMsMax": "15", "writeRatioAvg": 0.01567398119122257, "writeRatioMax": 0.01567398119122257 }, { "completedParallelInputs": "6", "computeMsAvg": "720", "computeMsMax": "957", "computeRatioAvg": 0.7523510971786834, "computeRatioMax": 1, "endMs": "1665777701126", "id": "6", "inputStages": [ "1", "3", "2", "0" ], "name": "S06: Join+", "parallelInputs": "6", "readMsAvg": "28", "readMsMax": "57", "readRatioAvg": 0.029258098223615466, "readRatioMax": 0.05956112852664577, "recordsRead": "5911994", "recordsWritten": "6", "shuffleOutputBytes": "54", "shuffleOutputBytesSpilled": "0", "slotMs": "3513", "startMs": "1665777700686", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$40:ss_sold_date_sk, $41:ss_cdemo_sk, $42:ss_addr_sk, $43:ss_store_sk, $44:ss_quantity, $45:ss_sales_price, $46:ss_net_profit", "FROM store_sales", "WHERE and(...)" ] }, { "kind": "READ", "substeps": [ "$20", "FROM __stage03_output" ] }, { "kind": "READ", "substeps": [ "$30, $31, $32", "FROM __stage02_output" ] }, { "kind": "READ", "substeps": [ "$10, $11", "FROM __stage01_output" ] }, { "kind": "READ", "substeps": [ "$1", "FROM __stage00_output" ] }, { "kind": "AGGREGATE", "substeps": [ "$60 := SUM($120)" ] }, { "kind": "JOIN", "substeps": [ "$120 := $111", "INNER HASH JOIN EACH WITH ALL ON $110 = $1" ] }, { "kind": "FILTER", "substeps": [ "or(and(in($113, 'ND', 'NY', 'SD'), between($112, NUMERIC<...>, NUMERIC<...>)), ...)" ] }, { "kind": "JOIN", "substeps": [ "$110 := $90, $111 := $92, $112 := $94, $113 := $11", "INNER HASH JOIN EACH WITH ALL ON $91 = $10" ] }, { "kind": "FILTER", "substeps": [ "or(and(equal($95, 'S'), equal($96, 'Secondary'), between($93, NUMERIC<...>, NUMERIC<...>)), ...)" ] }, { "kind": "JOIN", "substeps": [ "$90 := $70, $91 := $72, $92 := $73, $93 := $74, $94 := $75, $95 := $31, $96 := $32", "INNER HASH JOIN EACH WITH ALL ON $71 = $30" ] }, { "kind": "JOIN", "substeps": [ "$70 := $40, $71 := $41, $72 := $42, $73 := $44, $74 := $45, $75 := $46", "INNER HASH JOIN EACH WITH ALL ON $43 = $20" ] }, { "kind": "WRITE", "substeps": [ "$60", "TO __stage06_output" ] } ], "waitMsAvg": "2", "waitMsMax": "2", "waitRatioAvg": 0.0020898641588296763, "waitRatioMax": 0.0020898641588296763, "writeMsAvg": "1", "writeMsMax": "1", "writeRatioAvg": 0.0010449320794148381, "writeRatioMax": 0.0010449320794148381 }, { "completedParallelInputs": "1", "computeMsAvg": "8", "computeMsMax": "8", "computeRatioAvg": 0.008359456635318705, "computeRatioMax": 0.008359456635318705, "endMs": "1665777701136", "id": "7", "inputStages": [ "6" ], "name": "S07: Output", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "6", "recordsWritten": "1", "shuffleOutputBytes": "9", "shuffleOutputBytesSpilled": "0", "slotMs": "336", "startMs": "1665777700693", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$60", "FROM __stage06_output" ] }, { "kind": "AGGREGATE", "substeps": [ "$50 := SUM($60)" ] }, { "kind": "WRITE", "substeps": [ "$50", "TO __stage07_output" ] } ], "waitMsAvg": "3", "waitMsMax": "3", "waitRatioAvg": 0.003134796238244514, "waitRatioMax": 0.003134796238244514, "writeMsAvg": "5", "writeMsMax": "5", "writeRatioAvg": 0.00522466039707419, "writeRatioMax": 0.00522466039707419 } ], "referencedTables": [ { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "store_sales" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "customer_demographics" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "customer_address" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "date_dim" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "store" } ], "statementType": "SELECT", "timeline": [ { "activeUnits": "7", "completedUnits": "4", "elapsedMs": "624", "estimatedRunnableUnits": "0", "pendingUnits": "7", "totalSlotMs": "585" }, { "activeUnits": "7", "completedUnits": "11", "elapsedMs": "893", "estimatedRunnableUnits": "0", "pendingUnits": "0", "totalSlotMs": "4358" } ], "totalBytesBilled": "244318208", "totalBytesProcessed": "243876781", "totalPartitionsProcessed": "0", "totalSlotMs": "4358", "transferredBytes": "0" }, "startTime": "1665777700338", "totalBytesProcessed": "243876781", "totalSlotMs": "4358" }, "status": { "state": "DONE" }, "user_email": "jesuispotatos@gmail.com" }
{ "configuration": { "jobType": "QUERY", "query": { "defaultDataset": { "datasetId": "call_center", "projectId": "test-project-364309" }, "destinationTable": { "datasetId": "_a0aa936c5cea243efb3c6dc011c66cfad39bfcb7", "projectId": "test-project-364309", "tableId": "anon32dec391_5419_4586_b313_890ba7241fda" }, "priority": "INTERACTIVE", "query": "select sum (ss_quantity)\n from store_sales, store, customer_demographics, customer_address, date_dim\n where s_store_sk = ss_store_sk\n and ss_sold_date_sk = d_date_sk and d_year = 2001\n and \n (\n (\n cd_demo_sk = ss_cdemo_sk\n and \n cd_marital_status = 'S'\n and \n cd_education_status = 'Secondary'\n and \n ss_sales_price between 100.00 and 150.00 \n )\n or\n (\n cd_demo_sk = ss_cdemo_sk\n and \n cd_marital_status = 'M'\n and \n cd_education_status = '2 yr Degree'\n and \n ss_sales_price between 50.00 and 100.00 \n )\n or \n (\n cd_demo_sk = ss_cdemo_sk\n and \n cd_marital_status = 'D'\n and \n cd_education_status = 'Advanced Degree'\n and \n ss_sales_price between 150.00 and 200.00 \n )\n )\n and\n (\n (\n ss_addr_sk = ca_address_sk\n and\n ca_country = 'United States'\n and\n ca_state in ('ND', 'NY', 'SD')\n and ss_net_profit between 0 and 2000 \n )\n or\n (ss_addr_sk = ca_address_sk\n and\n ca_country = 'United States'\n and\n ca_state in ('MD', 'GA', 'KS')\n and ss_net_profit between 150 and 3000 \n )\n or\n (ss_addr_sk = ca_address_sk\n and\n ca_country = 'United States'\n and\n ca_state in ('CO', 'MN', 'NC')\n and ss_net_profit between 50 and 25000 \n )\n )\n;\n", "useLegacySql": false, "useQueryCache": false, "writeDisposition": "WRITE_TRUNCATE" } }, "etag": "MPTd1whGEkKtiUGbi8JR8A==", "id": "test-project-364309:europe-west1.query48_1665777702", "jobReference": { "jobId": "query48_1665777702", "location": "europe-west1", "projectId": "test-project-364309" }, "kind": "bigquery#job", "principal_subject": "user:jesuispotatos@gmail.com", "selfLink": "https://bigquery.googleapis.com/bigquery/v2/projects/test-project-364309/jobs/query48_1665777702?location=europe-west1", "statistics": { "creationTime": "1665777702891", "endTime": "1665777704119", "finalExecutionDurationMs": "984", "query": { "billingTier": 1, "cacheHit": false, "estimatedBytesProcessed": "243876781", "performanceInsights": { "avgPreviousExecutionMs": "918" }, "queryPlan": [ { "completedParallelInputs": "1", "computeMsAvg": "9", "computeMsMax": "9", "computeRatioAvg": 0.008387698042870456, "computeRatioMax": 0.008387698042870456, "endMs": "1665777703114", "id": "0", "name": "S00: Input", "parallelInputs": "1", "readMsAvg": "7", "readMsMax": "7", "readRatioAvg": 0.0065237651444548, "readRatioMax": 0.0065237651444548, "recordsRead": "73049", "recordsWritten": "365", "shuffleOutputBytes": "3285", "shuffleOutputBytesSpilled": "0", "slotMs": "37", "startMs": "1665777703074", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$1:d_date_sk, $2:d_year", "FROM date_dim", "WHERE equal($2, 2001)" ] }, { "kind": "WRITE", "substeps": [ "$1", "TO __stage00_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0009319664492078285, "waitRatioMax": 0.0009319664492078285, "writeMsAvg": "13", "writeMsMax": "13", "writeRatioAvg": 0.012115563839701771, "writeRatioMax": 0.012115563839701771 }, { "completedParallelInputs": "1", "computeMsAvg": "15", "computeMsMax": "15", "computeRatioAvg": 0.013979496738117428, "computeRatioMax": 0.013979496738117428, "endMs": "1665777703122", "id": "1", "name": "S01: Input", "parallelInputs": "1", "readMsAvg": "7", "readMsMax": "7", "readRatioAvg": 0.0065237651444548, "readRatioMax": 0.0065237651444548, "recordsRead": "50000", "recordsWritten": "10968", "shuffleOutputBytes": "175488", "shuffleOutputBytesSpilled": "0", "slotMs": "24", "startMs": "1665777703091", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$10:ca_address_sk, $11:ca_state, $12:ca_country", "FROM customer_address", "WHERE and(equal($12, 'United States'), or(in($11, 'ND', 'NY', 'SD'), in($11, 'MD', 'GA', 'KS'), in($11, 'CO', 'MN', 'NC')))" ] }, { "kind": "WRITE", "substeps": [ "$10, $11", "TO __stage01_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0009319664492078285, "waitRatioMax": 0.0009319664492078285, "writeMsAvg": "14", "writeMsMax": "14", "writeRatioAvg": 0.0130475302889096, "writeRatioMax": 0.0130475302889096 }, { "completedParallelInputs": "1", "computeMsAvg": "270", "computeMsMax": "270", "computeRatioAvg": 0.2516309412861137, "computeRatioMax": 0.2516309412861137, "endMs": "1665777703328", "id": "2", "name": "S02: Input", "parallelInputs": "1", "readMsAvg": "12", "readMsMax": "12", "readRatioAvg": 0.011183597390493943, "readRatioMax": 0.011183597390493943, "recordsRead": "1920800", "recordsWritten": "493920", "shuffleOutputBytes": "15640800", "shuffleOutputBytesSpilled": "0", "slotMs": "304", "startMs": "1665777703106", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$30:cd_demo_sk, $31:cd_marital_status, $32:cd_education_status", "FROM customer_demographics", "WHERE and(or(equal($31, 'S'), equal($31, 'M'), equal($31, 'D')), ...)" ] }, { "kind": "WRITE", "substeps": [ "$30, $31, $32", "TO __stage02_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0009319664492078285, "waitRatioMax": 0.0009319664492078285, "writeMsAvg": "16", "writeMsMax": "16", "writeRatioAvg": 0.014911463187325256, "writeRatioMax": 0.014911463187325256 }, { "completedParallelInputs": "1", "computeMsAvg": "11", "computeMsMax": "11", "computeRatioAvg": 0.010251630941286114, "computeRatioMax": 0.010251630941286114, "endMs": "1665777703167", "id": "3", "name": "S03: Input", "parallelInputs": "1", "readMsAvg": "5", "readMsMax": "5", "readRatioAvg": 0.004659832246039142, "readRatioMax": 0.004659832246039142, "recordsRead": "12", "recordsWritten": "12", "shuffleOutputBytes": "108", "shuffleOutputBytesSpilled": "0", "slotMs": "31", "startMs": "1665777703123", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$20:s_store_sk", "FROM store" ] }, { "kind": "WRITE", "substeps": [ "$20", "TO __stage03_output" ] } ], "waitMsAvg": "5", "waitMsMax": "5", "waitRatioAvg": 0.004659832246039142, "waitRatioMax": 0.004659832246039142, "writeMsAvg": "18", "writeMsMax": "18", "writeRatioAvg": 0.016775396085740912, "writeRatioMax": 0.016775396085740912 }, { "completedParallelInputs": "6", "computeMsAvg": "699", "computeMsMax": "1073", "computeRatioAvg": 0.6514445479962722, "computeRatioMax": 1, "endMs": "1665777704027", "id": "6", "inputStages": [ "0", "2", "3", "1" ], "name": "S06: Join+", "parallelInputs": "6", "readMsAvg": "25", "readMsMax": "46", "readRatioAvg": 0.023299161230195712, "readRatioMax": 0.04287045666356011, "recordsRead": "5911994", "recordsWritten": "6", "shuffleOutputBytes": "54", "shuffleOutputBytesSpilled": "0", "slotMs": "3587", "startMs": "1665777703374", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$40:ss_sold_date_sk, $41:ss_cdemo_sk, $42:ss_addr_sk, $43:ss_store_sk, $44:ss_quantity, $45:ss_sales_price, $46:ss_net_profit", "FROM store_sales", "WHERE and(...)" ] }, { "kind": "READ", "substeps": [ "$20", "FROM __stage03_output" ] }, { "kind": "READ", "substeps": [ "$30, $31, $32", "FROM __stage02_output" ] }, { "kind": "READ", "substeps": [ "$10, $11", "FROM __stage01_output" ] }, { "kind": "READ", "substeps": [ "$1", "FROM __stage00_output" ] }, { "kind": "AGGREGATE", "substeps": [ "$60 := SUM($120)" ] }, { "kind": "JOIN", "substeps": [ "$120 := $111", "INNER HASH JOIN EACH WITH ALL ON $110 = $1" ] }, { "kind": "FILTER", "substeps": [ "or(and(in($113, 'ND', 'NY', 'SD'), between($112, NUMERIC<...>, NUMERIC<...>)), ...)" ] }, { "kind": "JOIN", "substeps": [ "$110 := $90, $111 := $92, $112 := $94, $113 := $11", "INNER HASH JOIN EACH WITH ALL ON $91 = $10" ] }, { "kind": "FILTER", "substeps": [ "or(and(equal($95, 'S'), equal($96, 'Secondary'), between($93, NUMERIC<...>, NUMERIC<...>)), ...)" ] }, { "kind": "JOIN", "substeps": [ "$90 := $70, $91 := $72, $92 := $73, $93 := $74, $94 := $75, $95 := $31, $96 := $32", "INNER HASH JOIN EACH WITH ALL ON $71 = $30" ] }, { "kind": "JOIN", "substeps": [ "$70 := $40, $71 := $41, $72 := $42, $73 := $44, $74 := $45, $75 := $46", "INNER HASH JOIN EACH WITH ALL ON $43 = $20" ] }, { "kind": "WRITE", "substeps": [ "$60", "TO __stage06_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.0009319664492078285, "waitRatioMax": 0.0009319664492078285, "writeMsAvg": "1", "writeMsMax": "2", "writeRatioAvg": 0.0009319664492078285, "writeRatioMax": 0.001863932898415657 }, { "completedParallelInputs": "1", "computeMsAvg": "7", "computeMsMax": "7", "computeRatioAvg": 0.0065237651444548, "computeRatioMax": 0.0065237651444548, "endMs": "1665777704027", "id": "7", "inputStages": [ "6" ], "name": "S07: Output", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "6", "recordsWritten": "1", "shuffleOutputBytes": "9", "shuffleOutputBytesSpilled": "0", "slotMs": "309", "startMs": "1665777703388", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$60", "FROM __stage06_output" ] }, { "kind": "AGGREGATE", "substeps": [ "$50 := SUM($60)" ] }, { "kind": "WRITE", "substeps": [ "$50", "TO __stage07_output" ] } ], "waitMsAvg": "6", "waitMsMax": "6", "waitRatioAvg": 0.005591798695246971, "waitRatioMax": 0.005591798695246971, "writeMsAvg": "4", "writeMsMax": "4", "writeRatioAvg": 0.003727865796831314, "writeRatioMax": 0.003727865796831314 } ], "referencedTables": [ { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "customer_address" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "date_dim" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "customer_demographics" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "store_sales" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "store" } ], "statementType": "SELECT", "timeline": [ { "activeUnits": "7", "completedUnits": "4", "elapsedMs": "619", "estimatedRunnableUnits": "0", "pendingUnits": "7", "totalSlotMs": "876" }, { "activeUnits": "7", "completedUnits": "11", "elapsedMs": "1100", "estimatedRunnableUnits": "0", "pendingUnits": "0", "totalSlotMs": "4485" } ], "totalBytesBilled": "244318208", "totalBytesProcessed": "243876781", "totalPartitionsProcessed": "0", "totalSlotMs": "4485", "transferredBytes": "0" }, "startTime": "1665777702956", "totalBytesProcessed": "243876781", "totalSlotMs": "4485" }, "status": { "state": "DONE" }, "user_email": "jesuispotatos@gmail.com" }
