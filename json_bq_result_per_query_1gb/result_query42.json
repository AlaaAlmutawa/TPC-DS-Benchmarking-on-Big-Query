{ "configuration": { "jobType": "QUERY", "query": { "defaultDataset": { "datasetId": "call_center", "projectId": "test-project-364309" }, "destinationTable": { "datasetId": "_a0aa936c5cea243efb3c6dc011c66cfad39bfcb7", "projectId": "test-project-364309", "tableId": "anon6762483b_2ea8_4f73_b4e2_b76f02bf39e0" }, "priority": "INTERACTIVE", "query": "-- start query 42 in stream 0 using template query42.tpl\nselect dt.d_year\n \t,item.i_category_id\n \t,item.i_category\n \t,sum(ss_ext_sales_price)\n from \tdate_dim dt\n \t,store_sales\n \t,item\n where dt.d_date_sk = store_sales.ss_sold_date_sk\n \tand store_sales.ss_item_sk = item.i_item_sk\n \tand item.i_manager_id = 1 \t\n \tand dt.d_moy=11\n \tand dt.d_year=2000\n group by \tdt.d_year\n \t\t,item.i_category_id\n \t\t,item.i_category\n order by sum(ss_ext_sales_price) desc,dt.d_year\n \t\t,item.i_category_id\n \t\t,item.i_category\n limit 100;\n\n-- end query 42 in stream 0 using template query42.tpl", "useLegacySql": false, "useQueryCache": false, "writeDisposition": "WRITE_TRUNCATE" } }, "etag": "73p6qg7DEvmTT9jMsQXJ/g==", "id": "test-project-364309:europe-west1.query42_1665768352", "jobReference": { "jobId": "query42_1665768352", "location": "europe-west1", "projectId": "test-project-364309" }, "kind": "bigquery#job", "principal_subject": "user:jesuispotatos@gmail.com", "selfLink": "https://bigquery.googleapis.com/bigquery/v2/projects/test-project-364309/jobs/query42_1665768352?location=europe-west1", "statistics": { "creationTime": "1665768352918", "endTime": "1665768353468", "finalExecutionDurationMs": "274", "query": { "billingTier": 1, "cacheHit": false, "estimatedBytesProcessed": "91373227", "performanceInsights": { "avgPreviousExecutionMs": "305" }, "queryPlan": [ { "completedParallelInputs": "1", "computeMsAvg": "12", "computeMsMax": "12", "computeRatioAvg": 0.08163265306122448, "computeRatioMax": 0.08163265306122448, "endMs": "1665768353105", "id": "0", "name": "S00: Input", "parallelInputs": "1", "readMsAvg": "6", "readMsMax": "6", "readRatioAvg": 0.04081632653061224, "readRatioMax": 0.04081632653061224, "recordsRead": "18000", "recordsWritten": "321", "shuffleOutputBytes": "9300", "shuffleOutputBytesSpilled": "0", "slotMs": "47", "startMs": "1665768353063", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$10:i_item_sk, $11:i_category_id, $12:i_category, $13:i_manager_id", "FROM item", "WHERE equal($13, 1)" ] }, { "kind": "WRITE", "substeps": [ "$10, $11, $12", "TO __stage00_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.006802721088435374, "waitRatioMax": 0.006802721088435374, "writeMsAvg": "14", "writeMsMax": "14", "writeRatioAvg": 0.09523809523809523, "writeRatioMax": 0.09523809523809523 }, { "completedParallelInputs": "1", "computeMsAvg": "8", "computeMsMax": "8", "computeRatioAvg": 0.05442176870748299, "computeRatioMax": 0.05442176870748299, "endMs": "1665768353134", "id": "2", "name": "S02: Input", "parallelInputs": "1", "readMsAvg": "5", "readMsMax": "5", "readRatioAvg": 0.034013605442176874, "readRatioMax": 0.034013605442176874, "recordsRead": "73049", "recordsWritten": "30", "shuffleOutputBytes": "540", "shuffleOutputBytesSpilled": "0", "slotMs": "38", "startMs": "1665768353096", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$20:d_date_sk, $21:d_year, $22:d_moy", "FROM date_dim", "WHERE and(equal($22, 11), equal($21, 2000))" ] }, { "kind": "WRITE", "substeps": [ "$20, $21", "TO __stage02_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.006802721088435374, "waitRatioMax": 0.006802721088435374, "writeMsAvg": "16", "writeMsMax": "16", "writeRatioAvg": 0.10884353741496598, "writeRatioMax": 0.10884353741496598 }, { "completedParallelInputs": "6", "computeMsAvg": "121", "computeMsMax": "147", "computeRatioAvg": 0.8231292517006803, "computeRatioMax": 1, "endMs": "1665768353253", "id": "3", "inputStages": [ "0", "2" ], "name": "S03: Join+", "parallelInputs": "6", "readMsAvg": "14", "readMsMax": "16", "readRatioAvg": 0.09523809523809523, "readRatioMax": 0.10884353741496598, "recordsRead": "2882510", "recordsWritten": "60", "shuffleOutputBytes": "2754", "shuffleOutputBytesSpilled": "0", "slotMs": "818", "startMs": "1665768353148", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$1:ss_sold_date_sk, $2:ss_item_sk, $3:ss_ext_sales_price", "FROM store_sales" ] }, { "kind": "READ", "substeps": [ "$20, $21", "FROM __stage02_output" ] }, { "kind": "READ", "substeps": [ "$10, $11, $12", "FROM __stage00_output" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $70 := $61, $71 := $62, $72 := $63", "$40 := SUM($60)" ] }, { "kind": "JOIN", "substeps": [ "$60 := $52, $61 := $50, $62 := $11, $63 := $12", "INNER HASH JOIN EACH WITH ALL ON $51 = $10" ] }, { "kind": "JOIN", "substeps": [ "$51 := $2, $52 := $3, $50 := $21", "INNER HASH JOIN EACH WITH ALL ON $1 = $20" ] }, { "kind": "WRITE", "substeps": [ "$71, $72, $70, $40", "TO __stage03_output", "BY HASH($70, $71, $72)" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.006802721088435374, "waitRatioMax": 0.006802721088435374, "writeMsAvg": "5", "writeMsMax": "6", "writeRatioAvg": 0.034013605442176874, "writeRatioMax": 0.04081632653061224 }, { "completedParallelInputs": "1", "computeMsAvg": "9", "computeMsMax": "9", "computeRatioAvg": 0.061224489795918366, "computeRatioMax": 0.061224489795918366, "endMs": "1665768353273", "id": "4", "inputStages": [ "3" ], "name": "S04: Sort+", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "60", "recordsWritten": "10", "shuffleOutputBytes": "459", "shuffleOutputBytesSpilled": "0", "slotMs": "14", "startMs": "1665768353257", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$71, $72, $70, $40", "FROM __stage03_output" ] }, { "kind": "SORT", "substeps": [ "$30 DESC, $80 ASC, $81 ASC, $82 ASC", "LIMIT 100" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $80 := $70, $81 := $71, $82 := $72", "$30 := SUM($40)" ] }, { "kind": "WRITE", "substeps": [ "$90, $91, $92, $93", "TO __stage04_output" ] } ], "waitMsAvg": "2", "waitMsMax": "2", "waitRatioAvg": 0.013605442176870748, "waitRatioMax": 0.013605442176870748, "writeMsAvg": "3", "writeMsMax": "3", "writeRatioAvg": 0.02040816326530612, "writeRatioMax": 0.02040816326530612 }, { "completedParallelInputs": "1", "computeMsAvg": "9", "computeMsMax": "9", "computeRatioAvg": 0.061224489795918366, "computeRatioMax": 0.061224489795918366, "endMs": "1665768353306", "id": "5", "inputStages": [ "4" ], "name": "S05: Output", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "10", "recordsWritten": "10", "shuffleOutputBytes": "459", "shuffleOutputBytesSpilled": "0", "slotMs": "40", "startMs": "1665768353269", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$90, $91, $92, $93", "FROM __stage04_output" ] }, { "kind": "SORT", "substeps": [ "$93 DESC, $92 ASC, $90 ASC, $91 ASC", "LIMIT 100" ] }, { "kind": "WRITE", "substeps": [ "$100, $101, $102, $103", "TO __stage05_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.006802721088435374, "waitRatioMax": 0.006802721088435374, "writeMsAvg": "15", "writeMsMax": "15", "writeRatioAvg": 0.10204081632653061, "writeRatioMax": 0.10204081632653061 } ], "referencedTables": [ { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "date_dim" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "store_sales" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "item" } ], "statementType": "SELECT", "timeline": [ { "completedUnits": "10", "elapsedMs": "456", "estimatedRunnableUnits": "0", "pendingUnits": "0", "totalSlotMs": "1103" } ], "totalBytesBilled": "92274688", "totalBytesProcessed": "91373227", "totalPartitionsProcessed": "0", "totalSlotMs": "1103", "transferredBytes": "0" }, "startTime": "1665768352961", "totalBytesProcessed": "91373227", "totalSlotMs": "1103" }, "status": { "state": "DONE" }, "user_email": "jesuispotatos@gmail.com" }
{ "configuration": { "jobType": "QUERY", "query": { "defaultDataset": { "datasetId": "call_center", "projectId": "test-project-364309" }, "destinationTable": { "datasetId": "_a0aa936c5cea243efb3c6dc011c66cfad39bfcb7", "projectId": "test-project-364309", "tableId": "anon55772d34_8794_4a78_87bb_aee786e6be47" }, "priority": "INTERACTIVE", "query": "-- start query 42 in stream 0 using template query42.tpl\nselect dt.d_year\n \t,item.i_category_id\n \t,item.i_category\n \t,sum(ss_ext_sales_price)\n from \tdate_dim dt\n \t,store_sales\n \t,item\n where dt.d_date_sk = store_sales.ss_sold_date_sk\n \tand store_sales.ss_item_sk = item.i_item_sk\n \tand item.i_manager_id = 1 \t\n \tand dt.d_moy=11\n \tand dt.d_year=2000\n group by \tdt.d_year\n \t\t,item.i_category_id\n \t\t,item.i_category\n order by sum(ss_ext_sales_price) desc,dt.d_year\n \t\t,item.i_category_id\n \t\t,item.i_category\n limit 100;\n\n-- end query 42 in stream 0 using template query42.tpl", "useLegacySql": false, "useQueryCache": false, "writeDisposition": "WRITE_TRUNCATE" } }, "etag": "AxxW1ihmYKopjdyZItE2Cw==", "id": "test-project-364309:europe-west1.query42_1665777448", "jobReference": { "jobId": "query42_1665777448", "location": "europe-west1", "projectId": "test-project-364309" }, "kind": "bigquery#job", "principal_subject": "user:jesuispotatos@gmail.com", "selfLink": "https://bigquery.googleapis.com/bigquery/v2/projects/test-project-364309/jobs/query42_1665777448?location=europe-west1", "statistics": { "creationTime": "1665777449097", "endTime": "1665777449625", "finalExecutionDurationMs": "289", "query": { "billingTier": 1, "cacheHit": false, "estimatedBytesProcessed": "91373227", "performanceInsights": { "avgPreviousExecutionMs": "300" }, "queryPlan": [ { "completedParallelInputs": "1", "computeMsAvg": "11", "computeMsMax": "11", "computeRatioAvg": 0.0728476821192053, "computeRatioMax": 0.0728476821192053, "endMs": "1665777449273", "id": "0", "name": "S00: Input", "parallelInputs": "1", "readMsAvg": "4", "readMsMax": "4", "readRatioAvg": 0.026490066225165563, "readRatioMax": 0.026490066225165563, "recordsRead": "18000", "recordsWritten": "321", "shuffleOutputBytes": "9300", "shuffleOutputBytesSpilled": "0", "slotMs": "29", "startMs": "1665777449241", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$10:i_item_sk, $11:i_category_id, $12:i_category, $13:i_manager_id", "FROM item", "WHERE equal($13, 1)" ] }, { "kind": "WRITE", "substeps": [ "$10, $11, $12", "TO __stage00_output" ] } ], "waitMsAvg": "2", "waitMsMax": "2", "waitRatioAvg": 0.013245033112582781, "waitRatioMax": 0.013245033112582781, "writeMsAvg": "20", "writeMsMax": "20", "writeRatioAvg": 0.13245033112582782, "writeRatioMax": 0.13245033112582782 }, { "completedParallelInputs": "1", "computeMsAvg": "8", "computeMsMax": "8", "computeRatioAvg": 0.052980132450331126, "computeRatioMax": 0.052980132450331126, "endMs": "1665777449306", "id": "2", "name": "S02: Input", "parallelInputs": "1", "readMsAvg": "7", "readMsMax": "7", "readRatioAvg": 0.046357615894039736, "readRatioMax": 0.046357615894039736, "recordsRead": "73049", "recordsWritten": "30", "shuffleOutputBytes": "540", "shuffleOutputBytesSpilled": "0", "slotMs": "30", "startMs": "1665777449272", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$20:d_date_sk, $21:d_year, $22:d_moy", "FROM date_dim", "WHERE and(equal($22, 11), equal($21, 2000))" ] }, { "kind": "WRITE", "substeps": [ "$20, $21", "TO __stage02_output" ] } ], "waitMsAvg": "2", "waitMsMax": "2", "waitRatioAvg": 0.013245033112582781, "waitRatioMax": 0.013245033112582781, "writeMsAvg": "8", "writeMsMax": "8", "writeRatioAvg": 0.052980132450331126, "writeRatioMax": 0.052980132450331126 }, { "completedParallelInputs": "6", "computeMsAvg": "114", "computeMsMax": "151", "computeRatioAvg": 0.7549668874172185, "computeRatioMax": 1, "endMs": "1665777449430", "id": "3", "inputStages": [ "0", "2" ], "name": "S03: Join+", "parallelInputs": "6", "readMsAvg": "16", "readMsMax": "22", "readRatioAvg": 0.10596026490066225, "readRatioMax": 0.1456953642384106, "recordsRead": "2882510", "recordsWritten": "60", "shuffleOutputBytes": "2754", "shuffleOutputBytesSpilled": "0", "slotMs": "684", "startMs": "1665777449318", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$1:ss_sold_date_sk, $2:ss_item_sk, $3:ss_ext_sales_price", "FROM store_sales" ] }, { "kind": "READ", "substeps": [ "$20, $21", "FROM __stage02_output" ] }, { "kind": "READ", "substeps": [ "$10, $11, $12", "FROM __stage00_output" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $70 := $61, $71 := $62, $72 := $63", "$40 := SUM($60)" ] }, { "kind": "JOIN", "substeps": [ "$60 := $52, $61 := $50, $62 := $11, $63 := $12", "INNER HASH JOIN EACH WITH ALL ON $51 = $10" ] }, { "kind": "JOIN", "substeps": [ "$51 := $2, $52 := $3, $50 := $21", "INNER HASH JOIN EACH WITH ALL ON $1 = $20" ] }, { "kind": "WRITE", "substeps": [ "$71, $72, $70, $40", "TO __stage03_output", "BY HASH($70, $71, $72)" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.006622516556291391, "waitRatioMax": 0.006622516556291391, "writeMsAvg": "5", "writeMsMax": "5", "writeRatioAvg": 0.033112582781456956, "writeRatioMax": 0.033112582781456956 }, { "completedParallelInputs": "1", "computeMsAvg": "7", "computeMsMax": "7", "computeRatioAvg": 0.046357615894039736, "computeRatioMax": 0.046357615894039736, "endMs": "1665777449452", "id": "4", "inputStages": [ "3" ], "name": "S04: Sort+", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "60", "recordsWritten": "10", "shuffleOutputBytes": "459", "shuffleOutputBytesSpilled": "0", "slotMs": "10", "startMs": "1665777449442", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$71, $72, $70, $40", "FROM __stage03_output" ] }, { "kind": "SORT", "substeps": [ "$30 DESC, $80 ASC, $81 ASC, $82 ASC", "LIMIT 100" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $80 := $70, $81 := $71, $82 := $72", "$30 := SUM($40)" ] }, { "kind": "WRITE", "substeps": [ "$90, $91, $92, $93", "TO __stage04_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.006622516556291391, "waitRatioMax": 0.006622516556291391, "writeMsAvg": "1", "writeMsMax": "1", "writeRatioAvg": 0.006622516556291391, "writeRatioMax": 0.006622516556291391 }, { "completedParallelInputs": "1", "computeMsAvg": "11", "computeMsMax": "11", "computeRatioAvg": 0.0728476821192053, "computeRatioMax": 0.0728476821192053, "endMs": "1665777449491", "id": "5", "inputStages": [ "4" ], "name": "S05: Output", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "10", "recordsWritten": "10", "shuffleOutputBytes": "459", "shuffleOutputBytesSpilled": "0", "slotMs": "37", "startMs": "1665777449455", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$90, $91, $92, $93", "FROM __stage04_output" ] }, { "kind": "SORT", "substeps": [ "$93 DESC, $92 ASC, $90 ASC, $91 ASC", "LIMIT 100" ] }, { "kind": "WRITE", "substeps": [ "$100, $101, $102, $103", "TO __stage05_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.006622516556291391, "waitRatioMax": 0.006622516556291391, "writeMsAvg": "14", "writeMsMax": "14", "writeRatioAvg": 0.09271523178807947, "writeRatioMax": 0.09271523178807947 } ], "referencedTables": [ { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "store_sales" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "item" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "date_dim" } ], "statementType": "SELECT", "timeline": [ { "completedUnits": "10", "elapsedMs": "429", "estimatedRunnableUnits": "0", "pendingUnits": "0", "totalSlotMs": "792" } ], "totalBytesBilled": "92274688", "totalBytesProcessed": "91373227", "totalPartitionsProcessed": "0", "totalSlotMs": "792", "transferredBytes": "0" }, "startTime": "1665777449148", "totalBytesProcessed": "91373227", "totalSlotMs": "792" }, "status": { "state": "DONE" }, "user_email": "jesuispotatos@gmail.com" }
{ "configuration": { "jobType": "QUERY", "query": { "defaultDataset": { "datasetId": "call_center", "projectId": "test-project-364309" }, "destinationTable": { "datasetId": "_a0aa936c5cea243efb3c6dc011c66cfad39bfcb7", "projectId": "test-project-364309", "tableId": "anon5cd55bb0_b524_40f7_9dd7_8f1007338558" }, "priority": "INTERACTIVE", "query": "-- start query 42 in stream 0 using template query42.tpl\nselect dt.d_year\n \t,item.i_category_id\n \t,item.i_category\n \t,sum(ss_ext_sales_price)\n from \tdate_dim dt\n \t,store_sales\n \t,item\n where dt.d_date_sk = store_sales.ss_sold_date_sk\n \tand store_sales.ss_item_sk = item.i_item_sk\n \tand item.i_manager_id = 1 \t\n \tand dt.d_moy=11\n \tand dt.d_year=2000\n group by \tdt.d_year\n \t\t,item.i_category_id\n \t\t,item.i_category\n order by sum(ss_ext_sales_price) desc,dt.d_year\n \t\t,item.i_category_id\n \t\t,item.i_category\n limit 100;\n\n-- end query 42 in stream 0 using template query42.tpl", "useLegacySql": false, "useQueryCache": false, "writeDisposition": "WRITE_TRUNCATE" } }, "etag": "ux12zFiKTDJgVD6+1VtgDg==", "id": "test-project-364309:europe-west1.query42_1665777450", "jobReference": { "jobId": "query42_1665777450", "location": "europe-west1", "projectId": "test-project-364309" }, "kind": "bigquery#job", "principal_subject": "user:jesuispotatos@gmail.com", "selfLink": "https://bigquery.googleapis.com/bigquery/v2/projects/test-project-364309/jobs/query42_1665777450?location=europe-west1", "statistics": { "creationTime": "1665777451362", "endTime": "1665777451934", "finalExecutionDurationMs": "295", "query": { "billingTier": 1, "cacheHit": false, "estimatedBytesProcessed": "91373227", "performanceInsights": { "avgPreviousExecutionMs": "299" }, "queryPlan": [ { "completedParallelInputs": "1", "computeMsAvg": "10", "computeMsMax": "10", "computeRatioAvg": 0.05649717514124294, "computeRatioMax": 0.05649717514124294, "endMs": "1665777451547", "id": "0", "name": "S00: Input", "parallelInputs": "1", "readMsAvg": "4", "readMsMax": "4", "readRatioAvg": 0.022598870056497175, "readRatioMax": 0.022598870056497175, "recordsRead": "18000", "recordsWritten": "321", "shuffleOutputBytes": "9300", "shuffleOutputBytesSpilled": "0", "slotMs": "34", "startMs": "1665777451510", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$10:i_item_sk, $11:i_category_id, $12:i_category, $13:i_manager_id", "FROM item", "WHERE equal($13, 1)" ] }, { "kind": "WRITE", "substeps": [ "$10, $11, $12", "TO __stage00_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.005649717514124294, "waitRatioMax": 0.005649717514124294, "writeMsAvg": "14", "writeMsMax": "14", "writeRatioAvg": 0.07909604519774012, "writeRatioMax": 0.07909604519774012 }, { "completedParallelInputs": "1", "computeMsAvg": "11", "computeMsMax": "11", "computeRatioAvg": 0.062146892655367235, "computeRatioMax": 0.062146892655367235, "endMs": "1665777451572", "id": "2", "name": "S02: Input", "parallelInputs": "1", "readMsAvg": "9", "readMsMax": "9", "readRatioAvg": 0.05084745762711865, "readRatioMax": 0.05084745762711865, "recordsRead": "73049", "recordsWritten": "30", "shuffleOutputBytes": "540", "shuffleOutputBytesSpilled": "0", "slotMs": "30", "startMs": "1665777451540", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$20:d_date_sk, $21:d_year, $22:d_moy", "FROM date_dim", "WHERE and(equal($22, 11), equal($21, 2000))" ] }, { "kind": "WRITE", "substeps": [ "$20, $21", "TO __stage02_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.005649717514124294, "waitRatioMax": 0.005649717514124294, "writeMsAvg": "14", "writeMsMax": "14", "writeRatioAvg": 0.07909604519774012, "writeRatioMax": 0.07909604519774012 }, { "completedParallelInputs": "6", "computeMsAvg": "124", "computeMsMax": "177", "computeRatioAvg": 0.7005649717514124, "computeRatioMax": 1, "endMs": "1665777451693", "id": "3", "inputStages": [ "0", "2" ], "name": "S03: Join+", "parallelInputs": "6", "readMsAvg": "13", "readMsMax": "15", "readRatioAvg": 0.07344632768361582, "readRatioMax": 0.0847457627118644, "recordsRead": "2882510", "recordsWritten": "60", "shuffleOutputBytes": "2754", "shuffleOutputBytesSpilled": "0", "slotMs": "693", "startMs": "1665777451579", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$1:ss_sold_date_sk, $2:ss_item_sk, $3:ss_ext_sales_price", "FROM store_sales" ] }, { "kind": "READ", "substeps": [ "$20, $21", "FROM __stage02_output" ] }, { "kind": "READ", "substeps": [ "$10, $11, $12", "FROM __stage00_output" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $70 := $61, $71 := $62, $72 := $63", "$40 := SUM($60)" ] }, { "kind": "JOIN", "substeps": [ "$60 := $52, $61 := $50, $62 := $11, $63 := $12", "INNER HASH JOIN EACH WITH ALL ON $51 = $10" ] }, { "kind": "JOIN", "substeps": [ "$51 := $2, $52 := $3, $50 := $21", "INNER HASH JOIN EACH WITH ALL ON $1 = $20" ] }, { "kind": "WRITE", "substeps": [ "$71, $72, $70, $40", "TO __stage03_output", "BY HASH($70, $71, $72)" ] } ], "waitMsAvg": "1", "waitMsMax": "3", "waitRatioAvg": 0.005649717514124294, "waitRatioMax": 0.01694915254237288, "writeMsAvg": "5", "writeMsMax": "7", "writeRatioAvg": 0.02824858757062147, "writeRatioMax": 0.03954802259887006 }, { "completedParallelInputs": "1", "computeMsAvg": "6", "computeMsMax": "6", "computeRatioAvg": 0.03389830508474576, "computeRatioMax": 0.03389830508474576, "endMs": "1665777451718", "id": "4", "inputStages": [ "3" ], "name": "S04: Sort+", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "60", "recordsWritten": "10", "shuffleOutputBytes": "459", "shuffleOutputBytesSpilled": "0", "slotMs": "12", "startMs": "1665777451706", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$71, $72, $70, $40", "FROM __stage03_output" ] }, { "kind": "SORT", "substeps": [ "$30 DESC, $80 ASC, $81 ASC, $82 ASC", "LIMIT 100" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $80 := $70, $81 := $71, $82 := $72", "$30 := SUM($40)" ] }, { "kind": "WRITE", "substeps": [ "$90, $91, $92, $93", "TO __stage04_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.005649717514124294, "waitRatioMax": 0.005649717514124294, "writeMsAvg": "1", "writeMsMax": "1", "writeRatioAvg": 0.005649717514124294, "writeRatioMax": 0.005649717514124294 }, { "completedParallelInputs": "1", "computeMsAvg": "11", "computeMsMax": "11", "computeRatioAvg": 0.062146892655367235, "computeRatioMax": 0.062146892655367235, "endMs": "1665777451772", "id": "5", "inputStages": [ "4" ], "name": "S05: Output", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "10", "recordsWritten": "10", "shuffleOutputBytes": "459", "shuffleOutputBytesSpilled": "0", "slotMs": "44", "startMs": "1665777451724", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$90, $91, $92, $93", "FROM __stage04_output" ] }, { "kind": "SORT", "substeps": [ "$93 DESC, $92 ASC, $90 ASC, $91 ASC", "LIMIT 100" ] }, { "kind": "WRITE", "substeps": [ "$100, $101, $102, $103", "TO __stage05_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.005649717514124294, "waitRatioMax": 0.005649717514124294, "writeMsAvg": "27", "writeMsMax": "27", "writeRatioAvg": 0.15254237288135594, "writeRatioMax": 0.15254237288135594 } ], "referencedTables": [ { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "item" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "store_sales" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "date_dim" } ], "statementType": "SELECT", "timeline": [ { "completedUnits": "10", "elapsedMs": "460", "estimatedRunnableUnits": "0", "pendingUnits": "0", "totalSlotMs": "835" } ], "totalBytesBilled": "92274688", "totalBytesProcessed": "91373227", "totalPartitionsProcessed": "0", "totalSlotMs": "835", "transferredBytes": "0" }, "startTime": "1665777451420", "totalBytesProcessed": "91373227", "totalSlotMs": "835" }, "status": { "state": "DONE" }, "user_email": "jesuispotatos@gmail.com" }
{ "configuration": { "jobType": "QUERY", "query": { "defaultDataset": { "datasetId": "call_center", "projectId": "test-project-364309" }, "destinationTable": { "datasetId": "_a0aa936c5cea243efb3c6dc011c66cfad39bfcb7", "projectId": "test-project-364309", "tableId": "anon0bdcb72e_2dbc_41b1_8f04_c8d2ab6eb785" }, "priority": "INTERACTIVE", "query": "-- start query 42 in stream 0 using template query42.tpl\nselect dt.d_year\n \t,item.i_category_id\n \t,item.i_category\n \t,sum(ss_ext_sales_price)\n from \tdate_dim dt\n \t,store_sales\n \t,item\n where dt.d_date_sk = store_sales.ss_sold_date_sk\n \tand store_sales.ss_item_sk = item.i_item_sk\n \tand item.i_manager_id = 1 \t\n \tand dt.d_moy=11\n \tand dt.d_year=2000\n group by \tdt.d_year\n \t\t,item.i_category_id\n \t\t,item.i_category\n order by sum(ss_ext_sales_price) desc,dt.d_year\n \t\t,item.i_category_id\n \t\t,item.i_category\n limit 100;\n\n-- end query 42 in stream 0 using template query42.tpl", "useLegacySql": false, "useQueryCache": false, "writeDisposition": "WRITE_TRUNCATE" } }, "etag": "P9HyDLS5r1jpH2rdv1IfOg==", "id": "test-project-364309:europe-west1.query42_1665777453", "jobReference": { "jobId": "query42_1665777453", "location": "europe-west1", "projectId": "test-project-364309" }, "kind": "bigquery#job", "principal_subject": "user:jesuispotatos@gmail.com", "selfLink": "https://bigquery.googleapis.com/bigquery/v2/projects/test-project-364309/jobs/query42_1665777453?location=europe-west1", "statistics": { "creationTime": "1665777453657", "endTime": "1665777454184", "finalExecutionDurationMs": "293", "query": { "billingTier": 1, "cacheHit": false, "estimatedBytesProcessed": "91373227", "performanceInsights": { "avgPreviousExecutionMs": "299" }, "queryPlan": [ { "completedParallelInputs": "1", "computeMsAvg": "14", "computeMsMax": "14", "computeRatioAvg": 0.08860759493670886, "computeRatioMax": 0.08860759493670886, "endMs": "1665777453828", "id": "0", "name": "S00: Input", "parallelInputs": "1", "readMsAvg": "9", "readMsMax": "9", "readRatioAvg": 0.056962025316455694, "readRatioMax": 0.056962025316455694, "recordsRead": "18000", "recordsWritten": "321", "shuffleOutputBytes": "9300", "shuffleOutputBytesSpilled": "0", "slotMs": "44", "startMs": "1665777453786", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$10:i_item_sk, $11:i_category_id, $12:i_category, $13:i_manager_id", "FROM item", "WHERE equal($13, 1)" ] }, { "kind": "WRITE", "substeps": [ "$10, $11, $12", "TO __stage00_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.006329113924050633, "waitRatioMax": 0.006329113924050633, "writeMsAvg": "11", "writeMsMax": "11", "writeRatioAvg": 0.06962025316455696, "writeRatioMax": 0.06962025316455696 }, { "completedParallelInputs": "1", "computeMsAvg": "12", "computeMsMax": "12", "computeRatioAvg": 0.0759493670886076, "computeRatioMax": 0.0759493670886076, "endMs": "1665777453864", "id": "2", "name": "S02: Input", "parallelInputs": "1", "readMsAvg": "7", "readMsMax": "7", "readRatioAvg": 0.04430379746835443, "readRatioMax": 0.04430379746835443, "recordsRead": "73049", "recordsWritten": "30", "shuffleOutputBytes": "540", "shuffleOutputBytesSpilled": "0", "slotMs": "37", "startMs": "1665777453822", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$20:d_date_sk, $21:d_year, $22:d_moy", "FROM date_dim", "WHERE and(equal($22, 11), equal($21, 2000))" ] }, { "kind": "WRITE", "substeps": [ "$20, $21", "TO __stage02_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.006329113924050633, "waitRatioMax": 0.006329113924050633, "writeMsAvg": "14", "writeMsMax": "14", "writeRatioAvg": 0.08860759493670886, "writeRatioMax": 0.08860759493670886 }, { "completedParallelInputs": "6", "computeMsAvg": "130", "computeMsMax": "158", "computeRatioAvg": 0.8227848101265823, "computeRatioMax": 1, "endMs": "1665777453993", "id": "3", "inputStages": [ "2", "0" ], "name": "S03: Join+", "parallelInputs": "6", "readMsAvg": "16", "readMsMax": "20", "readRatioAvg": 0.10126582278481013, "readRatioMax": 0.12658227848101267, "recordsRead": "2882510", "recordsWritten": "60", "shuffleOutputBytes": "2754", "shuffleOutputBytesSpilled": "0", "slotMs": "739", "startMs": "1665777453876", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$1:ss_sold_date_sk, $2:ss_item_sk, $3:ss_ext_sales_price", "FROM store_sales" ] }, { "kind": "READ", "substeps": [ "$20, $21", "FROM __stage02_output" ] }, { "kind": "READ", "substeps": [ "$10, $11, $12", "FROM __stage00_output" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $70 := $61, $71 := $62, $72 := $63", "$40 := SUM($60)" ] }, { "kind": "JOIN", "substeps": [ "$60 := $52, $61 := $50, $62 := $11, $63 := $12", "INNER HASH JOIN EACH WITH ALL ON $51 = $10" ] }, { "kind": "JOIN", "substeps": [ "$51 := $2, $52 := $3, $50 := $21", "INNER HASH JOIN EACH WITH ALL ON $1 = $20" ] }, { "kind": "WRITE", "substeps": [ "$71, $72, $70, $40", "TO __stage03_output", "BY HASH($70, $71, $72)" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.006329113924050633, "waitRatioMax": 0.006329113924050633, "writeMsAvg": "4", "writeMsMax": "4", "writeRatioAvg": 0.02531645569620253, "writeRatioMax": 0.02531645569620253 }, { "completedParallelInputs": "1", "computeMsAvg": "5", "computeMsMax": "5", "computeRatioAvg": 0.03164556962025317, "computeRatioMax": 0.03164556962025317, "endMs": "1665777454006", "id": "4", "inputStages": [ "3" ], "name": "S04: Sort+", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "60", "recordsWritten": "10", "shuffleOutputBytes": "459", "shuffleOutputBytesSpilled": "0", "slotMs": "10", "startMs": "1665777453996", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$71, $72, $70, $40", "FROM __stage03_output" ] }, { "kind": "SORT", "substeps": [ "$30 DESC, $80 ASC, $81 ASC, $82 ASC", "LIMIT 100" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $80 := $70, $81 := $71, $82 := $72", "$30 := SUM($40)" ] }, { "kind": "WRITE", "substeps": [ "$90, $91, $92, $93", "TO __stage04_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.006329113924050633, "waitRatioMax": 0.006329113924050633, "writeMsAvg": "1", "writeMsMax": "1", "writeRatioAvg": 0.006329113924050633, "writeRatioMax": 0.006329113924050633 }, { "completedParallelInputs": "1", "computeMsAvg": "12", "computeMsMax": "12", "computeRatioAvg": 0.0759493670886076, "computeRatioMax": 0.0759493670886076, "endMs": "1665777454048", "id": "5", "inputStages": [ "4" ], "name": "S05: Output", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "10", "recordsWritten": "10", "shuffleOutputBytes": "459", "shuffleOutputBytesSpilled": "0", "slotMs": "33", "startMs": "1665777454013", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$90, $91, $92, $93", "FROM __stage04_output" ] }, { "kind": "SORT", "substeps": [ "$93 DESC, $92 ASC, $90 ASC, $91 ASC", "LIMIT 100" ] }, { "kind": "WRITE", "substeps": [ "$100, $101, $102, $103", "TO __stage05_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.006329113924050633, "waitRatioMax": 0.006329113924050633, "writeMsAvg": "27", "writeMsMax": "27", "writeRatioAvg": 0.17088607594936708, "writeRatioMax": 0.17088607594936708 } ], "referencedTables": [ { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "store_sales" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "item" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "date_dim" } ], "statementType": "SELECT", "timeline": [ { "completedUnits": "10", "elapsedMs": "432", "estimatedRunnableUnits": "0", "pendingUnits": "0", "totalSlotMs": "966" } ], "totalBytesBilled": "92274688", "totalBytesProcessed": "91373227", "totalPartitionsProcessed": "0", "totalSlotMs": "966", "transferredBytes": "0" }, "startTime": "1665777453699", "totalBytesProcessed": "91373227", "totalSlotMs": "966" }, "status": { "state": "DONE" }, "user_email": "jesuispotatos@gmail.com" }
{ "configuration": { "jobType": "QUERY", "query": { "defaultDataset": { "datasetId": "call_center", "projectId": "test-project-364309" }, "destinationTable": { "datasetId": "_a0aa936c5cea243efb3c6dc011c66cfad39bfcb7", "projectId": "test-project-364309", "tableId": "anond65d3822_b5ee_4ece_a073_6c219792b11b" }, "priority": "INTERACTIVE", "query": "-- start query 42 in stream 0 using template query42.tpl\nselect dt.d_year\n \t,item.i_category_id\n \t,item.i_category\n \t,sum(ss_ext_sales_price)\n from \tdate_dim dt\n \t,store_sales\n \t,item\n where dt.d_date_sk = store_sales.ss_sold_date_sk\n \tand store_sales.ss_item_sk = item.i_item_sk\n \tand item.i_manager_id = 1 \t\n \tand dt.d_moy=11\n \tand dt.d_year=2000\n group by \tdt.d_year\n \t\t,item.i_category_id\n \t\t,item.i_category\n order by sum(ss_ext_sales_price) desc,dt.d_year\n \t\t,item.i_category_id\n \t\t,item.i_category\n limit 100;\n\n-- end query 42 in stream 0 using template query42.tpl", "useLegacySql": false, "useQueryCache": false, "writeDisposition": "WRITE_TRUNCATE" } }, "etag": "vR1QrFZKzWwJmE0K8ihvfw==", "id": "test-project-364309:europe-west1.query42_1665777455", "jobReference": { "jobId": "query42_1665777455", "location": "europe-west1", "projectId": "test-project-364309" }, "kind": "bigquery#job", "principal_subject": "user:jesuispotatos@gmail.com", "selfLink": "https://bigquery.googleapis.com/bigquery/v2/projects/test-project-364309/jobs/query42_1665777455?location=europe-west1", "statistics": { "creationTime": "1665777455864", "endTime": "1665777456359", "finalExecutionDurationMs": "270", "query": { "billingTier": 1, "cacheHit": false, "estimatedBytesProcessed": "91373227", "performanceInsights": { "avgPreviousExecutionMs": "298" }, "queryPlan": [ { "completedParallelInputs": "1", "computeMsAvg": "13", "computeMsMax": "13", "computeRatioAvg": 0.104, "computeRatioMax": 0.104, "endMs": "1665777456078", "id": "0", "name": "S00: Input", "parallelInputs": "1", "readMsAvg": "6", "readMsMax": "6", "readRatioAvg": 0.048, "readRatioMax": 0.048, "recordsRead": "18000", "recordsWritten": "321", "shuffleOutputBytes": "9300", "shuffleOutputBytesSpilled": "0", "slotMs": "31", "startMs": "1665777456038", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$10:i_item_sk, $11:i_category_id, $12:i_category, $13:i_manager_id", "FROM item", "WHERE equal($13, 1)" ] }, { "kind": "WRITE", "substeps": [ "$10, $11, $12", "TO __stage00_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.008, "waitRatioMax": 0.008, "writeMsAvg": "15", "writeMsMax": "15", "writeRatioAvg": 0.12, "writeRatioMax": 0.12 }, { "completedParallelInputs": "1", "computeMsAvg": "9", "computeMsMax": "9", "computeRatioAvg": 0.072, "computeRatioMax": 0.072, "endMs": "1665777456110", "id": "2", "name": "S02: Input", "parallelInputs": "1", "readMsAvg": "5", "readMsMax": "5", "readRatioAvg": 0.04, "readRatioMax": 0.04, "recordsRead": "73049", "recordsWritten": "30", "shuffleOutputBytes": "540", "shuffleOutputBytesSpilled": "0", "slotMs": "33", "startMs": "1665777456071", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$20:d_date_sk, $21:d_year, $22:d_moy", "FROM date_dim", "WHERE and(equal($22, 11), equal($21, 2000))" ] }, { "kind": "WRITE", "substeps": [ "$20, $21", "TO __stage02_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.008, "waitRatioMax": 0.008, "writeMsAvg": "14", "writeMsMax": "14", "writeRatioAvg": 0.112, "writeRatioMax": 0.112 }, { "completedParallelInputs": "6", "computeMsAvg": "102", "computeMsMax": "125", "computeRatioAvg": 0.816, "computeRatioMax": 1, "endMs": "1665777456217", "id": "3", "inputStages": [ "2", "0" ], "name": "S03: Join+", "parallelInputs": "6", "readMsAvg": "14", "readMsMax": "16", "readRatioAvg": 0.112, "readRatioMax": 0.128, "recordsRead": "2882510", "recordsWritten": "60", "shuffleOutputBytes": "2754", "shuffleOutputBytesSpilled": "0", "slotMs": "603", "startMs": "1665777456122", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$1:ss_sold_date_sk, $2:ss_item_sk, $3:ss_ext_sales_price", "FROM store_sales" ] }, { "kind": "READ", "substeps": [ "$20, $21", "FROM __stage02_output" ] }, { "kind": "READ", "substeps": [ "$10, $11, $12", "FROM __stage00_output" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $70 := $61, $71 := $62, $72 := $63", "$40 := SUM($60)" ] }, { "kind": "JOIN", "substeps": [ "$60 := $52, $61 := $50, $62 := $11, $63 := $12", "INNER HASH JOIN EACH WITH ALL ON $51 = $10" ] }, { "kind": "JOIN", "substeps": [ "$51 := $2, $52 := $3, $50 := $21", "INNER HASH JOIN EACH WITH ALL ON $1 = $20" ] }, { "kind": "WRITE", "substeps": [ "$71, $72, $70, $40", "TO __stage03_output", "BY HASH($70, $71, $72)" ] } ], "waitMsAvg": "1", "waitMsMax": "2", "waitRatioAvg": 0.008, "waitRatioMax": 0.016, "writeMsAvg": "4", "writeMsMax": "5", "writeRatioAvg": 0.032, "writeRatioMax": 0.04 }, { "completedParallelInputs": "1", "computeMsAvg": "7", "computeMsMax": "7", "computeRatioAvg": 0.056, "computeRatioMax": 0.056, "endMs": "1665777456236", "id": "4", "inputStages": [ "3" ], "name": "S04: Sort+", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "60", "recordsWritten": "10", "shuffleOutputBytes": "459", "shuffleOutputBytesSpilled": "0", "slotMs": "12", "startMs": "1665777456225", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$71, $72, $70, $40", "FROM __stage03_output" ] }, { "kind": "SORT", "substeps": [ "$30 DESC, $80 ASC, $81 ASC, $82 ASC", "LIMIT 100" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $80 := $70, $81 := $71, $82 := $72", "$30 := SUM($40)" ] }, { "kind": "WRITE", "substeps": [ "$90, $91, $92, $93", "TO __stage04_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.008, "waitRatioMax": 0.008, "writeMsAvg": "1", "writeMsMax": "1", "writeRatioAvg": 0.008, "writeRatioMax": 0.008 }, { "completedParallelInputs": "1", "computeMsAvg": "8", "computeMsMax": "8", "computeRatioAvg": 0.064, "computeRatioMax": 0.064, "endMs": "1665777456272", "id": "5", "inputStages": [ "4" ], "name": "S05: Output", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "10", "recordsWritten": "10", "shuffleOutputBytes": "459", "shuffleOutputBytesSpilled": "0", "slotMs": "31", "startMs": "1665777456239", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$90, $91, $92, $93", "FROM __stage04_output" ] }, { "kind": "SORT", "substeps": [ "$93 DESC, $92 ASC, $90 ASC, $91 ASC", "LIMIT 100" ] }, { "kind": "WRITE", "substeps": [ "$100, $101, $102, $103", "TO __stage05_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.008, "waitRatioMax": 0.008, "writeMsAvg": "15", "writeMsMax": "15", "writeRatioAvg": 0.12, "writeRatioMax": 0.12 } ], "referencedTables": [ { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "date_dim" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "store_sales" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "item" } ], "statementType": "SELECT", "timeline": [ { "completedUnits": "10", "elapsedMs": "366", "estimatedRunnableUnits": "0", "pendingUnits": "0", "totalSlotMs": "712" } ], "totalBytesBilled": "92274688", "totalBytesProcessed": "91373227", "totalPartitionsProcessed": "0", "totalSlotMs": "712", "transferredBytes": "0" }, "startTime": "1665777455935", "totalBytesProcessed": "91373227", "totalSlotMs": "712" }, "status": { "state": "DONE" }, "user_email": "jesuispotatos@gmail.com" }
{ "configuration": { "jobType": "QUERY", "query": { "defaultDataset": { "datasetId": "call_center", "projectId": "test-project-364309" }, "destinationTable": { "datasetId": "_a0aa936c5cea243efb3c6dc011c66cfad39bfcb7", "projectId": "test-project-364309", "tableId": "anon21397d46_5d3a_408d_84ab_94d9d6a4c750" }, "priority": "INTERACTIVE", "query": "-- start query 42 in stream 0 using template query42.tpl\nselect dt.d_year\n \t,item.i_category_id\n \t,item.i_category\n \t,sum(ss_ext_sales_price)\n from \tdate_dim dt\n \t,store_sales\n \t,item\n where dt.d_date_sk = store_sales.ss_sold_date_sk\n \tand store_sales.ss_item_sk = item.i_item_sk\n \tand item.i_manager_id = 1 \t\n \tand dt.d_moy=11\n \tand dt.d_year=2000\n group by \tdt.d_year\n \t\t,item.i_category_id\n \t\t,item.i_category\n order by sum(ss_ext_sales_price) desc,dt.d_year\n \t\t,item.i_category_id\n \t\t,item.i_category\n limit 100;\n\n-- end query 42 in stream 0 using template query42.tpl", "useLegacySql": false, "useQueryCache": false, "writeDisposition": "WRITE_TRUNCATE" } }, "etag": "sy42nGHcLP3l7iK/Iky5LQ==", "id": "test-project-364309:europe-west1.query42_1665777457", "jobReference": { "jobId": "query42_1665777457", "location": "europe-west1", "projectId": "test-project-364309" }, "kind": "bigquery#job", "principal_subject": "user:jesuispotatos@gmail.com", "selfLink": "https://bigquery.googleapis.com/bigquery/v2/projects/test-project-364309/jobs/query42_1665777457?location=europe-west1", "statistics": { "creationTime": "1665777458378", "endTime": "1665777458917", "finalExecutionDurationMs": "350", "query": { "billingTier": 1, "cacheHit": false, "estimatedBytesProcessed": "91373227", "performanceInsights": { "avgPreviousExecutionMs": "295" }, "queryPlan": [ { "completedParallelInputs": "1", "computeMsAvg": "13", "computeMsMax": "13", "computeRatioAvg": 0.08280254777070063, "computeRatioMax": 0.08280254777070063, "endMs": "1665777458562", "id": "0", "name": "S00: Input", "parallelInputs": "1", "readMsAvg": "6", "readMsMax": "6", "readRatioAvg": 0.03821656050955414, "readRatioMax": 0.03821656050955414, "recordsRead": "18000", "recordsWritten": "321", "shuffleOutputBytes": "9300", "shuffleOutputBytesSpilled": "0", "slotMs": "42", "startMs": "1665777458518", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$10:i_item_sk, $11:i_category_id, $12:i_category, $13:i_manager_id", "FROM item", "WHERE equal($13, 1)" ] }, { "kind": "WRITE", "substeps": [ "$10, $11, $12", "TO __stage00_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.006369426751592357, "waitRatioMax": 0.006369426751592357, "writeMsAvg": "15", "writeMsMax": "15", "writeRatioAvg": 0.09554140127388536, "writeRatioMax": 0.09554140127388536 }, { "completedParallelInputs": "1", "computeMsAvg": "11", "computeMsMax": "11", "computeRatioAvg": 0.07006369426751592, "computeRatioMax": 0.07006369426751592, "endMs": "1665777458642", "id": "2", "name": "S02: Input", "parallelInputs": "1", "readMsAvg": "7", "readMsMax": "7", "readRatioAvg": 0.044585987261146494, "readRatioMax": 0.044585987261146494, "recordsRead": "73049", "recordsWritten": "30", "shuffleOutputBytes": "540", "shuffleOutputBytesSpilled": "0", "slotMs": "72", "startMs": "1665777458559", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$20:d_date_sk, $21:d_year, $22:d_moy", "FROM date_dim", "WHERE and(equal($22, 11), equal($21, 2000))" ] }, { "kind": "WRITE", "substeps": [ "$20, $21", "TO __stage02_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.006369426751592357, "waitRatioMax": 0.006369426751592357, "writeMsAvg": "67", "writeMsMax": "67", "writeRatioAvg": 0.4267515923566879, "writeRatioMax": 0.4267515923566879 }, { "completedParallelInputs": "6", "computeMsAvg": "121", "computeMsMax": "157", "computeRatioAvg": 0.7707006369426752, "computeRatioMax": 1, "endMs": "1665777458764", "id": "3", "inputStages": [ "2", "0" ], "name": "S03: Join+", "parallelInputs": "6", "readMsAvg": "13", "readMsMax": "16", "readRatioAvg": 0.08280254777070063, "readRatioMax": 0.10191082802547771, "recordsRead": "2882510", "recordsWritten": "60", "shuffleOutputBytes": "2754", "shuffleOutputBytesSpilled": "0", "slotMs": "677", "startMs": "1665777458655", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$1:ss_sold_date_sk, $2:ss_item_sk, $3:ss_ext_sales_price", "FROM store_sales" ] }, { "kind": "READ", "substeps": [ "$20, $21", "FROM __stage02_output" ] }, { "kind": "READ", "substeps": [ "$10, $11, $12", "FROM __stage00_output" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $70 := $61, $71 := $62, $72 := $63", "$40 := SUM($60)" ] }, { "kind": "JOIN", "substeps": [ "$60 := $52, $61 := $50, $62 := $11, $63 := $12", "INNER HASH JOIN EACH WITH ALL ON $51 = $10" ] }, { "kind": "JOIN", "substeps": [ "$51 := $2, $52 := $3, $50 := $21", "INNER HASH JOIN EACH WITH ALL ON $1 = $20" ] }, { "kind": "WRITE", "substeps": [ "$71, $72, $70, $40", "TO __stage03_output", "BY HASH($70, $71, $72)" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.006369426751592357, "waitRatioMax": 0.006369426751592357, "writeMsAvg": "4", "writeMsMax": "5", "writeRatioAvg": 0.025477707006369428, "writeRatioMax": 0.03184713375796178 }, { "completedParallelInputs": "1", "computeMsAvg": "7", "computeMsMax": "7", "computeRatioAvg": 0.044585987261146494, "computeRatioMax": 0.044585987261146494, "endMs": "1665777458786", "id": "4", "inputStages": [ "3" ], "name": "S04: Sort+", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "60", "recordsWritten": "10", "shuffleOutputBytes": "459", "shuffleOutputBytesSpilled": "0", "slotMs": "13", "startMs": "1665777458773", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$71, $72, $70, $40", "FROM __stage03_output" ] }, { "kind": "SORT", "substeps": [ "$30 DESC, $80 ASC, $81 ASC, $82 ASC", "LIMIT 100" ] }, { "kind": "AGGREGATE", "substeps": [ "GROUP BY $80 := $70, $81 := $71, $82 := $72", "$30 := SUM($40)" ] }, { "kind": "WRITE", "substeps": [ "$90, $91, $92, $93", "TO __stage04_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.006369426751592357, "waitRatioMax": 0.006369426751592357, "writeMsAvg": "1", "writeMsMax": "1", "writeRatioAvg": 0.006369426751592357, "writeRatioMax": 0.006369426751592357 }, { "completedParallelInputs": "1", "computeMsAvg": "17", "computeMsMax": "17", "computeRatioAvg": 0.10828025477707007, "computeRatioMax": 0.10828025477707007, "endMs": "1665777458835", "id": "5", "inputStages": [ "4" ], "name": "S05: Output", "parallelInputs": "1", "readMsAvg": "0", "readMsMax": "0", "readRatioAvg": 0, "readRatioMax": 0, "recordsRead": "10", "recordsWritten": "10", "shuffleOutputBytes": "459", "shuffleOutputBytesSpilled": "0", "slotMs": "46", "startMs": "1665777458792", "status": "COMPLETE", "steps": [ { "kind": "READ", "substeps": [ "$90, $91, $92, $93", "FROM __stage04_output" ] }, { "kind": "SORT", "substeps": [ "$93 DESC, $92 ASC, $90 ASC, $91 ASC", "LIMIT 100" ] }, { "kind": "WRITE", "substeps": [ "$100, $101, $102, $103", "TO __stage05_output" ] } ], "waitMsAvg": "1", "waitMsMax": "1", "waitRatioAvg": 0.006369426751592357, "waitRatioMax": 0.006369426751592357, "writeMsAvg": "18", "writeMsMax": "18", "writeRatioAvg": 0.11464968152866242, "writeRatioMax": 0.11464968152866242 } ], "referencedTables": [ { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "store_sales" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "item" }, { "datasetId": "call_center", "projectId": "test-project-364309", "tableId": "date_dim" } ], "statementType": "SELECT", "timeline": [ { "completedUnits": "10", "elapsedMs": "440", "estimatedRunnableUnits": "0", "pendingUnits": "0", "totalSlotMs": "1068" } ], "totalBytesBilled": "92274688", "totalBytesProcessed": "91373227", "totalPartitionsProcessed": "0", "totalSlotMs": "1068", "transferredBytes": "0" }, "startTime": "1665777458423", "totalBytesProcessed": "91373227", "totalSlotMs": "1068" }, "status": { "state": "DONE" }, "user_email": "jesuispotatos@gmail.com" }
